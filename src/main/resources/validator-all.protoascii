# DEPRECATED: This value is no longer updated.
min_validator_revision_required: 475

# DEPRECATED: This value is no longer updated.
spec_file_revision: 1188

styles_spec_url: "https://amp.dev/documentation/guides-and-tutorials/develop/style_and_layout/style_pages/"
script_spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/validation-workflow/validation_errors/#custom-javascript-is-not-allowed"

# Validator extensions.
# =====================
# In addition to the rules in this file, the Validator honors the rules
# in the extensions/*/validator-*.protoascii files. This makes it
# easy to organize the rules for extensions next to their Javascript
# implementation.
# Please read how the rules in this file works:
# https://github.com/ampproject/amphtml/blob/fc447110e86db57e4391bf5c50de8dd2bf75e18f/docs/component-validator-rules.md

# Rules for AMP HTML
# https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml

doc: {
  html_format: AMP4EMAIL
  max_bytes: 200000
  max_bytes_spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/email-spec/amp-email-format/?format=email"
}

tags: {
  html_format: AMP
  html_format: AMP4EMAIL
  tag_name: "!DOCTYPE"
  spec_name: "html doctype"
  descriptive_name: "html !doctype"
  mandatory_parent: "$ROOT"
  mandatory: true
  unique: true
  explicit_attrs_only: true
  attrs: {
    name: "html"
    mandatory: true
    value: ""
  }
  # `lang` is not supported per spec but is allowed because it has been observed
  # on existing AMP documents.
  attrs: {
    name: "lang"
    deprecation: "html"
    deprecation_url: "https://github.com/ampproject/amphtml/issues/25926"
  }
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#required-markup"
}
# AMP4ADS may need time to transition <!doctype> to using explicit attrs only.
# Tracking in b/123227526 to merge into tagspec with spec name "html doctype".
tags: {
  html_format: AMP4ADS
  tag_name: "!DOCTYPE"
  spec_name: "html doctype (AMP4ADS)"
  descriptive_name: "html !doctype"
  mandatory_parent: "$ROOT"
  mandatory: true
  unique: true
  attrs: {
    name: "html"
    mandatory: true
    value: ""
  }
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#required-markup"
}

# Below, we list the allowed elements in the order in which they are appear
# in the spec in section 4 "The Elements of HTML"
# (http://www.w3.org/TR/html5/single-page#html-elements).

# 4.1 The root element
# 4.1.1 The html element
tags: {  # HTML tag for non-transformed AMP.
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  disabled_by: "transformed"
  tag_name: "HTML"
  mandatory: true
  mandatory_parent: "!DOCTYPE"
  unique: true
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#required-markup"
}
tags: {  # HTML tag for transformed AMP.
  html_format: AMP
  enabled_by: "transformed"
  tag_name: "HTML"
  spec_name: "html (transformed)"
  mandatory: true
  mandatory_parent: "!DOCTYPE"
  unique: true
  attrs: {
    name: "i-amphtml-layout"
    value: ""
  }
  attrs: {
    name: "i-amphtml-no-boilerplate"
    value: ""
  }
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#required-markup"
}

# 4.2 Document metadata
# 4.2.1 The head element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "HEAD"
  mandatory: true
  mandatory_parent: "HTML"
  unique: true
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#required-markup"
}
# 4.2.2 The title element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "TITLE"
  spec_name: "title"
  attrs: { name: "[text]" }
}
tags: {
  html_format: AMP4EMAIL
  tag_name: "TITLE"
  spec_name: "title [AMP4EMAIL]"
  attrs: { name: "[text]" }
  deprecation: "Title tags in email have no meaning. This tag may become invalid in the future."
  deprecation_url: "https://github.com/ampproject/amphtml/issues/22318"
}

# 4.2.3 the base element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "BASE"
  unique: true
  mandatory_parent: "HEAD"
  # We only allow "/" right now because other value can cause havoc with PWA
  # implementations. In the future, it may be possible to widen this to any
  # absolute URL.
  attrs: {
    name: "href"
    value: "/"
  }
  attrs: {
    name: "target"
    value_casei: "_blank"
    value_casei: "_self"
    value_casei: "_top"
  }
}
# Disallowed.
# 4.2.4 the link element
attr_lists: {
  name: "common-link-attrs"
  attrs: { name: "charset" value_casei: "utf-8" }
  attrs: { name: "color" }
  attrs: { name: "crossorigin" }
  attrs: { name: "hreflang" }
  attrs: { name: "media" }
  attrs: { name: "sizes" }
  attrs: { name: "target" }
  attrs: { name: "type" }
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "LINK"
  spec_name: "link rel="
  disallowed_ancestor: "TEMPLATE"
  attrs: { name: "href" }
  attrs: {
    name: "rel"
    mandatory: true
    # There are a wide variety of link rel attribute values used in the wild as
    # this attribute is used as meta-data for any html client such as search
    # engines. Unfortunately, there are also a number of attribute values which
    # have behavioral impacts in modern browsers. A few places where these are
    # loosely documented include:
    # - http://microformats.org/wiki/existing-rel-values
    # - http://www.iana.org/assignments/link-relations/link-relations.xhtml
    # - https://html.spec.whatwg.org/#linkTypes
    # We denylist a few specific values which have browser behavior that could
    # negatively impact performance.
    # TODO(gregable): This could be improved such that the error message would
    # report which value in a list is the one causing problems.
    disallowed_value_regex: "(^|\\s)("  # Values are space separated.
        "canonical|"  # Handled separately below, has specific requirements.
        "components|"
        "import|"
        "manifest|"  # Handled separately below, has specific requirements.
        "modulepreload|"  # Handled separately below, has specific requirements.
        "preload|"  # Handled separately below, has specific requirements.
        "serviceworker|"
        "stylesheet|"  # Handled separately below, has specific requirements.
        "subresource"
        ")(\\s|$)"
    # It is worth noting that user-authored tags for dns-prefectch, preconnect,
    # prefetch, and prerender will be disabled by the transformations applied
    # in the AMP Cache. Therefore, these hints will only be used on publisher
    # origins, not on the AMP Cache.
  }
  attr_lists: "common-link-attrs"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#html-tags"
}
tags: {
  html_format: AMP
  tag_name: "LINK"
  spec_name: "link rel=canonical"
  descriptive_name: "link rel=canonical"
  mandatory_parent: "HEAD"
  mandatory: true
  unique: true
  attrs: {
    name: "href"
    mandatory: true
    value_url: {
      protocol: "http"
      protocol: "https"
    }
    disallowed_value_regex: "__amp_source_origin"
  }
  attrs: {
    name: "rel"
    value_casei: "canonical"
    mandatory: true
    dispatch_key: NAME_VALUE_DISPATCH
  }
  attr_lists: "common-link-attrs"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#required-markup"
}
# Allow <link rel="manifest" ...> but not <link rel="manifest foo" ...>
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "LINK"
  spec_name: "link rel=manifest"
  descriptive_name: "link rel=manifest"
  mandatory_parent: "HEAD"
  satisfies: "amp-app-banner data source"
  attrs: {
    name: "href"
    mandatory: true
    value_url: {
      protocol: "https"
    }
    disallowed_value_regex: "__amp_source_origin"
  }
  attrs: {
    name: "rel"
    value_casei: "manifest"
    mandatory: true
    dispatch_key: NAME_VALUE_DISPATCH
  }
  attr_lists: "common-link-attrs"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#html-tags"
}
tags: {
  html_format: AMP
  tag_name: "LINK"
  spec_name: "link rel=modulepreload"
  descriptive_name: "link rel=modulepreload"
  mandatory_parent: "HEAD"
  attrs: {
    name: "as"
    mandatory: true
    value: "script"
  }
  attrs: {
    name: "crossorigin"
    mandatory: true
    value: "anonymous"
  }
  attrs: {
    name: "href"
    mandatory: true
    value_regex: ".*\\.mjs$"
  }
  attrs: {
    name: "rel"
    mandatory: true
    value_casei: "modulepreload"
    dispatch_key: NAME_VALUE_DISPATCH
  }
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#html-tags"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "LINK"
  spec_name: "link rel=preload"
  descriptive_name: "link rel=preload"
  disallowed_ancestor: "TEMPLATE"
  attrs: { name: "as" }
  attrs: { name: "href" }
  attrs: {
    name: "rel"
    mandatory: true
    value_casei: "preload"
    dispatch_key: NAME_VALUE_DISPATCH
  }
  attrs: {
    name: "imagesrcset"
    value_url: {
      protocol: "http"
      protocol: "https"
    }
    disallowed_value_regex: "__amp_source_origin"
  }
  attrs: { name: "imagesizes" }
  attr_lists: "common-link-attrs"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#html-tags"
}
# Allowlisted CSS provider
tags: {
  html_format: AMP
  enabled_by: "transformed"
  tag_name: "LINK"
  spec_name: "link rel=stylesheet for amp-story-1.0 css"
  descriptive_name: "link rel=stylesheet for amp-story-1.0 css"
  mandatory_parent: "HEAD"
  attr_lists: "nonce-attr"
  attrs: { name: "crossorigin" }  # SRI attribute (https://www.w3.org/TR/SRI/)
  attrs: {
    name: "href"
    mandatory: true
    value: "https://cdn.ampproject.org/v0/amp-story-1.0.css"
    value: "https://cdn.ampproject.org/lts/v0/amp-story-1.0.css"
  }
  attrs: { name: "integrity" }  # SRI attribute (https://www.w3.org/TR/SRI/)
  attrs: { name: "media" }
  attrs: {
    name: "rel"
    mandatory: true
    value_casei: "stylesheet"
    dispatch_key: NAME_VALUE_DISPATCH
  }
  attrs: {
    name: "type"
    value_casei: "text/css"
  }
  attrs: {
    name: "amp-extension"
    mandatory: true
    value_casei: "amp-story"
  }
}
# Allowlisted font providers
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "LINK"
  spec_name: "link rel=stylesheet for fonts"
  descriptive_name: "link rel=stylesheet for fonts"
  named_id: LINK_FONT_STYLESHEET
  mandatory_parent: "HEAD"
  attr_lists: "nonce-attr"
  attrs: { name: "async" }
  attrs: { name: "crossorigin" }  # SRI attribute (https://www.w3.org/TR/SRI/)
  attrs: {
    name: "href"
    mandatory: true
    value_regex: "https://cdn\\.materialdesignicons\\.com/"
                 "([0-9]+\\.?)+/css/materialdesignicons\\.min\\.css|"
                 "https://cloud\\.typography\\.com/"
                 "[0-9]*/[0-9]*/css/fonts\\.css|"
                 "https://fast\\.fonts\\.net/.*|"
                 "https://fonts\\.googleapis\\.com/css2?\\?.*|"
                 "https://fonts\\.googleapis\\.com/icon\\?.*|"
                 "https://fonts\\.googleapis\\.com/earlyaccess/.*\\.css|"
                 "https://maxcdn\\.bootstrapcdn\\.com/font-awesome/"
                 "([0-9]+\\.?)+/css/font-awesome\\.min\\.css(\\?.*)?|"
                 "https://(use|pro|kit)\\.fontawesome\\.com/releases/v([0-9]+\\.?)+"
                 "/css/[0-9a-zA-Z-]+\\.css|"
                 "https://(use|pro|kit)\\.fontawesome\\.com/[0-9a-zA-Z-]+\\.css|"
                 "https://use\\.typekit\\.net/[\\w\\p{L}\\p{N}_]+\\.css"
  }
  attrs: { name: "integrity" }  # SRI attribute (https://www.w3.org/TR/SRI/)
  attrs: { name: "media" }
  attrs: {
    name: "rel"
    mandatory: true
    value_casei: "stylesheet"
    dispatch_key: NAME_VALUE_DISPATCH
  }
  attrs: {
    name: "type"
    value_casei: "text/css"
  }
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#custom-fonts"
}
# itemprop=sameAs is allowed per schema.org, needs not be in head
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "LINK"
  spec_name: "link itemprop=sameAs"
  descriptive_name: "link itemprop=sameAs"
  attrs: {
    name: "href"
    mandatory: true
  }
  attrs: {
    name: "itemprop"
    mandatory: true
    value_casei: "sameas"
    dispatch_key: NAME_VALUE_DISPATCH
  }
  attr_lists: "common-link-attrs"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#html-tags"
}
# rel= isn't mandatory when itemprop= is present.
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "LINK"
  spec_name: "link itemprop="
  descriptive_name: "link itemprop="
  attrs: {
    name: "href"
    mandatory: true
  }
  attrs: {
    name: "itemprop"
    mandatory: true
  }
  attr_lists: "common-link-attrs"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#html-tags"
}
# rel= isn't mandatory when property= is present.
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "LINK"
  spec_name: "link property="
  descriptive_name: "link property="
  attrs: {
    name: "href"
    mandatory: true
  }
  attrs: {
    name: "property"
    mandatory: true
  }
  attr_lists: "common-link-attrs"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#html-tags"
}
# 4.2.5 the meta element
# Charset must be utf8, and a specific viewport is required.
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "META"
  spec_name: "meta charset=utf-8"
  descriptive_name: "meta charset=utf-8"
  mandatory: true
  mandatory_parent: "HEAD"
  unique: true
  attrs: {
    dispatch_key: NAME_DISPATCH
    name: "charset"
    mandatory: true
    value_casei: "utf-8"
  }
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#required-markup"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "META"
  spec_name: "meta name=viewport"
  descriptive_name: "meta name=viewport"
  mandatory: true
  mandatory_parent: "HEAD"
  unique: true
  attrs: {
    name: "content"
    mandatory: true
    value_properties: {
      properties: { name: "width" mandatory: true value: "device-width" }
      properties: { name: "height" }
      properties: { name: "initial-scale" }
      properties: { name: "minimum-scale" }
      properties: { name: "maximum-scale" }
      properties: { name: "shrink-to-fit" }
      properties: { name: "user-scalable" }
      properties: { name: "viewport-fit" }
    }
  }
  attrs: {
    name: "name"
    mandatory: true
    value: "viewport"
    dispatch_key: NAME_VALUE_DISPATCH
  }
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#required-markup"
}
# This tag is a hack to tell IE 10 to use its modern rendering engine as opposed
# to the IE8 engine. So it's explicitly allowed.
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "META"
  spec_name: "meta http-equiv=X-UA-Compatible"
  descriptive_name: "meta http-equiv=X-UA-Compatible"
  mandatory_ancestor: "HEAD"
  attrs: {
    name: "content"
    mandatory: true
    value_properties: {
      properties: { name: "ie" value: "edge" }
      properties: { name: "chrome" value: "1" }
    }
  }
  attrs: {
    name: "http-equiv"
    mandatory: true
    value_casei: "x-ua-compatible"
    dispatch_key: NAME_VALUE_DISPATCH
  }
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#html-tags"
}
# Tag specific to apple-itunes-app installs, see also <amp-app-banner>.
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "META"
  spec_name: "meta name=apple-itunes-app"
  mandatory_parent: "HEAD"
  satisfies: "amp-app-banner data source"
  attrs: {
    name: "content"
    mandatory: true
    value_regex: ".*app-id=.*"
  }
  attrs: {
    name: "name"
    value_casei: "apple-itunes-app"
    mandatory: true
    dispatch_key: NAME_VALUE_DISPATCH
  }

  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#html-tags"
}
# AMP & AMP4ADS metadata, name=amp-experiments-opt-in
# https://github.com/ampproject/amphtml/blob/main/tools/experiments/README.md
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "META"
  spec_name: "meta name=amp-experiments-opt-in"
  mandatory_parent: "HEAD"
  attrs: {
    name: "content"
    mandatory: true
  }
  attrs: {
    name: "name"
    mandatory: true
    value_casei: "amp-experiments-opt-in"
    dispatch_key: NAME_VALUE_DISPATCH
  }
}
# AMP metadata, name=amp-3p-iframe-src
tags: {
  html_format: AMP
  tag_name: "META"
  spec_name: "meta name=amp-3p-iframe-src"
  mandatory_parent: "HEAD"
  attrs: {
    name: "content"
    mandatory: true
    value_url: {
      protocol: "https"
    }
  }
  attrs: {
    name: "name"
    mandatory: true
    value_casei: "amp-3p-iframe-src"
    dispatch_key: NAME_VALUE_DISPATCH
  }
  spec_url: "https://amp.dev/documentation/components/amp-ad/"
}
# AMP metadata, name=amp-consent-blocking
tags: {
  html_format: AMP
  tag_name: "META"
  spec_name: "meta name=amp-consent-blocking"
  mandatory_parent: "HEAD"
  satisfies: "meta name=amp-consent-blocking"
  unique: true
  attrs: {
    name: "content"
    mandatory: true
  }
  attrs: {
    name: "name"
    mandatory: true
    value_casei: "amp-consent-blocking"
    dispatch_key: NAME_VALUE_DISPATCH
  }
}
# AMP metadata, name=amp-experiment-token
# Related to AMP Origin Experiments
tags: {
  html_format: AMP
  tag_name: "META"
  spec_name: "meta name=amp-experiment-token"
  mandatory_parent: "HEAD"
  attrs: {
    name: "content"
    mandatory: true
  }
  attrs: {
    name: "name"
    mandatory: true
    value_casei: "amp-experiment-token"
    dispatch_key: NAME_VALUE_DISPATCH
  }
  # Disabled because there are no active origin experiments; uncomment when
  # there is at least one corresponding `requires` clause.
  # satisfies: "amp-experiment-token"
}
# AMP metadata, name=amp-link-variable-allowed-origin
# https://github.com/ampproject/amphtml/issues/8132
tags: {
  html_format: AMP
  tag_name: "META"
  spec_name: "meta name=amp-link-variable-allowed-origin"
  mandatory_parent: "HEAD"
  attrs: {
    name: "content"
    mandatory: true
  }
  attrs: {
    name: "name"
    mandatory: true
    value_casei: "amp-link-variable-allowed-origin"
    dispatch_key: NAME_VALUE_DISPATCH
  }
}
# AMP metadata, name=amp-google-client-id-api
tags: {
  html_format: AMP
  tag_name: "META"
  spec_name: "meta name=amp-google-clientid-id-api"
  mandatory_parent: "HEAD"
  attrs: {
    name: "content"
    mandatory: true
  }
  attrs: {
    name: "name"
    mandatory: true
    value_casei: "amp-google-client-id-api"
    dispatch_key: NAME_VALUE_DISPATCH
  }
}
# AMP metadata, name=amp-ad-doubleclick-sra
# Enables SRA for amp-ad doubleclick Fast Fetch
tags: {
  html_format: AMP
  tag_name: "META"
  spec_name: "meta name=amp-ad-doubleclick-sra"
  mandatory_parent: "HEAD"
  attrs: {
    name: "name"
    mandatory: true
    value_casei: "amp-ad-doubleclick-sra"
    dispatch_key: NAME_VALUE_DISPATCH
  }
}
# AMP metadata, name=amp-list-load-more
tags: {
  html_format: AMP
  tag_name: "META"
  spec_name: "meta name=amp-list-load-more"
  mandatory_parent: "HEAD"
  attrs: {
    name: "content"
    mandatory: true
  }
  attrs: {
    name: "name"
    mandatory: true
    value_casei: "amp-list-load-more"
    dispatch_key: NAME_VALUE_DISPATCH
  }
}
# AMP metadata, name=amp-recaptcha-input
tags: {
  html_format: AMP
  tag_name: "META"
  spec_name: "meta name=amp-recaptcha-input"
  mandatory_parent: "HEAD"
  attrs: {
    name: "content"
    mandatory: true
  }
  attrs: {
    name: "name"
    mandatory: true
    value_casei: "amp-recaptcha-input"
    dispatch_key: NAME_VALUE_DISPATCH
  }
}
# AMP metadata, name=amp-script-src
tags: {
  html_format: AMP
  tag_name: "META"
  spec_name: "meta name=amp-script-src"
  mandatory_parent: "HEAD"
  attrs: {
    name: "content"
    mandatory: true
  }
  attrs: {
    name: "name"
    mandatory: true
    value_casei: "amp-script-src"
    dispatch_key: NAME_VALUE_DISPATCH
  }
}
# AMP4ADS metadata, name=amp4ads-id
# https://github.com/ampproject/amphtml/issues/7730
tags: {
  html_format: AMP4ADS
  tag_name: "META"
  spec_name: "meta name=amp4ads-id"
  mandatory_parent: "HEAD"
  attrs: {
    name: "content"
    mandatory: true
  }
  attrs: {
    name: "name"
    mandatory: true
    value_casei: "amp4ads-id"
    dispatch_key: NAME_VALUE_DISPATCH
  }
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "META"
  spec_name: "meta name= and content="
  attrs: { name: "content" }
  attrs: { name: "itemprop" }  # itemprop is non-standard, but commonly seen.
  # The validator accepts any name="..." attribute values except
  # for a few specific name values which have more specific rules above or
  # are altogether disallowed.
  attrs: {
    name: "name"
    disallowed_value_regex: "(^|\\s)("
        "amp-.*|"
        "amp4ads-.*|"
        "apple-itunes-app|"
        "content-disposition|"
        "revisit-after|"
        "viewport"
        ")(\\s|$)"
  }
  attrs: { name: "media" } # For varying theme-color.
  attrs: { name: "property" }  # property is non-standard, but commonly seen.
  # scheme is used by Dublin Core, see issue #13993
  attrs: { name: "scheme" }
}
# This is redundant with meta charset, but also harmless as long as it's
# set to utf-8.
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "META"
  spec_name: "meta http-equiv=Content-Type"
  mandatory_ancestor: "HEAD"
  attrs: {
    name: "content"
    mandatory: true
    value_casei: "text/html; charset=utf-8"
  }
  attrs: {
    name: "http-equiv"
    mandatory: true
    value_casei: "content-type"
    dispatch_key: NAME_VALUE_DISPATCH
  }
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#html-tags"
}
# http-equiv content-language tag
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "META"
  spec_name: "meta http-equiv=content-language"
  mandatory_ancestor: "HEAD"
  attrs: {
    name: "content"
    mandatory: true
  }
  attrs: {
    name: "http-equiv"
    mandatory: true
    value_casei: "content-language"
    dispatch_key: NAME_VALUE_DISPATCH
  }
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#html-tags"
}
# http-equiv pics-label tag
# https://www.w3.org/PICS/
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "META"
  spec_name: "meta http-equiv=pics-label"
  mandatory_ancestor: "HEAD"
  attrs: {
    name: "content"
    mandatory: true
  }
  attrs: {
    name: "http-equiv"
    mandatory: true
    value_casei: "pics-label"
    dispatch_key: NAME_VALUE_DISPATCH
  }
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#html-tags"
}
# http-equiv imagetoolbar tag
# https://msdn.microsoft.com/en-us/library/ms532986(v=vs.85).aspx
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "META"
  spec_name: "meta http-equiv=imagetoolbar"
  mandatory_ancestor: "HEAD"
  attrs: {
    name: "content"
    mandatory: true
  }
  attrs: {
    name: "http-equiv"
    mandatory: true
    value_casei: "imagetoolbar"
    dispatch_key: NAME_VALUE_DISPATCH
  }
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#html-tags"
}
# http-equiv content-style-type
# https://www.w3.org/TR/REC-html40/present/styles#h-14.2.1
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "META"
  spec_name: "meta http-equiv=Content-Style-Type"
  mandatory_ancestor: "HEAD"
  attrs: {
    name: "content"
    mandatory: true
    value_casei: "text/css"
  }
  attrs: {
    name: "http-equiv"
    mandatory: true
    value_casei: "content-style-type"
    dispatch_key: NAME_VALUE_DISPATCH
  }
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#html-tags"
}
# http-equiv content-script-type
# https://www.w3.org/TR/html4/interact/scripts#h-18.2.2.1
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "META"
  spec_name: "meta http-equiv=Content-Script-Type"
  mandatory_ancestor: "HEAD"
  attrs: {
    name: "content"
    mandatory: true
    value_casei: "text/javascript"
  }
  attrs: {
    name: "http-equiv"
    mandatory: true
    value_casei: "content-script-type"
    dispatch_key: NAME_VALUE_DISPATCH
  }
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#html-tags"
}
# http-equiv origin-trial tag
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "META"
  spec_name: "meta http-equiv=origin-trial"
  mandatory_ancestor: "HEAD"
  attrs: {
    name: "content"
    mandatory: true
  }
  attrs: {
    name: "http-equiv"
    mandatory: true
    value_casei: "origin-trial"
    dispatch_key: NAME_VALUE_DISPATCH
  }
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#html-tags"
}
# http-equiv resource-type
# http://www.metatags.info/meta_http_equiv_resource_type
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "META"
  spec_name: "meta http-equiv=resource-type"
  mandatory_ancestor: "HEAD"
  attrs: {
    name: "content"
    mandatory: true
  }
  attrs: {
    name: "http-equiv"
    mandatory: true
    value_casei: "resource-type"
    dispatch_key: NAME_VALUE_DISPATCH
  }
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#html-tags"
}
# http-equiv x-dns-prefetch-control
# https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-DNS-Prefetch-Control
tags: {
  html_format: AMP
  tag_name: "META"
  spec_name: "meta http-equiv=x-dns-prefetch-control"
  mandatory_ancestor: "HEAD"
  attrs: {
    name: "content"
    mandatory: true
    value_casei: "off"
    value_casei: "on"
  }
  attrs: {
    name: "http-equiv"
    mandatory: true
    value_casei: "x-dns-prefetch-control"
    dispatch_key: NAME_VALUE_DISPATCH
  }
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#html-tags"
}
# AMP metadata, name=amp-ad-enable-refresh
# Enables Refresh for amp-ad doubleclick Fast Fetch
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "META"
  spec_name: "meta name=amp-ad-enable-refresh"
  mandatory_ancestor: "HEAD"
  attrs: {
    name: "content"
    mandatory: true
  }
  attrs: {
    name: "name"
    mandatory: true
    value_casei: "amp-ad-enable-refresh"
    dispatch_key: NAME_VALUE_DISPATCH
  }
}
# AMP metadata, name=amp-to-amp-navigation
# Enables AMP-to-AMP navigation
tags: {
  html_format: AMP
  tag_name: "META"
  spec_name: "meta name=amp-to-amp-navigation"
  mandatory_parent: "HEAD"
  unique: true
  attrs: {
    name: "content"
    mandatory: true
  }
  attrs: {
    name: "name"
    mandatory: true
    value_casei: "amp-to-amp-navigation"
    dispatch_key: NAME_VALUE_DISPATCH
  }
}
# AMP metadata, name=amp-cta-type
# Specifies the Single Page Story Ad call to action enum
tags: {
  html_format: AMP4ADS
  tag_name: "META"
  spec_name: "meta name=amp-cta-type"
  mandatory_parent: "HEAD"
  unique: true
  attrs: {
    name: "content"
    mandatory: true
  }
  attrs: {
    name: "name"
    mandatory: true
    value_casei: "amp-cta-type"
    dispatch_key: NAME_VALUE_DISPATCH
  }
}
# AMP metadata, name=amp-cta-url
# Specifies the Single Page Story Ad call to action outlink
tags: {
  html_format: AMP4ADS
  tag_name: "META"
  spec_name: "meta name=amp-cta-url"
  mandatory_parent: "HEAD"
  unique: true
  attrs: {
    name: "content"
    mandatory: true
  }
  attrs: {
    name: "name"
    mandatory: true
    value_casei: "amp-cta-url"
    dispatch_key: NAME_VALUE_DISPATCH
  }
}
# AMP metadata, name=amp-cta-landing-page-type
# Specifies the Single Page Story Ad landing page type
tags: {
  html_format: AMP4ADS
  tag_name: "META"
  spec_name: "meta name=amp-cta-landing-page-type"
  mandatory_parent: "HEAD"
  unique: true
  attrs: {
    name: "content"
    mandatory: true
    value_casei: "amp"
    value_casei: "nonamp"
    value_casei: "story"
  }
  attrs: {
    name: "name"
    mandatory: true
    value_casei: "amp-cta-landing-page-type"
    dispatch_key: NAME_VALUE_DISPATCH
  }
}
# AMP metadata, name=amp4ads-vars-*
# Allows advertisers to pass information from creatives
# to be included in amp-ad-metadata.
tags: {
  html_format: AMP4ADS
  tag_name: "META"
  spec_name: "meta name=amp4ads-vars-*"
  mandatory_parent: "HEAD"
  attrs: {
    name: "content"
    mandatory: true
  }
  attrs: {
    name: "name"
    mandatory: true
    value_regex: "amp4ads-vars-.+"
  }
}
# 4.2.6 The style
# See `validator-css.protoascii`.

# 4.3 Sections
# 4.3.1 The body element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "BODY"
  mandatory: true
  unique: true
  mandatory_parent: "HTML"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#required-markup"
}
# 4.3.2 The article element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "ARTICLE"
}
# 4.3.3 The section element
attr_lists: {
  name: "poool-access-attrs"
  attrs: {
    name: "poool-access-preview"
    requires_extension: "amp-access-poool"
  }
  attrs: {
    name: "poool-access-content"
    requires_extension: "amp-access-poool"
  }
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "SECTION"
  disallowed_ancestor: "AMP-ACCORDION"
  attr_lists: "poool-access-attrs"
}
tags: {
  html_format: AMP4EMAIL
  tag_name: "SECTION"
  spec_name: "section (AMP4EMAIL)"
  disallowed_ancestor: "AMP-ACCORDION"
}
# 4.3.4 The nav element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "NAV"
}
# 4.3.5 The aside element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "ASIDE"
}
# 4.3.6 The h1, h2, h3, h4, h5, and h6 elements
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "H1"
  attrs: { name: "align" }
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "H2"
  attrs: { name: "align" }
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "H3"
  attrs: { name: "align" }
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "H4"
  attrs: { name: "align" }
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "H5"
  attrs: { name: "align" }
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "H6"
  attrs: { name: "align" }
}
# 4.3 7 The header element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "HEADER"
}
# 4.3 7 The footer element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "FOOTER"
}
# 4.3 7 The address element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "ADDRESS"
}

# 4.4 Grouping Content
# 4.4.1 The p element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "P"
  attrs: { name: "align" }
}
# 4.4.2 The hr element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "HR"
}
# 4.4.3 The pre element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "PRE"
}
# 4.4.4 The blockquote element
attr_lists: {
  name: "cite-attr"
  attrs: {
    name: "cite"
    value_url: {
      protocol: "http"
      protocol: "https"
      allow_empty: true
    }
    disallowed_value_regex: "__amp_source_origin"
  }
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "BLOCKQUOTE"
  attrs: { name: "align" }
  attr_lists: "cite-attr"
}
# 4.4.5 The ol element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "OL"
  attrs: {
    name: "reversed"
    value: ""
  }
  attrs: {
    name: "start"
    value_regex: "[0-9]*"
  }
  attrs: {
    name: "type"
    value_regex: "[1AaIi]"
  }
}
# 4.4.6 The ul element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "UL"
}
# 4.4.7 The li element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "LI"
  attrs: {
    name: "value"
    value_regex: "[0-9]*"
  }
}
# 4.4.8 The dl element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "DL"
}
# 4.4.9 The dt element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "DT"
}
# 4.4.10 The dd element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "DD"
}
# 4.4.11 The figure element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "FIGURE"
}
# 4.4.12 The figcaption element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "FIGCAPTION"
}
# 4.4.13 The div element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "DIV"
  attrs: { name: "align" }
}
# 4.4.14 The main element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "MAIN"
}

# 4.5 Text-level semantics
# 4.5.1 The a element
attr_lists: {
  # https://github.com/ampproject/amphtml/issues/35067
  name: "click-attributions"
  attrs: { name: "attributiondestination" }
  attrs: { name: "attributionexpiry" }
  attrs: { name: "attributionreportto" }
  attrs: { name: "attributionsourceeventid" }
  attrs: { name: "attributionsourceid" }
  attrs: { name: "conversiondestination" }
  attrs: { name: "impressiondata" }
  attrs: { name: "impressionexpiry" }
  attrs: { name: "reportingorigin" }
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "A"
  attrs: { name: "border" }  # Not valid html5 but commonly used and supported.
  attrs: { name: "download" }
  attrs: {
    name: "href"
    value_url: {
      # When updating this list, make sure to also update bind-validator.js.
      protocol: "ftp"
      protocol: "geo"
      protocol: "http"
      protocol: "https"
      protocol: "mailto"
      protocol: "maps"
      # Allowlisting additional commonly observed third party
      # protocols which should be safe.
      # BiP Messenger
      protocol: "bip"
      # Blackberry messenger
      # (http://devblog.blackberry.com/2015/02/cross-platform-sharing-with-bbm/)
      protocol: "bbmi"
      protocol: "chrome"
      # IOS over-the-air app installation
      # (https://github.com/nifcblm/AHPP-iOS-App/wiki/How-to-distribute-enterprise-iOS-App)
      protocol: "itms-services"
      protocol: "facetime"
      protocol: "fb-me"
      protocol: "fb-messenger"
      protocol: "feed"
      protocol: "intent"
      # Line messenger (https://media.line.me/howto/en/)
      protocol: "line"
      # (https://docs.microsoft.com/en-us/windows/uwp/launch-resume/launch-default-app#microsoft-edge-uri-scheme)
      protocol: "microsoft-edge"
      protocol: "skype"
      protocol: "sms"
      protocol: "snapchat"
      protocol: "tel"
      protocol: "tg"
      protocol: "threema"
      protocol: "twitter"
      protocol: "viber"
      protocol: "webcal"
      protocol: "web+mastodon"  # See GitHub issue #14793
      protocol: "wh"
      protocol: "whatsapp"
      allow_empty: true
    }
    disallowed_value_regex: "__amp_source_origin"
  }
  attrs: { name: "hreflang" }
  attrs: { name: "media" }
  attrs: { name: "referrerpolicy" }
  attrs: {
    name: "rel"
    # There are a wide variety of link rel attribute values used in the wild as
    # this attribute is used as meta-data for any html client such as search
    # engines. Unfortunately, there are also a number of attribute values which
    # have behavioral impacts in modern browsers. A few places where these are
    # loosely documented include:
    # - http://microformats.org/wiki/existing-rel-values
    # - http://www.iana.org/assignments/link-relations/link-relations.xhtml
    # - https://html.spec.whatwg.org/#linkTypes
    # We denylist a few specific values which have browser behavior that could
    # negatively impact performance.
    # TODO(gregable): This could be improved such that the error message would
    # report which value in a list is the one causing problems.
    disallowed_value_regex: "(^|\\s)("  # Values are space separated.
        "components|"
        "dns-prefetch|"
        "import|"
        "manifest|"
        "preconnect|"
        "prefetch|"
        "preload|"
        "prerender|"
        "serviceworker|"
        "stylesheet|"  # Only allowed for link tags, specific req's for AMP.
        "subresource"
        ")(\\s|$)"
  }
  attrs: {
    name: "role"
    implicit: true
  }
  attrs: {
    name: "show-tooltip"
    value: "auto"
    value: "true"
  }
  attrs: {
    name: "tabindex"
    implicit: true
  }
  attrs: {
    name: "target"
    value: "_blank"
    value: "_self"
    value: "_top"
  }
  attrs: {
    name: "type"
    value_casei: "text/html"
    value_casei: "application/rss+xml"
  }
  attr_lists: "click-attributions"
  attr_lists: "name-attr"
  attr_lists: "private-click-measurement-attributes"
  # <amp-bind>
  attrs: { name: "[href]" }
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#links"
}
# AMP4EMAIL restricts the use of mustache delimiters in href. The only allowed
# protocols for href are http, https and mailto. Relative urls are disallowed.
tags: {
  html_format: AMP4EMAIL
  tag_name: "A"
  spec_name: "A (AMP4EMAIL)"
  attrs: { name: "border" }  # Not valid html5 but commonly used and supported.
  attrs: {
    name: "href"
    value_url: {
      protocol: "http"
      protocol: "https"
      protocol: "mailto"
      protocol: "tel"
      allow_relative: false
    }
    # Openning doubly curly brackets {{ (these are mustache delimiters) can only
    # appear at the beginnig of the attribute's value. Likewise closing doubly
    # curly brackets }} can only appear at the end of the attribute's value.
    # Furthermore unbalanced delimiters are not allowed.
    # Additionally section mustache delimiters, i.e., {{#, {{^, {{/ are
    # disallowed.
    disallowed_value_regex: "__amp_source_origin|"
        "(.|\\s){{|"    # Openning delimiter can only appear at the beginning.
        "}}(.|\\s)|"    # Closing delimiter can only appear at the end.
        "^{{.*[^}][^}]$|"    # Delimiters must be balanced.
        "^[^{][^{].*}}$|"    # Delimiters must be balanced.
        "^}}|"    # Also caught by the requirements on balanced delimiters.
        "{{$|"    # Also caught by the requirements on balanced delimiters.
        "{{#|"    # Section delimiters are disallowed.
        "{{/|"    # Section delimiters are disallowed.
        "{{\\^"   # Section delimiters are disallowed.
  }
  attrs: { name: "hreflang" }
  # TODO(gregable): Specify the set of allowed media queries.
  attrs: { name: "media" }
  attrs: {
    name: "role"
    implicit: true
  }
  attrs: {
    name: "tabindex"
    implicit: true
  }
  attrs: {
    name: "target"
    value: "_blank"
  }
  attrs: {
    name: "type"
    value_casei: "text/html"
  }
}
# Private Click Measurement attributes for anchor tags.
# See https://github.com/ampproject/amphtml/issues/35067
attr_lists {
  name: "private-click-measurement-attributes"
  attrs: { name: "attributiondestination" }
  attrs: { name: "attributionexpiry" }
  attrs: { name: "attributionreportto" }
  attrs: { name: "attributionsourceeventid" }
  attrs: { name: "attributionsourceid" }
  attrs: { name: "conversiondestination" }
  attrs: { name: "impressiondata" }
  attrs: { name: "impressionexpiry" }
  attrs: { name: "reportingorigin" }
}

# 4.5.2 The em element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "EM"
}
# 4.5.3 The strong element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "STRONG"
}
# 4.5.4 The small element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "SMALL"
}
# 4.5.5 The s element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "S"
}
# 4.5.6 The cite element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "CITE"
}
# 4.5.7 The q element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "Q"
  attr_lists: "cite-attr"
}
# 4.5.8 The dfn element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "DFN"
}
# 4.5.9 The abbr element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "ABBR"
}
# 4.5.10 The data element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "DATA"
}
# 4.5.11 The time element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "TIME"
  attrs: {
    name: "datetime"
  }
  attrs: {
    name: "pubdate"
    value: ""
  }
}
# 4.5.12 The code element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "CODE"
}
# 4.5.13 The var element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "VAR"
}
# 4.5.14 The samp element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "SAMP"
}
# 4.5.15 The kbd element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "KBD"
}
# 4.5.16 The sub and sup elements
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "SUB"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "SUP"
}
# 4.5.17 The i element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "I"
}
# 4.5.18 The b element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "B"
}
# 4.5.19 The u element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "U"
}
# 4.5.20 The mark element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "MARK"
}
# 4.5.21 The ruby element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "RUBY"
}
# 4.5.22 The rb element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "RB"
}
# 4.5.23 The rt element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "RT"
}
# 4.5.24 The rtc element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "RTC"
}
# 4.5.25 The rp element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "RP"
}
# 4.5.26 The bdi element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "BDI"
}
# 4.5.27 The bdo element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "BDO"
  attrs: { name: "dir" }
}
# 4.5.28 The span element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "SPAN"
}
# 4.5.29 The br element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "BR"
}
# 4.5.30 The wbr element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "WBR"
}

# 4.6 Edits
# 4.6.1 The ins element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "INS"
  # https://developer.mozilla.org/en-US/docs/Web/HTML/Element/ins
  # These attributes have specific formatting, but as they are metadata
  # that can't hurt performance, rendering or security, we don't validate
  # the values.
  attrs { name: "datetime" }
  attr_lists: "cite-attr"
}
# 4.6.2 The del element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "DEL"
  # https://developer.mozilla.org/en-US/docs/Web/HTML/Element/del
  # These attributes have specific formatting, but as they are metadata
  # that can't hurt performance, rendering or security, we don't validate
  # the values.
  attrs { name: "datetime" }
  attr_lists: "cite-attr"
}

# 4.7 Embedded Content
# AMP HTML allows embedded content only via its own tags (e.g. amp-img), with
# the exception of tags inside of a <noscript> or <amp-story-player> ancestor
# and transformed amp-img.
# 4.7.1 The img element
attr_lists: {
  name: "img-attrs"
  attrs: {
    name: "align"
    value_casei: "top"
    value_casei: "middle"
    value_casei: "bottom"
    value_casei: "left"
    value_casei: "right"
  }
  attrs: { name: "alt" }
  attrs: { name: "border" }
  attrs: {
    name: "crossorigin"
    value_casei: "anonymous"
    value_casei: "use-credentials"
  }
  attrs: { name: "height" }
  attrs: { name: "hspace" }
  # https://developers.google.com/web/updates/2019/02/priority-hints
  attrs: {
    name: "importance"
    value_casei: "high"
    value_casei: "low"
    value_casei: "auto"
  }
  attrs: { name: "ismap" }
  attrs: {
    name: "loading"
    value_casei: "lazy"
  }  # Not yet part of the html spec
  attrs: { name: "name" }
  attrs: {
    name: "referrerpolicy"
    value_casei: "no-referrer"
    value_casei: "no-referrer-when-downgrade"
    value_casei: "origin"
    value_casei: "origin-when-cross-origin"
    value_casei: "same-origin"
    value_casei: "strict-origin"
    value_casei: "strict-origin-when-cross-origin"
    value_casei: "unsafe-url"
  }
  attrs: { name: "usemap" }
  attrs: { name: "vspace" }
  attrs: { name: "width" }
}
tags: {
  html_format: AMP
  tag_name: "IMG"
  spec_name: "Standard Img"
  descriptive_name: "img"
  disallowed_ancestor: "AMP-IMG"
  disallowed_ancestor: "AMP-STORY"
  attrs: {
    name: "decoding"
    value_casei: "async"
  }
  attr_lists: "img-attrs"
  attr_lists: "mandatory-src-or-srcset"
}
tags: {
  html_format: AMP
  tag_name: "IMG"
  spec_name: "Hero Img"
  descriptive_name: "img"
  disallowed_ancestor: "AMP-IMG"
  disallowed_ancestor: "AMP-STORY"
  attrs: {
    name: "data-hero"
    mandatory: true
    dispatch_key: NAME_DISPATCH
  }
  attrs: {
    name: "decoding"
    value_casei: "async"
  }
  attrs: {
    name: "sizes"
  }
  attr_lists: "img-attrs"
  attr_lists: "mandatory-src-or-srcset"
}
tags: {
  html_format: AMP
  tag_name: "IMG"
  spec_name: "Img using srcset"
  descriptive_name: "img"
  disallowed_ancestor: "AMP-IMG"
  disallowed_ancestor: "AMP-STORY"
  attrs: {
    name: "decoding"
    value_casei: "async"
  }
  attrs: {
    name: "sizes"
  }
  attr_lists: "img-attrs"
  attr_lists: "mandatory-src-or-srcset"
}
tags: {
  html_format: AMP
  tag_name: "IMAGE"
  spec_name: "Standard Image"
  descriptive_name: "img"
  disallowed_ancestor: "AMP-IMG"
  disallowed_ancestor: "AMP-STORY"
  attrs: {
    name: "decoding"
    value_casei: "async"
  }
  attr_lists: "img-attrs"
  attr_lists: "mandatory-src-or-srcset"
}
tags: {
  html_format: AMP
  tag_name: "IMAGE"
  spec_name: "Hero Image"
  descriptive_name: "img"
  disallowed_ancestor: "AMP-IMG"
  disallowed_ancestor: "AMP-STORY"
  attrs: {
    name: "data-hero"
    mandatory: true
    dispatch_key: NAME_DISPATCH
  }
  attrs: {
    name: "decoding"
    value_casei: "async"
  }
  attrs: {
    name: "sizes"
  }
  attr_lists: "img-attrs"
  attr_lists: "mandatory-src-or-srcset"
}
tags: {
  html_format: AMP
  tag_name: "IMAGE"
  spec_name: "Image using srcset"
  disallowed_ancestor: "AMP-IMG"
  disallowed_ancestor: "AMP-STORY"
  descriptive_name: "img"
  attrs: {
    name: "decoding"
    value_casei: "async"
  }
  attr_lists: "img-attrs"
  attr_lists: "mandatory-src-or-srcset"
  attrs: {
    name: "sizes"
  }
}
tags: {
  html_format: AMP  # Disallowed in AMP4ADS because <noscript> is disallowed.
  tag_name: "IMG"
  spec_name: "noscript > img"
  descriptive_name: "img"
  mandatory_ancestor: "NOSCRIPT"
  mandatory_ancestor_suggested_alternative: "AMP-IMG"
  attrs: { name: "attribution" }
  attrs: {
    name: "decoding"
    value_casei: "async"
    value_casei: "auto"
    value_casei: "sync"
  }
  attrs: { name: "intrinsicsize" }  # Not yet part of the html spec
  attrs: { name: "sizes" }
  attr_lists: "img-attrs"
  attr_lists: "mandatory-src-or-srcset"
  spec_url: "https://amp.dev/documentation/components/amp-img/"
}
# 4.7.2 The iframe element
tags: {
  html_format: AMP  # Disallowed in AMP4ADS because <noscript> is disallowed.
  tag_name: "IFRAME"
  mandatory_ancestor: "NOSCRIPT"
  mandatory_ancestor_suggested_alternative: "AMP-IFRAME"
  spec_url: "https://amp.dev/documentation/components/amp-iframe/"
  attrs: {
    name: "frameborder"
    value: "0"
    value: "1"
  }
  attrs: { name: "height" }
  attrs: { name: "referrerpolicy" }
  attrs: {
    name: "resizable"
    value: ""
  }
  attrs: {
    name: "sandbox"
  }
  attrs: {
    name: "scrolling"
    value: "auto"
    value: "yes"
    value: "no"
  }
  attrs: {
    name: "src"
    mandatory_oneof: "['src', 'srcdoc']"
    value_url: {
      protocol: "data"
      protocol: "https"
      allow_relative: false
    }
    disallowed_value_regex: "__amp_source_origin"
  }
  attrs: {
    name: "srcdoc"
    mandatory_oneof: "['src', 'srcdoc']"
  }
  attrs: {
    name: "width"
  }
  attr_lists: "name-attr"
}
# 4.7.6 The video element
# Only allowed in noscript tags. Otherwise use amp-video.
tags: {
  html_format: AMP  # Disallowed in AMP4ADS because <noscript> is disallowed.
  tag_name: "VIDEO"
  mandatory_ancestor: "NOSCRIPT"
  mandatory_ancestor_suggested_alternative: "AMP-VIDEO"
  attrs: { name: "autoplay" }
  attrs: { name: "controls" }
  attrs: { name: "height" }
  attrs: { name: "loop" }
  attrs: {
    name: "muted"
    deprecation: "autoplay"
    deprecation_url: "https://amp.dev/documentation/components/amp-video/"
  }
  attrs: { name: "playsinline" }
  attrs: { name: "poster" }
  attrs: { name: "preload" }
  attrs: {
    name: "src"
    value_url: {
      protocol: "data"
      protocol: "https"
      allow_relative: false
    }
    disallowed_value_regex: "__amp_source_origin"
  }
  attrs: { name: "width" }
  spec_url: "https://amp.dev/documentation/components/amp-video/"
}
# 4.7.7 The audio element
# Allowed in noscript tags and inside amp-audio for server side rendering.
tags: {
  html_format: AMP  # Disallowed in AMP4ADS because <noscript> is disallowed.
  tag_name: "AUDIO"
  mandatory_ancestor: "NOSCRIPT"
  mandatory_ancestor_suggested_alternative: "AMP-AUDIO"
  attrs: { name: "autoplay" }
  attrs: { name: "controls" }
  attrs: { name: "loop" }
  attrs: { name: "muted" }
  attrs: { name: "preload" }
  attrs: {
    name: "src"
    value_url: {
      protocol: "data"
      protocol: "https"
      allow_relative: false
    }
    disallowed_value_regex: "__amp_source_origin"
  }
  spec_url: "https://amp.dev/documentation/components/amp-audio/"
}
tags: {
  html_format: AMP  # Disallowed in AMP4ADS because <noscript> is disallowed.
  tag_name: "AUDIO"
  mandatory_ancestor: "AMP-AUDIO"
  spec_name: "amp-audio > audio"
  attrs: { name: "controls" }
  spec_url: "https://amp.dev/documentation/components/amp-audio/"
}
# 4.7.7 The picture element
# Only allowed in noscript tags which support img tags.
tags: {
  html_format: AMP
  tag_name: "PICTURE"
  mandatory_parent: "NOSCRIPT"
  spec_url: "https://amp.dev/documentation/components/amp-img/"
}
# 4.7.8 The source element
tags: {
  html_format: AMP
  tag_name: "SOURCE"
  spec_name: "picture > source"
  mandatory_parent: "PICTURE"  # PICTURE is only allowed inside NOSCRIPT
  attrs: { name: "media" }
  attrs: { name: "sizes" }
  attrs: {
    name: "srcset"
    value_url: {
      protocol: "data"
      protocol: "http"
      protocol: "https"
      allow_relative: true
    }
    disallowed_value_regex: "__amp_source_origin"
  }
  attrs: { name: "type" }
  spec_url: "https://amp.dev/documentation/components/amp-img/"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "SOURCE"
  spec_name: "amp-video > source"
  mandatory_parent: "AMP-VIDEO"
  attrs: { name: "media" }
  attrs: {
    name: "src"
    value_url: {
      protocol: "https"
      allow_relative: true  # Will be set to false at a future date.
    }
    disallowed_value_regex: "__amp_source_origin"
  }
  attrs: { name: "type" }
  # <amp-bind>
  attrs: { name: "[src]" }
  attrs: { name: "[type]" }
  spec_url: "https://amp.dev/documentation/components/amp-video/"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "SOURCE"
  spec_name: "amp-audio > source"
  mandatory_parent: "AMP-AUDIO"
  attrs: { name: "media" }
  attrs: {
    name: "src"
    value_url: {
      protocol: "https"
      allow_relative: true  # Will be set to false at a future date.
    }
    disallowed_value_regex: "__amp_source_origin"
  }
  attrs: { name: "type" }
  # <amp-bind>
  attrs: { name: "[src]" }
  attrs: { name: "[type]" }
  spec_url: "https://amp.dev/documentation/components/amp-audio/"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "SOURCE"
  spec_name: "audio > source"
  mandatory_parent: "AUDIO"
  attrs: { name: "media" }
  attrs: {
    name: "src"
    mandatory: true
    value_url: {
      protocol: "https"
      allow_relative: true  # Will be set to false at a future date.
    }
    disallowed_value_regex: "__amp_source_origin"
  }
  attrs: {
    name: "type"
    mandatory: true
  }
  spec_url: "https://amp.dev/documentation/components/amp-audio/"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "SOURCE"
  spec_name: "video > source"
  mandatory_parent: "VIDEO"
  attrs: { name: "media" }
  attrs: {
    name: "src"
    mandatory: true
    value_url: {
      protocol: "https"
      allow_relative: true  # Will be set to false at a future date.
    }
    disallowed_value_regex: "__amp_source_origin"
  }
  attrs: {
    name: "type"
    mandatory: true
  }
  spec_url: "https://amp.dev/documentation/components/amp-video/"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "SOURCE"
  spec_name: "amp-ima-video > source"
  mandatory_parent: "AMP-IMA-VIDEO"
  requires_extension: "amp-ima-video"
  attrs: { name: "media" }
  attrs: {
    name: "src"
    value_url: {
      protocol: "https"
      allow_relative: true  # Will be set to false at a future date.
    }
    disallowed_value_regex: "__amp_source_origin"
  }
  attrs: { name: "type" }
  # <amp-bind>
  attrs: { name: "[src]" }
  attrs: { name: "[type]" }
}
# 4.7.8 The track element
# We have two attr_list variants to encode the requirement that if
# the attribute kind has the value 'subtitles', then the tag must
# also have a srclang attribute. The first attr_list does not allow
# kind=subtitles, but srclang is optional. The second attr_list
# mandates kind=subtitles and srclang attributes.
attr_lists: {
  name: "track-attrs-no-subtitles"
  attrs: {
    name: "default"
    value: ""
  }
  attrs: {
    name: "kind"
    value: "captions"
    value: "chapters"
    value: "descriptions"
    value: "metadata"
  }
  attrs: { name: "label" }
  attrs: {
    name: "src"
    mandatory: true
    value_url: {
      protocol: "https"
      allow_relative: false
    }
    disallowed_value_regex: "__amp_source_origin"
  }
  attrs: { name: "srclang" }
}
attr_lists: {
  name: "track-attrs-subtitles"
  attrs: {
    name: "default"
    value: ""
  }
  attrs: {
    name: "kind"
    mandatory: true
    value_casei: "subtitles"
  }
  attrs: { name: "label" }
  attrs: {
    name: "src"
    mandatory: true
    value_url: {
      protocol: "https"
      allow_relative: false
    }
    disallowed_value_regex: "__amp_source_origin"
  }
  attrs: {
    name: "srclang"
    mandatory: true
  }
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "TRACK"
  spec_name: "audio > track"
  mandatory_parent: "AUDIO"
  attr_lists: "track-attrs-no-subtitles"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "TRACK"
  spec_name: "audio > track[kind=subtitles]"
  mandatory_parent: "AUDIO"
  attr_lists: "track-attrs-subtitles"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "TRACK"
  spec_name: "video > track"
  mandatory_parent: "VIDEO"
  attr_lists: "track-attrs-no-subtitles"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "TRACK"
  spec_name: "video > track[kind=subtitles]"
  mandatory_parent: "VIDEO"
  attr_lists: "track-attrs-subtitles"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "TRACK"
  spec_name: "amp-audio > track"
  mandatory_parent: "AMP-AUDIO"
  # <amp-bind>
  attrs: { name: "[label]" }
  attrs: { name: "[src]" }
  attrs: { name: "[srclang]" }
  attr_lists: "track-attrs-no-subtitles"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "TRACK"
  spec_name: "amp-audio > track[kind=subtitles]"
  mandatory_parent: "AMP-AUDIO"
  # <amp-bind>
  attrs: { name: "[label]" }
  attrs: { name: "[src]" }
  attrs: { name: "[srclang]" }
  attr_lists: "track-attrs-subtitles"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "TRACK"
  spec_name: "amp-video > track"
  mandatory_parent: "AMP-VIDEO"
  # <amp-bind>
  attrs: { name: "[label]" }
  attrs: { name: "[src]" }
  attrs: { name: "[srclang]" }
  attr_lists: "track-attrs-no-subtitles"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "TRACK"
  spec_name: "amp-video > track[kind=subtitles]"
  mandatory_parent: "AMP-VIDEO"
  # <amp-bind>
  attrs: { name: "[label]" }
  attrs: { name: "[src]" }
  attrs: { name: "[srclang]" }
  attr_lists: "track-attrs-subtitles"
}
tags: {
  html_format: AMP
  tag_name: "TRACK"
  spec_name: "amp-ima-video > track"
  mandatory_parent: "AMP-IMA-VIDEO"
  # <amp-bind>
  attrs: { name: "[label]" }
  attrs: { name: "[src]" }
  attrs: { name: "[srclang]" }
  attr_lists: "track-attrs-no-subtitles"
}
tags: {
  html_format: AMP
  tag_name: "TRACK"
  spec_name: "amp-ima-video > track[kind=subtitles]"
  mandatory_parent: "AMP-IMA-VIDEO"
  # <amp-bind>
  attrs: { name: "[label]" }
  attrs: { name: "[src]" }
  attrs: { name: "[srclang]" }
  attr_lists: "track-attrs-subtitles"
  spec_url: "https://amp.dev/documentation/components/amp-ima-video/"
}

# 4.7.15 SVG
# See validator-svg.protoascii.

# 4.8 Links
# Links are a concept, rather than a tag. See tagspecs for "LINK", "A", etc.

# 4.8.11 The canvas element
# See extensions/amp-mustache/validator-amp-script.protoascii

# 4.9 Tabular data
# 4.9.1 The table element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "TABLE"
  attrs: { name: "align" }  # Not valid html5 but commonly used and supported.
  attrs: { name: "bgcolor" }  # Not valid html5 but commonly used and supported.
  attrs: {  # Not valid html5 but commonly used and supported.
    name: "border"
    value: "0"
    value: "1"
  }
  attrs: { name: "cellpadding" }  # Not valid html5 but commonly used and supported.
  attrs: { name: "cellspacing" }  # Not valid html5 but commonly used and supported.
  attrs: {
    disabled_by: "amp4email"
    name: "sortable"
  }
  attrs: { name: "width" }  # Not valid html5 but commonly used and supported.
}
# 4.9.2 The caption element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "CAPTION"
}
# 4.9.3 The colgroup element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "COLGROUP"
  attrs: { name: "span" }
}
# 4.9.4 The col element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "COL"
  attrs: { name: "span" }
}
# 4.9.5 The tbody element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "TBODY"
}
# 4.9.6 The thead element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "THEAD"
}
# 4.9.7 The tfoot element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "TFOOT"
}
# 4.9.8 The tr element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "TR"
  # These attributes are not supported in HTML5, but are widely supported and
  # commonly found.
  attrs: { name: "align" }
  attrs: { name: "bgcolor" }
  attrs: { name: "height" }
  attrs: { name: "valign" }
}
# 4.9.9 The td element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "TD"
  attrs: { name: "align" }  # Not valid html5 but commonly used and supported.
  attrs: { name: "bgcolor" }  # Not valid html5 but commonly used and supported.
  attrs: { name: "colspan" }
  attrs: { name: "headers" }
  attrs: { name: "height" }  # Not valid html5 but commonly used and supported.
  attrs: { name: "rowspan" }
  attrs: { name: "valign" }  # Not valid html5 but commonly used and supported.
  attrs: { name: "width" }  # Not valid html5 but commonly used and supported.
}
# 4.9.10 The th element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "TH"
  attrs: { name: "abbr" }
  attrs: { name: "align" }  # Not valid html5 but commonly used and supported.
  attrs: { name: "bgcolor" }  # Not valid html5 but commonly used and supported.
  attrs: { name: "colspan" }
  attrs: { name: "headers" }
  attrs: { name: "height" }  # Not valid html5 but commonly used and supported.
  attrs: { name: "rowspan" }
  attrs: { name: "scope" }
  attrs: {
    disabled_by: "amp4email"
    name: "sorted"
  }
  attrs: { name: "valign" }  # Not valid html5 but commonly used and supported.
  attrs: { name: "width" }  # Not valid html5 but commonly used and supported.
}

# 4.10 Forms
# Form elements are allowed only when amp-form extension script is included
# with the exception of the button element which is always allowed.
# 4.10.3 The form element
tags {  # <form method=GET ...>
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "FORM"
  spec_name: "FORM [method=GET]"
  requires_extension: "amp-form"
  disallowed_ancestor: "AMP-APP-BANNER"
  attrs: { name: "accept" }
  attrs: { name: "accept-charset" }
  # For method=GET forms, we require `action` and allow `action-xhr`.
  attrs: {
    name: "action"
    mandatory: true
    value_url: {
      protocol: "https"
    }
    disallowed_value_regex: "__amp_source_origin"
  }
  attrs: {
    name: "action-xhr"
    value_url: {
      protocol: "https"
    }
    disallowed_value_regex: "__amp_source_origin"
  }
  attrs: { name: "autocomplete" }
  attrs: {
    name: "custom-validation-reporting"
    value: "as-you-go"
    value: "interact-and-submit"
    value: "show-all-on-submit"
    value: "show-first-on-submit"
  }
  attrs: { name: "enctype" }
  attrs: {
    name: "method"
    # Default value is GET, so if method attribute is missing,
    # it matches this tagspec.
    value_casei: "get"
  }
  attrs: { name: "novalidate" }
  attrs: {
    name: "target"
    mandatory: true
    value_casei: "_blank"
    value_casei: "_top"
  }
  attrs: {
    name: "verify-xhr"
    value_url: {
      protocol: "https"
    }
    disallowed_value_regex: "__amp_source_origin"
  }
  attrs: { name: "xssi-prefix" }
  attr_lists: "form-name-attr"
}
tags {  # <form method=POST ...>
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "FORM"
  spec_name: "FORM [method=POST]"
  requires_extension: "amp-form"
  disallowed_ancestor: "AMP-APP-BANNER"
  attrs: { name: "accept" }
  attrs: { name: "accept-charset" }
  # For method=POST forms, we require `action-xhr` and disallow `action`.
  attrs: {
    name: "action-xhr"
    mandatory: true
    value_url: {
      protocol: "https"
    }
    disallowed_value_regex: "__amp_source_origin"
  }
  attrs: { name: "autocomplete" }
  attrs: {
    name: "custom-validation-reporting"
    value: "as-you-go"
    value: "interact-and-submit"
    value: "show-all-on-submit"
    value: "show-first-on-submit"
  }
  attrs: { name: "enctype" }
  attrs: {
    name: "method"
    mandatory: true
    value_casei: "post"
    dispatch_key: NAME_VALUE_DISPATCH
  }
  attrs: { name: "novalidate" }
  # The target attribute has no effect, and should not be in POST forms.
  # However, in the past it was required, so disallowing it would break many
  # pages. See: https://github.com/ampproject/amphtml/issues/5607
  attrs: {
    name: "target"
    value_casei: "_blank"
    value_casei: "_top"
  }
  attrs: {
    name: "verify-xhr"
    value_url: {
      protocol: "https"
    }
    disallowed_value_regex: "__amp_source_origin"
  }
  attr_lists: "form-name-attr"
}
# AMP4EMAIL allows action-xhr and disallows action attribute. It also disallows
# the use of mustache templates in action-xhr. The only allowed
# protocol for action-xhr is https. Relative urls are disallowed. It also
# disallows the name attribute as the name attribute is prone to DOM clobbering.
tags {  # <form method=GET ...>
  html_format: AMP4EMAIL
  tag_name: "FORM"
  spec_name: "FORM [method=GET] (AMP4EMAIL)"
  requires_extension: "amp-form"
  attrs: { name: "accept" }
  attrs: { name: "accept-charset" }
  # AMP4EMAIL only allows 'action-xhr'.
  attrs: {
    name: "action-xhr"
    value_url: {
      protocol: "https"
      allow_relative: false
    }
    disallowed_value_regex: "__amp_source_origin|"
        "{{|}}"    # Mustache is disallowed in action-xhr.
  }
  attrs: { name: "autocomplete" }
  attrs: {
    name: "custom-validation-reporting"
    value: "as-you-go"
    value: "interact-and-submit"
    value: "show-all-on-submit"
    value: "show-first-on-submit"
  }
  attrs: { name: "enctype" }
  attrs: {
    name: "method"
    # Default value is GET, so if method attribute is missing,
    # it matches this tagspec.
    value_casei: "get"
  }
  attrs: { name: "novalidate" }
  attrs: { name: "xssi-prefix" }
}
tags {  # <form method=POST ...>
  html_format: AMP4EMAIL
  tag_name: "FORM"
  spec_name: "FORM [method=POST] (AMP4EMAIL)"
  requires_extension: "amp-form"
  attrs: { name: "accept" }
  attrs: { name: "accept-charset" }
  # For method=POST forms, we require `action-xhr` and disallow `action`.
  attrs: {
    name: "action-xhr"
    mandatory: true
    value_url: {
      protocol: "https"
      allow_relative: false
    }
    disallowed_value_regex: "__amp_source_origin|"
        "{{|}}"    # Mustache is disallowed in action-xhr.
  }
  attrs: { name: "autocomplete" }
  attrs: {
    name: "custom-validation-reporting"
    value: "as-you-go"
    value: "interact-and-submit"
    value: "show-all-on-submit"
    value: "show-first-on-submit"
  }
  attrs: { name: "enctype" }
  attrs: {
    name: "method"
    mandatory: true
    value_casei: "post"
    dispatch_key: NAME_VALUE_DISPATCH
  }
  attrs: { name: "novalidate" }
  attrs: { name: "xssi-prefix" }
}
# Will add verify state template if requested by users
tags {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "DIV"
  spec_name: "FORM DIV [verify-error]"
  mandatory_ancestor: "FORM"
  attrs: { name: "align" }
  attrs: {
    name: "verify-error"
    mandatory: true
  }
}
tags {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "DIV"
  spec_name: "FORM DIV [verify-error][template]"
  mandatory_ancestor: "FORM"
  attrs: { name: "align" }
  attrs: {
    name: "verify-error"
    mandatory: true
  }
  attrs: {
    name: "template"
    mandatory: true
  }
}
tags {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "DIV"
  spec_name: "FORM DIV [submitting]"
  mandatory_ancestor: "FORM"
  attrs: { name: "align" }
  attrs: {
    name: "submitting"
    mandatory: true
  }
}
tags {
  html_format: AMP
  html_format: AMP4ADS
  # AMP4EMAIL is omitted. There is additional latency in rendering A4E
  # templates, which reduces the time available to render the template during
  # the submitting state.
  tag_name: "DIV"
  spec_name: "FORM DIV [submitting][template]"
  mandatory_ancestor: "FORM"
  attrs: { name: "align" }
  attrs: {
    name: "submitting"
    mandatory: true
  }
  attrs: {
    name: "template"
    mandatory: true
  }
}
tags {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "DIV"
  spec_name: "FORM DIV [submit-success]"
  mandatory_ancestor: "FORM"
  attrs: { name: "align" }
  attrs: {
    name: "submit-success"
    mandatory: true
  }
}
tags {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "DIV"
  spec_name: "FORM DIV [submit-success][template]"
  mandatory_ancestor: "FORM"
  attrs: { name: "align" }
  attrs: {
    name: "submit-success"
    mandatory: true
  }
  attrs: {
    name: "template"
    mandatory: true
  }
}
tags {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "DIV"
  spec_name: "FORM DIV [submit-error]"
  mandatory_ancestor: "FORM"
  attrs: { name: "align" }
  attrs: {
    name: "submit-error"
    mandatory: true
  }
}
tags {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "DIV"
  spec_name: "FORM DIV [submit-error][template]"
  mandatory_ancestor: "FORM"
  attrs: { name: "align" }
  attrs: {
    name: "submit-error"
    mandatory: true
  }
  attrs: {
    name: "template"
    mandatory: true
  }
}
attr_lists: {
  name: "input-common-attr"
  attrs: { name: "accept" }
  attrs: { name: "accesskey" }
  attrs: { name: "autocomplete" }
  attrs: {
    disabled_by: "amp4email"
    name: "autofocus"
  }
  attrs: { name: "checked" }
  attrs: { name: "disabled" }
  attrs: { name: "height" }
  attrs: {
    disabled_by: "amp4email"
    name: "inputmode"
  }
  attrs: {
    disabled_by: "amp4email"
    name: "list"
  }
  attrs: {
    disabled_by: "amp4email"
    name: "enterkeyhint"
  }
  attrs: { name: "max" }
  attrs: { name: "maxlength" }
  attrs: { name: "min" }
  attrs: { name: "minlength" }
  attrs: { name: "multiple" }
  attrs: { name: "pattern" }
  attrs: { name: "placeholder" }
  attrs: { name: "readonly" }
  attrs: { name: "required" }
  attrs: {
    disabled_by: "amp4email"
    name: "selectiondirection"
  }
  attrs: { name: "size" }
  attrs: { name: "spellcheck" }
  attrs: { name: "step" }
  attrs: { name: "tabindex" }
  attrs: { name: "value" }
  attrs: { name: "width" }
  # <amp-bind>
  attrs: {
    disabled_by: "amp4email"
    name: "[accept]"
  }
  attrs: {
    disabled_by: "amp4email"
    name: "[accesskey]"
  }
  attrs: { name: "[autocomplete]" }
  attrs: { name: "[checked]" }
  attrs: { name: "[disabled]" }
  attrs: { name: "[height]" }
  attrs: {
    disabled_by: "amp4email"
    name: "[inputmode]"
  }
  attrs: { name: "[max]" }
  attrs: { name: "[maxlength]" }
  attrs: { name: "[min]" }
  attrs: { name: "[minlength]" }
  attrs: { name: "[multiple]" }
  attrs: { name: "[pattern]" }
  attrs: { name: "[placeholder]" }
  attrs: { name: "[readonly]" }
  attrs: { name: "[required]" }
  attrs: {
    disabled_by: "amp4email"
    name: "[selectiondirection]"
  }
  attrs: { name: "[size]" }
  attrs: { name: "[spellcheck]" }
  attrs: { name: "[step]" }
  attrs: { name: "[value]" }
  attrs: { name: "[width]" }
}
# 4.10.4 The label element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "LABEL"
  attrs: { name: "for" }
  spec_url: "https://amp.dev/documentation/components/amp-form/"
}
# 4.10.5 The input element.
# The input tag is also defined by extensions/amp-inputmask/validator-amp-inputmask.protoascii
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "INPUT"
  attrs: {
    disabled_by: "amp4email"
    name: "no-verify"
    value: ""
  }
  attrs: {
    name: "type"
    disallowed_value_regex: "(^|\\s)("  # Values are space separated.
        "file|"
        "image|"
        "password|"
        ")(\\s|$)"
  }
  attrs: {
    disabled_by: "amp4email"
    name: "[type]"
  }
  attr_lists: "input-common-attr"
  attr_lists: "name-attr"
  spec_url: "https://amp.dev/documentation/components/amp-form/"
}
tags: {
  html_format: AMP
  tag_name: "INPUT"
  spec_name: "INPUT [type=file]"
  attrs: {
    disabled_by: "amp4email"
    name: "capture"
    value: ""
  }
  attrs: {
    disabled_by: "amp4email"
    name: "no-verify"
    value: ""
  }
  attrs: {
    name: "type"
    value_casei: "file"
    mandatory: true
    dispatch_key: NAME_VALUE_DISPATCH
  }
  attrs: {
    disabled_by: "amp4email"
    name: "[type]"
  }
  attr_lists: "input-common-attr"
  attr_lists: "name-attr"
  mandatory_ancestor: "FORM [method=POST]"
  spec_url: "https://amp.dev/documentation/components/amp-form/"
}
tags: {
  html_format: AMP
  tag_name: "INPUT"
  spec_name: "INPUT [type=password]"
  attrs: {
    name: "type"
    value_casei: "password"
    mandatory: true
    dispatch_key: NAME_VALUE_DISPATCH
  }
  attrs: {
    disabled_by: "amp4email"
    name: "[type]"
  }
  attr_lists: "input-common-attr"
  attr_lists: "name-attr"
  mandatory_ancestor: "FORM [method=POST]"
  spec_url: "https://amp.dev/documentation/components/amp-form/"
}
tags: {
  html_format: AMP
  tag_name: "INPUT"
  spec_name: "INPUT [type=image]"
  attrs: {
    name: "type"
    value_casei: "image"
    mandatory: true
    dispatch_key: NAME_VALUE_DISPATCH
  }
  attrs: {
    disabled_by: "amp4email"
    name: "[type]"
  }
  attrs: {
    name: "src"
    mandatory: true
    value_url: {
      protocol: "data"
      protocol: "http"
      protocol: "https"
    }
    disallowed_value_regex: "__amp_source_origin"
  }
  attr_lists: "input-common-attr"
  attr_lists: "name-attr"
  mandatory_ancestor: "FORM [method=POST]"
  spec_url: "https://amp.dev/documentation/components/amp-form/"
}
# 4.10.6 The button element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "BUTTON"
  attrs: {
    name: "disabled"
    value: ""
  }
  attrs: {
    name: "role"
    implicit: true
  }
  attrs: {
    name: "tabindex"
    implicit: true
  }
  attrs: { name: "type" }
  attrs: { name: "value" }
  # <amp-bind>
  attrs: { name: "[disabled]" }
  attrs: {
    disabled_by: "amp4email"
    name: "[type]"
  }
  attrs: { name: "[value]" }
  attr_lists: "name-attr"
}
# Button variant specifically supporting <amp-app-banner> tag with the
# open-button attribute.
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "BUTTON"
  spec_name: "amp-app-banner button[open-button]"
  satisfies: "amp-app-banner button[open-button]"
  mandatory_ancestor: "AMP-APP-BANNER"
  attrs: {
    name: "open-button"
    value: ""
  }
  attrs: {
    name: "role"
    implicit: true
  }
  attrs: {
    name: "tabindex"
    implicit: true
  }
  attrs: { name: "type" }
  attrs: { name: "value" }
  attr_lists: "name-attr"
}
# 4.10.7 The select element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "SELECT"
  attrs: {
    disabled_by: "amp4email"
    name: "autofocus"
  }
  attrs: { name: "disabled" }
  attrs: { name: "multiple" }
  attrs: {
    disabled_by: "amp4email"
    name: "no-verify"
    value: ""
  }
  attrs: { name: "required" }
  attrs: { name: "size" }
  # <amp-bind>
  attrs: {
    disabled_by: "amp4email"
    name: "[autofocus]"
  }
  attrs: { name: "[disabled]" }
  attrs: { name: "[multiple]" }
  attrs: { name: "[required]" }
  attrs: { name: "[size]" }
  attr_lists: "name-attr"
  spec_url: "https://amp.dev/documentation/components/amp-form/"
}
# 4.10.8 The datalist element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "DATALIST"
  spec_url: "https://amp.dev/documentation/components/amp-form/"
}
# 4.10.9 The optgroup element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "OPTGROUP"
  mandatory_parent: "SELECT"
  attrs: { name: "disabled" }
  attrs: { name: "label" }
  # <amp-bind>
  attrs: { name: "[disabled]" }
  attrs: { name: "[label]" }
  spec_url: "https://amp.dev/documentation/components/amp-form/"
}
# 4.10.10 The option element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "OPTION"
  attrs: { name: "disabled" }
  attrs: { name: "label" }
  attrs: { name: "selected" }
  attrs: { name: "value" }
  # <amp-bind>
  attrs: { name: "[disabled]" }
  attrs: { name: "[label]" }
  attrs: { name: "[selected]" }
  attrs: { name: "[value]" }
  spec_url: "https://amp.dev/documentation/components/amp-form/"
}
# 4.10.11 The textarea element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "TEXTAREA"
  attrs: { name: "autocomplete" }
  attrs: {
    name: "autoexpand"
    requires_extension: "amp-form"
  }
  attrs: {
    disabled_by: "amp4email"
    name: "autofocus"
  }
  attrs: { name: "cols" }
  attrs: { name: "disabled" }
  attrs: { name: "maxlength" }
  attrs: { name: "minlength" }
  attrs: {
    disabled_by: "amp4email"
    name: "no-verify"
    value: ""
  }
  attrs: { name: "pattern" }
  attrs: { name: "placeholder" }
  attrs: { name: "readonly" }
  attrs: { name: "required" }
  attrs: { name: "rows" }
  attrs: {
    disabled_by: "amp4email"
    name: "selectiondirection"
  }
  attrs: {
    disabled_by: "amp4email"
    name: "selectionend"
  }
  attrs: {
    disabled_by: "amp4email"
    name: "selectionstart"
  }
  attrs: { name: "spellcheck" }
  attrs: { name: "wrap" }
  # <amp-bind>
  attrs: { name: "[autocomplete]" }
  attrs: {
    disabled_by: "amp4email"
    name: "[autofocus]"
  }
  attrs: { name: "[cols]" }
  attrs: { name: "[defaulttext]" }
  attrs: { name: "[disabled]" }
  attrs: { name: "[maxlength]" }
  attrs: { name: "[minlength]" }
  attrs: { name: "[pattern]" }
  attrs: { name: "[placeholder]" }
  attrs: { name: "[readonly]" }
  attrs: { name: "[required]" }
  attrs: { name: "[rows]" }
  attrs: {
    disabled_by: "amp4email"
    name: "[selectiondirection]"
  }
  attrs: {
    disabled_by: "amp4email"
    name: "[selectionend]"
  }
  attrs: {
    disabled_by: "amp4email"
    name: "[selectionstart]"
  }
  attrs: { name: "[spellcheck]" }
  attrs: { name: "[wrap]" }
  attr_lists: "name-attr"
  spec_url: "https://amp.dev/documentation/components/amp-form/"
}
# 4.10.13 The output element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "OUTPUT"
  attrs: { name: "for" }
  attrs: { name: "form" }
  attr_lists: "name-attr"
}
# 4.10.14 The progress element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "PROGRESS"
  attrs: { name: "max" }
  attrs: { name: "value" }
}
# 4.10.15 The meter element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "METER"
  attrs: { name: "high" }
  attrs: { name: "low" }
  attrs: { name: "max" }
  attrs: { name: "min" }
  attrs: { name: "optimum" }
  attrs: { name: "value" }
}
# 4.10.16 The fieldset element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "FIELDSET"
  attrs: { name: "disabled" }
  # <amp-bind>
  attrs: { name: "[disabled]" }
  attr_lists: "name-attr"
}
# 4.10.17 The legend element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "LEGEND"
}

# 4.11 (HTML5.3) Interactive elements
# 4.11.1 (HTML5.3) The details element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "DETAILS"
  attrs: {
    name: "open"
    value: ""
  }
  attrs: { name: "[open]" }
}
# 4.11.2 (HTML5.3) The summary element
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "SUMMARY"
  mandatory_parent: "DETAILS"
}

# 4.11 Scripting
# 4.11.1 The script element
# Only the amphtml script, custom extensions and the LD/JSON or TEXT/PLAIN
# description are allowed.
# Note that the type TEXT/PLAIN description is define in
# validator-amp-mustache.protoascii.

# The three tagspecs below all handle the runtime engine script. They
# enforce that exactly one runtime script must be included. This tagspec is
# for the standard runtime, while the one below it is an identical spec but for
# the LTS runtime, with the only difference being the src attribute. The third
# is the corresponding spec for AMP4EMAIL.
attr_lists: {
  name: "amphtml-engine-attrs"
  attrs: {
    name: "async"
    mandatory: true
    value: ""
  }
  attrs: {
    name: "crossorigin"
    value: "anonymous"
  }
  attrs: {
    name: "type"
    value_casei: "text/javascript"
  }
}
attr_lists: {
  name: "amphtml-module-engine-attrs"
  attrs: {
    name: "async"
    mandatory: true
    value: ""
  }
  attrs: {
    name: "crossorigin"
    mandatory: true
    value: "anonymous"
  }
  attrs: {
    name: "type"
    mandatory: true
    value_casei: "module"
    dispatch_key: NAME_VALUE_DISPATCH
  }
}
attr_lists: {
  name: "amphtml-nomodule-engine-attrs"
  attrs: {
    name: "async"
    mandatory: true
    value: ""
  }
  attrs: {
    name: "crossorigin"
    value: "anonymous"
  }
  attrs: {
    name: "nomodule"
    mandatory: true
    value: ""
  }
  attrs: {
    name: "type"
    value_casei: "text/javascript"
  }
}
tags: {
  html_format: AMP
  disabled_by: "transformed"
  tag_name: "SCRIPT"
  spec_name: "amphtml engine script"
  descriptive_name: "amphtml engine script"
  satisfies: "amphtml javascript runtime (v0.js)"
  requires: "style[amp-boilerplate]"
  requires: "noscript > style[amp-boilerplate]"
  unique: true
  mandatory_parent: "HEAD"
  attr_lists: "nonce-attr"
  attr_lists: "amphtml-engine-attrs"
  attrs: {
    name: "src"
    mandatory: true
    value: "https://cdn.ampproject.org/v0.js"
    dispatch_key: NAME_VALUE_DISPATCH
  }
  cdata: {
    disallowed_cdata_regex: {
      regex: "."
      error_message: "contents"
    }
  }
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#required-markup"
}
tags: {
  # The transformed variant is the same except does not require the boilerplate,
  # given that it may have been removed during transformation.
  html_format: AMP
  enabled_by: "transformed"
  tag_name: "SCRIPT"
  spec_name: "amphtml engine script (transformed)"
  descriptive_name: "amphtml engine script"
  satisfies: "amphtml javascript runtime (v0.js)"
  unique: true
  mandatory_parent: "HEAD"
  attr_lists: "nonce-attr"
  attr_lists: "amphtml-engine-attrs"
  attrs: {
    name: "src"
    mandatory: true
    value: "https://cdn.ampproject.org/v0.js"
    dispatch_key: NAME_VALUE_DISPATCH
  }
  cdata: {
    disallowed_cdata_regex: {
      regex: "."
      error_message: "contents"
    }
  }
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#required-markup"
}
tags: {
  html_format: AMP
  disabled_by: "transformed"
  tag_name: "SCRIPT"
  spec_name: "amphtml engine script (LTS)"
  descriptive_name: "amphtml engine script"
  satisfies: "amphtml javascript runtime (v0.js)"
  requires: "style[amp-boilerplate]"
  requires: "noscript > style[amp-boilerplate]"
  unique: true
  mandatory_parent: "HEAD"
  attr_lists: "nonce-attr"
  attr_lists: "amphtml-engine-attrs"
  attrs: {
    name: "src"
    mandatory: true
    value: "https://cdn.ampproject.org/lts/v0.js"
    dispatch_key: NAME_VALUE_DISPATCH
  }
  cdata: {
    disallowed_cdata_regex: {
      regex: "."
      error_message: "contents"
    }
  }
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#required-markup"
}
tags: {
  # The transformed variant is the same except does not require the boilerplate,
  # given that it may have been removed during transformation.
  html_format: AMP
  enabled_by: "transformed"
  tag_name: "SCRIPT"
  spec_name: "amphtml engine script (LTS) (transformed)"
  descriptive_name: "amphtml engine script"
  satisfies: "amphtml javascript runtime (v0.js)"
  unique: true
  mandatory_parent: "HEAD"
  attr_lists: "nonce-attr"
  attr_lists: "amphtml-engine-attrs"
  attrs: {
    name: "src"
    mandatory: true
    value: "https://cdn.ampproject.org/lts/v0.js"
    dispatch_key: NAME_VALUE_DISPATCH
  }
  cdata: {
    disallowed_cdata_regex: {
      regex: "."
      error_message: "contents"
    }
  }
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#required-markup"
}
tags: {
  html_format: AMP
  enabled_by: "transformed"
  tag_name: "SCRIPT"
  spec_name: "amphtml module engine script"
  descriptive_name: "amphtml module engine script"
  satisfies: "amphtml javascript runtime (v0.js)"
  unique: true
  mandatory_parent: "HEAD"
  satisfies: "amphtml module engine script"
  requires: "amphtml nomodule engine script"
  attr_lists: "nonce-attr"
  attr_lists: "amphtml-module-engine-attrs"
  attrs: {
    name: "src"
    mandatory: true
    value: "https://cdn.ampproject.org/v0.mjs"
    dispatch_key: NAME_VALUE_DISPATCH
  }
  cdata: {
    whitespace_only: true
  }
  # TODO(b/167681900): update spec_url to cover these script release versions
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#required-markup"
}
tags: {
  html_format: AMP
  enabled_by: "transformed"
  tag_name: "SCRIPT"
  spec_name: "amphtml nomodule engine script"
  descriptive_name: "amphtml nomodule engine script"
  satisfies: "amphtml javascript runtime (v0.js)"
  unique: true
  mandatory_parent: "HEAD"
  satisfies: "amphtml nomodule engine script"
  requires: "amphtml module engine script"
  attr_lists: "nonce-attr"
  attr_lists: "amphtml-nomodule-engine-attrs"
  attrs: {
    name: "src"
    mandatory: true
    value: "https://cdn.ampproject.org/v0.js"
    dispatch_key: NAME_VALUE_DISPATCH
  }
  cdata: {
    whitespace_only: true
  }
  # TODO(b/167681900): update spec_url to cover these script release versions
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#required-markup"
}
tags: {
  html_format: AMP
  enabled_by: "transformed"
  tag_name: "SCRIPT"
  spec_name: "amphtml module LTS engine script"
  descriptive_name: "amphtml module LTS engine script"
  satisfies: "amphtml javascript runtime (v0.js)"
  unique: true
  mandatory_parent: "HEAD"
  satisfies: "amphtml module LTS engine script"
  requires: "amphtml nomodule LTS engine script"
  attr_lists: "nonce-attr"
  attr_lists: "amphtml-module-engine-attrs"
  attrs: {
    name: "src"
    mandatory: true
    value: "https://cdn.ampproject.org/lts/v0.mjs"
    dispatch_key: NAME_VALUE_DISPATCH
  }
  cdata: {
    whitespace_only: true
  }
  # TODO(b/167681900): update spec_url to cover these script release versions
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#required-markup"
}
tags: {
  html_format: AMP
  enabled_by: "transformed"
  tag_name: "SCRIPT"
  spec_name: "amphtml nomodule LTS engine script"
  descriptive_name: "amphtml nomdule LTS engine script"
  satisfies: "amphtml javascript runtime (v0.js)"
  unique: true
  mandatory_parent: "HEAD"
  satisfies: "amphtml nomodule LTS engine script"
  requires: "amphtml module LTS engine script"
  attr_lists: "nonce-attr"
  attr_lists: "amphtml-nomodule-engine-attrs"
  attrs: {
    name: "src"
    mandatory: true
    value: "https://cdn.ampproject.org/lts/v0.js"
    dispatch_key: NAME_VALUE_DISPATCH
  }
  cdata: {
    whitespace_only: true
  }
  # TODO(b/167681900): update spec_url to cover these script release versions
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#required-markup"
}
tags: {
  html_format: AMP4EMAIL
  tag_name: "SCRIPT"
  spec_name: "amphtml engine script [AMP4EMAIL]"
  descriptive_name: "amphtml engine script"
  satisfies: "amphtml javascript runtime (v0.js)"
  requires: "style[amp-boilerplate]"
  mandatory: true
  unique: true
  mandatory_parent: "HEAD"
  attr_lists: "nonce-attr"
  attr_lists: "amphtml-engine-attrs"
  attrs: {
    name: "src"
    mandatory: true
    value: "https://cdn.ampproject.org/v0.js"
    dispatch_key: NAME_VALUE_DISPATCH
  }
  cdata: {
    disallowed_cdata_regex: {
      regex: "."
      error_message: "contents"
    }
  }
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#required-markup"
}
tags: {
  html_format: AMP4ADS
  tag_name: "SCRIPT"
  spec_name: "amp4ads engine script"
  descriptive_name: "amphtml engine script"
  satisfies: "amphtml javascript runtime (v0.js)"
  requires: "style[amp-boilerplate]"
  mandatory: true
  unique: true
  mandatory_parent: "HEAD"
  attr_lists: "nonce-attr"
  attr_lists: "amphtml-engine-attrs"
  attrs: {
    name: "src"
    mandatory: true
    value: "https://cdn.ampproject.org/amp4ads-v0.js"
    dispatch_key: NAME_VALUE_DISPATCH
  }
  cdata: {
    disallowed_cdata_regex: {
      regex: "."
      error_message: "contents"
    }
  }
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#required-markup"
}
# JSON Linked Data
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "SCRIPT"
  spec_name: "script type=application/ld+json"
  descriptive_name: "script type=application/ld+json"
  attr_lists: "nonce-attr"
  attrs: {
    name: "type"
    mandatory: true
    value_casei: "application/ld+json"
    dispatch_key: NAME_VALUE_DISPATCH
  }
  cdata: {
    disallowed_cdata_regex: {
      regex: "<!--"
      error_message: "html comments"
    }
  }
}
# AMP RTC (Real Time Config)
tags: {
  html_format: AMP
  tag_name: "SCRIPT"
  spec_name: "script id=amp-rtc"
  unique: true
  mandatory_parent: "HEAD"
  attr_lists: "nonce-attr"
  attrs: {
    name: "id"
    mandatory: true
    value_casei: "amp-rtc"
    dispatch_key: NAME_VALUE_DISPATCH
  }
  attrs: {
    name: "type"
    mandatory: true
    value_casei: "application/json"
  }
  cdata: {
    disallowed_cdata_regex: {
      regex: "<!--"
      error_message: "html comments"
    }
  }
}
# AMP IMA VIDEO
tags: {
  html_format: AMP
  tag_name: "SCRIPT"
  spec_name: "amp-ima-video > script[type=application/json]"
  descriptive_name: "script type=application/ld+json"
  mandatory_parent: "AMP-IMA-VIDEO"
  attrs: {
    name: "type"
    mandatory: true
    value_casei: "application/json"
    dispatch_key: NAME_VALUE_PARENT_DISPATCH
  }
  cdata: {
    disallowed_cdata_regex: {
      regex: "<!--"
      error_message: "html comments"
    }
  }
}
# Enables early styling on fast failure to load v0.js or v0.mjs. See GitHub #22543.
tags: {
  html_format: AMP
  enabled_by: "transformed"
  tag_name: "SCRIPT"
  spec_name: "script amp-onerror (v0.js or v0.mjs)"
  descriptive_name: "script amp-onerror"
  unique: true
  mandatory_parent: "HEAD"
  attrs: {
    name: "amp-onerror"
    value: ""
    mandatory: true
    dispatch_key: NAME_VALUE_DISPATCH
  }
  cdata: {
    # Only valid if contents are exactly either of these:
    # [].slice.call(document.querySelectorAll("script[src*='/v0.js'],script[src*='/v0.mjs']")).forEach(function(s){s.onerror=function(){document.querySelector('style[amp-boilerplate]').textContent=''}})
    # document.querySelector("script[src*='/v0.js']").onerror=function(){document.querySelector('style[amp-boilerplate]').textContent=''}
    cdata_regex: "\\[]\\.slice\\.call\\(document\\.querySelectorAll\\(\"script\\[src\\*='\\/v0\\.js'],script\\[src\\*='\\/v0\\.mjs']\"\\)\\)\\.forEach\\(function\\(s\\){s\\.onerror=function\\(\\){document\\.querySelector\\('style\\[amp-boilerplate]'\\)\\.textContent=''}}\\)|"
                 "document\\.querySelector\\(\"script\\[src\\*='\\/v0\\.js']\"\\)\\.onerror=function\\(\\){document\\.querySelector\\('style\\[amp-boilerplate]'\\)\\.textContent=''}"
  }
}

# Dynamic Viewport (dvh) Polyfill when amp-story-1.0.css is Server Side Rendered.
tags: {
  html_format: AMP
  enabled_by: "transformed"
  tag_name: "SCRIPT"
  spec_name: "script amp-story-dvh-polyfill"
  descriptive_name: "script amp-story-dvh-polyfill"
  unique: true
  mandatory_parent: "HEAD"
  attrs: {
    name: "amp-story-dvh-polyfill"
    value: ""
    mandatory: true
    dispatch_key: NAME_VALUE_DISPATCH
  }
  cdata: {
    # Only valid if contents is exactly:
    # "use strict";if(!self.CSS||!CSS.supports||!CSS.supports("height:1dvh")){function e(){document.documentElement.style.setProperty("--story-dvh",innerHeight/100+"px","important")}addEventListener("resize",e,{passive:!0}),e()}
    cdata_regex: "\"use strict\";if\\(!self\\.CSS\\|\\|!CSS\\.supports\\|\\|!CSS\\.supports\\(\"height:1dvh\"\\)\\)\\{function e\\(\\)\\{document\\.documentElement\\.style\\.setProperty\\(\"--story-dvh\",innerHeight/100\\+\"px\",\"important\"\\)\\}addEventListener\\(\"resize\",e,\\{passive:!0\\}\\),e\\(\\)\\}"
  }
}

# Enables early styling on fast failure to load v0.js. See GitHub #22543.
tags: {
  html_format: AMP
  tag_name: "SCRIPT"
  spec_name: "script amp-onerror (v0.js)"
  descriptive_name: "script amp-onerror"
  unique: true
  mandatory_parent: "HEAD"
  attrs: {
    name: "amp-onerror"
    value: ""
    mandatory: true
    dispatch_key: NAME_VALUE_DISPATCH
  }
  cdata: {
    mandatory_cdata: "document.querySelector(\"script[src*='/v0.js']\").onerror=function(){document.querySelector('style[amp-boilerplate]').textContent=''}"
  }
}

# Specific script tags for custom elements and runtime imports.
# 4.11.2 The noscript element
tags: {
  html_format: AMP
  tag_name: "NOSCRIPT"
  spec_name: "noscript enclosure for amp style tags"
  mandatory_parent: "HEAD"
  child_tags {
    child_tag_name_oneof: "STYLE"
    mandatory_min_num_child_tags: 1
  }
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amp-boilerplate/?format=websites"
}
# We allow noscript in the body to contain tags otherwise disallowed by AMP.
tags: {
  html_format: AMP
  tag_name: "NOSCRIPT"
  # Noscript inside of noscript has strange parsing semantics in browsers and
  # isn't really helping anyone anyway.
  mandatory_ancestor: "BODY"
  disallowed_ancestor: "NOSCRIPT"
}
# 4.11.3 The template element
# See extensions/amp-mustache/validator-amp-mustache.protoascii.

# 11 Obsolete features
# 11.2 Non-conforming features
tags: {
  html_format: AMP
  tag_name: "ACRONYM"
}
tags: {
  html_format: AMP
  tag_name: "BIG"
}
tags: {
  html_format: AMP
  tag_name: "CENTER"
}
tags: {
  html_format: AMP
  tag_name: "DIR"
}
tags: {
  html_format: AMP
  tag_name: "HGROUP"
}
tags: {
  html_format: AMP
  tag_name: "LISTING"
}
tags: {
  html_format: AMP
  tag_name: "MULTICOL"
}
tags: {
  html_format: AMP
  tag_name: "NEXTID"
}
tags: {
  html_format: AMP
  tag_name: "NOBR"
}
tags: {
  html_format: AMP
  tag_name: "SPACER"
}
tags: {
  html_format: AMP
  tag_name: "STRIKE"
}
tags: {
  html_format: AMP
  tag_name: "TT"
}

# Some additional tags, microformats, allowances.

# The slot element.
# https://developer.mozilla.org/en-US/docs/Web/HTML/Element/slot
tags: {
  html_format: AMP
  tag_name: "SLOT"
  attr_lists: "name-attr"
}

# This tag is a preserved indicator for documents created in microsoft word.
# They do not render.
tags: {
  html_format: AMP
  tag_name: "O:P"
}

# Tags and attributes specific to AMP HTML.
# AMP Custom elements require a "src" or a "srcset" attribute,
# having both is also allowed.
attr_lists: {
  name: "mandatory-src-or-srcset"
  attrs: {
    name: "src"
    alternative_names: "srcset"
    mandatory: true
    value_url: {
      protocol: "data"
      protocol: "http"
      protocol: "https"
    }
    disallowed_value_regex: "__amp_source_origin"
  }
}
# In AMP4EMAIL Custom elements require a "src" attribute. Unlike AMP-HTML,
# srcset is disallowed. In addition "src" is not bindable in AMP4EMAIL and the
# only accepted protocol is https. Finally the AMP4EMAIL restrictions on
# mustache on href appear here as well.
attr_lists: {
  name: "mandatory-src-amp4email"
  attrs: {
    name: "src"
    mandatory: true
    value_url: {
      protocol: "https"
      allow_relative: false
    }
    # Openning doubly curly brackets {{ (these are mustache delimiters) can only
    # appear at the beginnig of the attribute's value. Likewise closing doubly
    # curly brackets }} can only appear at the end of the attribute's value.
    # Furthermore unbalanced delimiters are not allowed.
    # Additionally section mustache delimiters, i.e., {{#, {{^, {{/ are
    # disallowed.
    disallowed_value_regex: "__amp_source_origin|"
        "(.|\\s){{|"    # Openning delimiter can only appear at the beginning.
        "}}(.|\\s)|"    # Closing delimiter can only appear at the end.
        "^{{.*[^}][^}]$|"    # Delimiters must be balanced.
        "^[^{][^{].*}}$|"    # Delimiters must be balanced.
        "^}}|"    # Also caught by the requirements on balanced delimiters.
        "{{$|"    # Also caught by the requirements on balanced delimiters.
        "{{#|"    # Section delimiters are disallowed.
        "{{/|"    # Section delimiters are disallowed.
        "{{\\^"  # Section delimiters are disallowed.
  }
}
# Same as above except that the attribute is not mandatory.
attr_lists: {
  name: "optional-src-amp4email"
  attrs: {
    name: "src"
    value_url: {
      protocol: "https"
      allow_relative: false
    }
    # Openning doubly curly brackets {{ (these are mustache delimiters) can only
    # appear at the beginnig of the attribute's value. Likewise closing doubly
    # curly brackets }} can only appear at the end of the attribute's value.
    # Furthermore unbalanced delimiters are not allowed.
    # Additionally section mustache delimiters, i.e., {{#, {{^, {{/ are
    # disallowed.
    disallowed_value_regex: "__amp_source_origin|"
        "(.|\\s){{|"    # Openning delimiter can only appear at the beginning.
        "}}(.|\\s)|"    # Closing delimiter can only appear at the end.
        "^{{.*[^}][^}]$|"    # Delimiters must be balanced.
        "^[^{][^{].*}}$|"    # Delimiters must be balanced.
        "^}}|"    # Also caught by the requirements on balanced delimiters.
        "{{$|"    # Also caught by the requirements on balanced delimiters.
        "{{#|"    # Section delimiters are disallowed.
        "{{/|"    # Section delimiters are disallowed.
        "{{\\^"  # Section delimiters are disallowed.
  }
}

# Extended AMP globally optional tags.
attr_lists: {
  name: "extended-amp-global"
  attrs: {
    enabled_by: "transformed"
    name: "i-amphtml-layout"
    value_casei: "container"
    value_casei: "fill"
    value_casei: "fixed"
    value_casei: "fixed-height"
    value_casei: "flex-item"
    value_casei: "fluid"
    value_casei: "intrinsic"
    value_casei: "nodisplay"
    value_casei: "responsive"
  }
  attrs: { name: "media" }
  attrs: {
    name: "noloading"
    value: ""
  }
}
tags: {  # <amp-img>
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "AMP-IMG"
  # amp-img does not require a matching extension script, it's built in to v0.
  # js directly, so we explicitly list that dependency here.
  requires: "amphtml javascript runtime (v0.js)"
  attrs: { name: "alt" }
  attrs: { name: "attribution" }
  attrs: { name: "crossorigin" }
  # https://developers.google.com/web/updates/2019/02/priority-hints
  attrs: {
    name: "importance"
    value_casei: "high"
    value_casei: "low"
    value_casei: "auto"
  }
  attrs: { name: "object-fit" }
  attrs: { name: "object-position" }
  attrs: { name: "placeholder" }
  attrs: { name: "referrerpolicy" }
  # <amp-bind>
  attrs: { name: "[alt]" }
  attrs: { name: "[attribution]" }
  attrs: { name: "[src]" }
  attrs: { name: "[srcset]" }
  attr_lists: "extended-amp-global"
  attr_lists: "lightboxable-elements"
  attr_lists: "mandatory-src-or-srcset"
  spec_url: "https://amp.dev/documentation/components/amp-img/"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: INTRINSIC
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
# A duplicate of amp-img, but requires i-amphtml-ssr flag.
tags: {  # <amp-img i-amphtml-ssr>
  html_format: AMP
  enabled_by: "transformed"
  tag_name: "AMP-IMG"
  spec_name: "amp-img (transformed)"
  # amp-img does not require a matching extension script, it's built in to v0.
  # js directly, so we explicitly list that dependency here.
  requires: "amphtml javascript runtime (v0.js)"
  attrs: {
    dispatch_key: NAME_DISPATCH
    name: "i-amphtml-ssr"
    mandatory: true
  }
  attrs: { name: "alt" }
  attrs: { name: "attribution" }
  # https://developers.google.com/web/updates/2019/02/priority-hints
  attrs: {
    name: "importance"
    value_casei: "high"
    value_casei: "low"
    value_casei: "auto"
  }
  attrs: { name: "object-fit" }
  attrs: { name: "object-position" }
  attrs: { name: "placeholder" }
  attrs: { name: "referrerpolicy" }
  # <amp-bind>
  attrs: { name: "[alt]" }
  attrs: { name: "[attribution]" }
  attrs: { name: "[src]" }
  attrs: { name: "[srcset]" }
  attr_lists: "extended-amp-global"
  attr_lists: "lightboxable-elements"
  attr_lists: "mandatory-src-or-srcset"
  spec_url: "https://amp.dev/documentation/components/amp-img/"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: INTRINSIC
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
# See the restrictions on mandatory-src-amp4email, as well as the removal of
# `object-fit` and `object-position`.
tags: {  # <amp-img>
  html_format: AMP4EMAIL
  tag_name: "AMP-IMG"
  spec_name: "AMP-IMG (AMP4EMAIL)"
  # amp-img does not require a matching extension script, it's built in to v0.
  # js directly, so we explicitly list that dependency here. This is redundant
  # for email since v0.js is still required, but we include to for consistency
  # and to future proof.
  requires: "amphtml javascript runtime (v0.js)"
  attrs: { name: "alt" }
  attrs: { name: "attribution" }
  attrs: { name: "placeholder" }
  attr_lists: "extended-amp-global"
  attr_lists: "mandatory-src-amp4email"
  # <amp-bind>
  attrs: { name: "[alt]" }
  attrs: { name: "[attribution]" }
  spec_url: "https://amp.dev/documentation/components/amp-img/"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: INTRINSIC
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # <amp-layout>
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "AMP-LAYOUT"
  # amp-pixel does not require a matching extension script, it's built in to v0.
  # js directly, so we explicitly list that dependency here.
  requires: "amphtml javascript runtime (v0.js)"
  attr_lists: "extended-amp-global"
  spec_url: "https://amp.dev/documentation/components/amp-layout/"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: INTRINSIC
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
    supported_layouts: CONTAINER
  }
}
tags: {  # <amp-pixel>
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "AMP-PIXEL"
  # amp-pixel does not require a matching extension script, it's built in to v0.
  # js directly, so we explicitly list that dependency here.
  requires: "amphtml javascript runtime (v0.js)"
  attrs: { name: "allow-ssr-img" }
  attrs: {
    name: "referrerpolicy"
    value: "no-referrer"
  }
  attrs: {
    name: "src"
    mandatory: true
    value_url: {
      protocol: "https"
      allow_relative: true  # Will be set to false at a future date.
      allow_empty: true
    }
    disallowed_value_regex: "__amp_source_origin"
  }
  attr_lists: "extended-amp-global"
  spec_url: "https://amp.dev/documentation/components/amp-pixel/"
  amp_layout {
    defines_default_height: true
    defines_default_width: true
    supported_layouts: FIXED
    supported_layouts: NODISPLAY
  }
}

# Transformed AMP specific tags.
tags: {
  html_format: AMP
  enabled_by: "transformed"
  tag_name: "I-AMPHTML-SIZER"
  spec_name: "I-AMPHTML-SIZER-RESPONSIVE"
  explicit_attrs_only: true
  attrs: {
    name: "style"
    dispatch_key: NAME_DISPATCH
    mandatory: true
    disallowed_value_regex: "!\\s*important"
    css_declaration: {
      name: "display"
      value_casei: "block"
    }
    css_declaration: { name: "padding-top" }
  }
  attrs: {
    name: "i-amphtml-disable-ar"
    value: ""
  }
  attrs: {
    name: "slot"
    value: "i-amphtml-svc"
  }
}

tags: {
  html_format: AMP
  enabled_by: "transformed"
  tag_name: "I-AMPHTML-SIZER"
  spec_name: "I-AMPHTML-SIZER-INTRINSIC"
  explicit_attrs_only: true
  attrs: {
    name: "class"
    value: "i-amphtml-sizer"
    mandatory: true
    dispatch_key: NAME_DISPATCH
  }
  attrs: {
    name: "i-amphtml-disable-ar"
    value: ""
  }
  attrs: {
    name: "slot"
    value: "i-amphtml-svc"
  }
}

tags: {
  html_format: AMP
  enabled_by: "transformed"
  tag_name: "IMG"
  spec_name: "IMG-I-AMPHTML-INTRINSIC-SIZER"
  mandatory_parent: "I-AMPHTML-SIZER-INTRINSIC"
  attrs: {
    name: "alt"
    value: ""
    mandatory: true
  }
  attrs: {
    name: "aria-hidden"
    value: "true"
    mandatory: true
  }
  attrs: {
    name: "class"
    value: "i-amphtml-intrinsic-sizer"
    mandatory: true
  }
  attrs: {
    name: "role"
    value: "presentation"
    mandatory: true
  }
  attrs: {
    name: "src"
    value_regex: "data:image\\/svg\\+xml;charset=utf-8,\\s*<svg height=\"\\d+(\\.\\d+)?\" width=\"\\d+(\\.\\d+)?\" xmlns=\"http:\\/\\/www\\.w3\\.org\\/2000\\/svg\" version=\"1\\.1\"\\/>|data:image\\/svg\\+xml;charset=utf-8,\\s*<svg height='\\d+(\\.\\d+)?\' width='\\d+(\\.\\d+)?\' xmlns='http:\\/\\/www\\.w3\\.org\\/2000\\/svg' version='1\\.1'\\/>|data:image\\/svg\\+xml;base64,[a-zA-Z0-9+\\/=]+"
    mandatory: true
  }
}
tags: {
  html_format: AMP
  enabled_by: "transformed"
  tag_name: "IMG"
  spec_name: "amp-img > img (transformed)"
  # Ideally we'd be able to use regular amp-img parent, but runtime currently
  # requires an i-amphtml-ssr attribute on the amp-img. We could do away with
  # that, though.
  mandatory_parent: "amp-img (transformed)"
  attrs: { name: "alt" }
  attrs: { name: "attribution" }
  attrs: { name: "height" }
  # https://developers.google.com/web/updates/2019/02/priority-hints
  attrs: {
    name: "importance"
    value_casei: "high"
    value_casei: "low"
    value_casei: "auto"
  }
  attrs: { name: "object-fit" }
  attrs: { name: "object-position" }
  attrs: { name: "referrerpolicy" }
  attrs: { name: "sizes" }
  attrs: { name: "title" }
  attrs: { name: "width" }
  attr_lists: "mandatory-src-or-srcset"
  # SSR requires these explicit attributes
  attrs: {
    name: "class"
    value_regex: "i-amphtml-fill-content\\s+i-amphtml-replaced-content|"
        "i-amphtml-replaced-content\\s+i-amphtml-fill-content"
    mandatory: true
  }
  attrs: {
    name: "decoding"
    value: "async"
    mandatory: true
  }
  attrs: {
    name: "loading"
    value: "lazy"
    value: "eager"
  }
}
tags: {
  html_format: AMP
  enabled_by: "transformed"
  tag_name: "IMG"
  spec_name: "amp-img > img[placeholder] (transformed)"
  mandatory_parent: "amp-img (transformed)"
  attrs: { name: "alt" }
  attrs: { name: "attribution" }
  attrs: {
    name: "class"
    value: "i-amphtml-blurry-placeholder"
    mandatory: true
  }
  attrs: { name: "object-fit" }
  attrs: { name: "object-position" }
  attrs: {
    name: "placeholder"
    value: ""
    mandatory: true
    dispatch_key: NAME_DISPATCH
  }
  attrs: { name: "referrerpolicy" }
  attrs: { name: "sizes" }
  attrs: { name: "title" }
  attr_lists: "mandatory-src-or-srcset"
}

# AMP Layout attributes: implied for TagSpecs with amp_layout field
# set. Note that while these attributes are defined as optional here,
# depending on amp layout the validator will examine these fields and
# their values.
attr_lists: {
  name: "$AMP_LAYOUT_ATTRS"
  attrs: { name: "disable-inline-width" }
  attrs: { name: "height" }
  attrs: { name: "heights" }
  attrs: { name: "layout" }
  attrs: { name: "sizes" }
  attrs: { name: "width" }
  # <amp-bind>
  attrs: { name: "[height]" }
  attrs: { name: "[width]" }
}

# We generally want to allow publishers to use nonce on their own pages, to
# aid security on origin. The AMP Cache will strip these attributes so as
# not to break the behavior of the document on the cache. However, certain
# contexts do not make sense for nonce attributes. Email never is displayed
# on the publisher origin. Transformed documents are typically used as signed
# exchanges where the AMP Cache cannot strip the nonces. The nonce attribute
# is also present in the "common-extension-attrs" attr_lists below.
attr_lists: {
  name: "nonce-attr"
  attrs: {
    disabled_by: "amp4email"
    name: "nonce"
  }
}

# AMP Extension attributes.
attr_lists: {
  name: "common-extension-attrs"
  attrs: {
    name: "async"
    mandatory: true
    value: ""
  }
  attrs: {
    name: "crossorigin"
    value: "anonymous"
  }
  attrs: {
    disabled_by: "amp4email"
    name: "nonce"
  }
  attrs: {
    name: "type"
    value_casei: "text/javascript"
  }
}

# Mandatory "id" attribute.
attr_lists: {
  name: "mandatory-id-attr"
  attrs: {
    name: "id"
    mandatory: true
    # When updating this disallowed_value_regex, also update the entry for
    # "id" in $GLOBAL_ATTRS, and also validator-amp-script.protoascii and
    # validator-amp-mustache.protoascii.
    disallowed_value_regex: "(^|\\s)("  # Values are space separated
        "__amp_\\S*|"
        "__count__|"
        "__defineGetter__|"
        "__defineSetter__|"
        "__lookupGetter__|"
        "__lookupSetter__|"
        "__noSuchMethod__|"
        "__parent__|"
        "__proto__|"
        "__AMP_\\S*|"
        "\\$p|"
        "\\$proxy|"
        "acceptCharset|"
        "addEventListener|"
        "appendChild|"
        "assignedSlot|"
        "attachShadow|"
        "AMP|"
        "baseURI|"
        "checkValidity|"
        "childElementCount|"
        "childNodes|"
        "classList|"
        "className|"
        "clientHeight|"
        "clientLeft|"
        "clientTop|"
        "clientWidth|"
        "compareDocumentPosition|"
        "computedName|"
        "computedRole|"
        "contentEditable|"
        "createShadowRoot|"
        "enqueAction|"
        "firstChild|"
        "firstElementChild|"
        "getAnimations|"
        "getAttribute|"
        "getAttributeNS|"
        "getAttributeNode|"
        "getAttributeNodeNS|"
        "getBoundingClientRect|"
        "getClientRects|"
        "getDestinationInsertionPoints|"
        "getElementsByClassName|"
        "getElementsByTagName|"
        "getElementsByTagNameNS|"
        "getRootNode|"
        "hasAttribute|"
        "hasAttributeNS|"
        "hasAttributes|"
        "hasChildNodes|"
        "hasPointerCapture|"
        "i-amphtml-\\S*|"
        "innerHTML|"
        "innerText|"
        "inputMode|"
        "insertAdjacentElement|"
        "insertAdjacentHTML|"
        "insertAdjacentText|"
        "isContentEditable|"
        "isDefaultNamespace|"
        "isEqualNode|"
        "isSameNode|"
        "lastChild|"
        "lastElementChild|"
        "lookupNamespaceURI|"
        "namespaceURI|"
        "nextElementSibling|"
        "nextSibling|"
        "nodeName|"
        "nodeType|"
        "nodeValue|"
        "offsetHeight|"
        "offsetLeft|"
        "offsetParent|"
        "offsetTop|"
        "offsetWidth|"
        "outerHTML|"
        "outerText|"
        "ownerDocument|"
        "parentElement|"
        "parentNode|"
        "previousElementSibling|"
        "previousSibling|"
        "querySelector|"
        "querySelectorAll|"
        "releasePointerCapture|"
        "removeAttribute|"
        "removeAttributeNS|"
        "removeAttributeNode|"
        "removeChild|"
        "removeEventListener|"
        "replaceChild|"
        "reportValidity|"
        "requestPointerLock|"
        "scrollHeight|"
        "scrollIntoView|"
        "scrollIntoViewIfNeeded|"
        "scrollLeft|"
        "scrollWidth|"
        "setAttribute|"
        "setAttributeNS|"
        "setAttributeNode|"
        "setAttributeNodeNS|"
        "setPointerCapture|"
        "shadowRoot|"
        "styleMap|"
        "tabIndex|"
        "tagName|"
        "textContent|"
        "toString|"
        "valueOf|"
        "(webkit|ms|moz|o)dropzone|"
        "(webkit|moz|ms|o)MatchesSelector|"
        "(webkit|moz|ms|o)RequestFullScreen|"
        "(webkit|moz|ms|o)RequestFullscreen"
        ")(\\s|$)"
  }
}


# Disallows document properties on "name" attribute for use on <form>.
attr_lists: {
  name: "form-name-attr"
  attrs: {
    name: "name"
    disallowed_value_regex: "(^|\\s)("
        "ATTRIBUTE_NODE|"
        "CDATA_SECTION_NODE|"
        "COMMENT_NODE|"
        "DOCUMENT_FRAGMENT_NODE|"
        "DOCUMENT_NODE|"
        "DOCUMENT_POSITION_CONTAINED_BY|"
        "DOCUMENT_POSITION_CONTAINS|"
        "DOCUMENT_POSITION_DISCONNECTED|"
        "DOCUMENT_POSITION_FOLLOWING|"
        "DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC|"
        "DOCUMENT_POSITION_PRECEDING|"
        "DOCUMENT_TYPE_NODE|"
        "ELEMENT_NODE|"
        "ENTITY_NODE|"
        "ENTITY_REFERENCE_NODE|"
        "NOTATION_NODE|"
        "PROCESSING_INSTRUCTION_NODE|"
        "TEXT_NODE|"
        "URL|"
        "URLUnencoded|"
        "__amp_\\S*|"
        "__count__|"
        "__defineGetter__|"
        "__defineSetter__|"
        "__lookupGetter__|"
        "__lookupSetter__|"
        "__noSuchMethod__|"
        "__parent__|"
        "__proto__|"
        "__AMP_\\S*|"
        "activeElement|"
        "addEventListener|"
        "adoptNode|"
        "alinkColor|"
        "all|"
        "anchors|"
        "append|"
        "appendChild|"
        "applets|"
        "baseURI|"
        "bgColor|"
        "body|"
        "captureEvents|"
        "caretPositionFromPoint|"
        "caretRangeFromPoint|"
        "characterSet|"
        "charset|"
        "childElementCount|"
        "childNodes|"
        "children|"
        "clear|"
        "cloneNode|"
        "close|"
        "compareDocumentPosition|"
        "compatMode|"
        "constructor|"
        "contains|"
        "contentType|"
        "cookie|"
        "createAttribute|"
        "createAttributeNS|"
        "createCDATASection|"
        "createComment|"
        "createDocumentFragment|"
        "createElement|"
        "createElementNS|"
        "createEvent|"
        "createExpression|"
        "createNSResolver|"
        "createNodeIterator|"
        "createProcessingInstruction|"
        "createRange|"
        "createTextNode|"
        "createTreeWalker|"
        "currentScript|"
        "defaultView|"
        "designMode|"
        "dir|"
        "dispatchEvent|"
        "doctype|"
        "documentElement|"
        "documentURI|"
        "domain|"
        "elementFromPoint|"
        "elementsFromPoint|"
        "embeds|"
        "enableStyleSheetsForSet|"
        "evaluate|"
        "execCommand|"
        "execCommandShowHelp|"
        "exitFullscreen|"
        "exitPictureInPicture|"
        "exitPointerLock|"
        "fgColor|"
        "firstChild|"
        "firstElementChild|"
        "focus|"
        "fonts|"
        "forms|"
        "fullscreen|"
        "fullscreenElement|"
        "fullscreenEnabled|"
        "getCSSCanvasContext|"
        "getElementById|"
        "getElementsByClassName|"
        "getElementsByName|"
        "getElementsByTagName|"
        "getElementsByTagNameNS|"
        "getOverrideStyle|"
        "getRootNode|"
        "getSelection|"
        "hasChildNodes|"
        "hasFocus|"
        "hasOwnProperty|"
        "hasStorageAccess|"
        "head|"
        "hidden|"
        "images|"
        "implementation|"
        "importNode|"
        "inputEncoding|"
        "insertBefore|"
        "isConnected|"
        "isDefaultNamespace|"
        "isEqualNode|"
        "isPrototypeOf|"
        "isSameNode|"
        "l10n|"
        "lastChild|"
        "lastElementChild|"
        "lastModified|"
        "lastStyleSheetSet|"
        "linkColor|"
        "links|"
        "location|"
        "lookupNamespaceURI|"
        "lookupPrefix|"
        "mozCancelFullScreen|"
        "mozFullScreen|"
        "mozFullScreenElement|"
        "mozFullScreenEnabled|"
        "mozSetImageElement|"
        "msCSSOMElementFloatMetrics|"
        "msCapsLockWarningOff|"
        "msElementsFromPoint|"
        "msElementsFromRect|"
        "nextSibling|"
        "nodeName|"
        "nodeType|"
        "nodeValue|"
        "normalize|"
        "onabort|"
        "onactivate|"
        "onafterscriptexecute|"
        "onanimationcancel|"
        "onanimationend|"
        "onanimationiteration|"
        "onanimationstart|"
        "onauxclick|"
        "onbeforeactivate|"
        "onbeforecopy|"
        "onbeforecut|"
        "onbeforedeactivate|"
        "onbeforeinput|"
        "onbeforepaste|"
        "onbeforescriptexecute|"
        "onblur|"
        "oncancel|"
        "oncanplay|"
        "oncanplaythrough|"
        "onchange|"
        "onclick|"
        "onclose|"
        "oncontextmenu|"
        "oncopy|"
        "oncuechange|"
        "oncut|"
        "ondblclick|"
        "ondeactivate|"
        "ondrag|"
        "ondragend|"
        "ondragenter|"
        "ondragexit|"
        "ondragleave|"
        "ondragover|"
        "ondragstart|"
        "ondrop|"
        "ondurationchange|"
        "onemptied|"
        "onended|"
        "onerror|"
        "onfocus|"
        "onfreeze|"
        "onfullscreenchange|"
        "onfullscreenerror|"
        "ongotpointercapture|"
        "oninput|"
        "oninvalid|"
        "onkeydown|"
        "onkeypress|"
        "onkeyup|"
        "onload|"
        "onloadeddata|"
        "onloadedmetadata|"
        "onloadend|"
        "onloadstart|"
        "onlostpointercapture|"
        "onmousedown|"
        "onmouseenter|"
        "onmouseleave|"
        "onmousemove|"
        "onmouseout|"
        "onmouseover|"
        "onmouseup|"
        "onmousewheel|"
        "onmozfullscreenchange|"
        "onmozfullscreenerror|"
        "onmscontentzoom|"
        "onmsgesturechange|"
        "onmsgesturedoubletap|"
        "onmsgestureend|"
        "onmsgesturehold|"
        "onmsgesturestart|"
        "onmsgesturetap|"
        "onmsinertiastart|"
        "onmsmanipulationstatechanged|"
        "onmssitemodejumplistitemremoved|"
        "onmsthumbnailclick|"
        "onpaste|"
        "onpause|"
        "onplay|"
        "onplaying|"
        "onpointercancel|"
        "onpointerdown|"
        "onpointerenter|"
        "onpointerleave|"
        "onpointerlockchange|"
        "onpointerlockerror|"
        "onpointermove|"
        "onpointerout|"
        "onpointerover|"
        "onpointerup|"
        "onprogress|"
        "onratechange|"
        "onreadystatechange|"
        "onrejectionhandled|"
        "onreset|"
        "onresize|"
        "onresume|"
        "onscroll|"
        "onsearch|"
        "onseeked|"
        "onseeking|"
        "onselect|"
        "onselectionchange|"
        "onselectstart|"
        "onshow|"
        "onstalled|"
        "onstop|"
        "onsubmit|"
        "onsuspend|"
        "ontimeupdate|"
        "ontoggle|"
        "ontransitioncancel|"
        "ontransitionend|"
        "ontransitionrun|"
        "ontransitionstart|"
        "onunhandledrejection|"
        "onvisibilitychange|"
        "onvolumechange|"
        "onwaiting|"
        "onwebkitanimationend|"
        "onwebkitanimationiteration|"
        "onwebkitanimationstart|"
        "onwebkitfullscreenchange|"
        "onwebkitfullscreenerror|"
        "onwebkitmouseforcechanged|"
        "onwebkitmouseforcedown|"
        "onwebkitmouseforceup|"
        "onwebkitmouseforcewillbegin|"
        "onwebkittransitionend|"
        "onwheel|"
        "open|"
        "origin|"
        "ownerDocument|"
        "parentElement|"
        "parentNode|"
        "pictureInPictureElement|"
        "pictureInPictureEnabled|"
        "plugins|"
        "pointerLockElement|"
        "preferredStyleSheetSet|"
        "prepend|"
        "previousSibling|"
        "propertyIsEnumerable|"
        "queryCommandEnabled|"
        "queryCommandIndeterm|"
        "queryCommandState|"
        "queryCommandSupported|"
        "queryCommandText|"
        "queryCommandValue|"
        "querySelector|"
        "querySelectorAll|"
        "readyState|"
        "referrer|"
        "registerElement|"
        "releaseCapture|"
        "releaseEvents|"
        "removeChild|"
        "removeEventListener|"
        "replaceChild|"
        "requestStorageAccess|"
        "rootElement|"
        "scripts|"
        "scrollingElement|"
        "selectedStyleSheetSet|"
        "styleSheetSets|"
        "styleSheets|"
        "textContent|"
        "title|"
        "toLocaleString|"
        "toSource|"
        "toString|"
        "updateSettings|"
        "valueOf|"
        "visibilityState|"
        "vlinkColor|"
        "wasDiscarded|"
        "webkitCancelFullScreen|"
        "webkitCurrentFullScreenElement|"
        "webkitExitFullscreen|"
        "webkitFullScreenKeyboardInputAllowed|"
        "webkitFullscreenElement|"
        "webkitFullscreenEnabled|"
        "webkitHidden|"
        "webkitIsFullScreen|"
        "webkitVisibilityState|"
        "write|"
        "writeln|"
        "xmlEncoding|"
        "xmlStandalone|"
        "xmlVersion"
        ")(\\s|$)"
  }
}

# Not mandatory "name" attribute.
attr_lists: {
  name: "name-attr"
  attrs: {
    name: "name"
    # When updating this disallowed_value_regex, also update for
    # mandatory-name-attr.
    disallowed_value_regex: "(^|\\s)("  # Values are space separated
        "__amp_\\S*|"
        "__count__|"
        "__defineGetter__|"
        "__defineSetter__|"
        "__lookupGetter__|"
        "__lookupSetter__|"
        "__noSuchMethod__|"
        "__parent__|"
        "__proto__|"
        "__AMP_\\S*|"
        "\\$p|"
        "\\$proxy|"
        "acceptCharset|"
        "addEventListener|"
        "appendChild|"
        "assignedSlot|"
        "attachShadow|"
        "baseURI|"
        "checkValidity|"
        "childElementCount|"
        "childNodes|"
        "classList|"
        "className|"
        "clientHeight|"
        "clientLeft|"
        "clientTop|"
        "clientWidth|"
        "compareDocumentPosition|"
        "computedName|"
        "computedRole|"
        "contentEditable|"
        "createShadowRoot|"
        "enqueAction|"
        "firstChild|"
        "firstElementChild|"
        "getAnimations|"
        "getAttribute|"
        "getAttributeNS|"
        "getAttributeNode|"
        "getAttributeNodeNS|"
        "getBoundingClientRect|"
        "getClientRects|"
        "getDestinationInsertionPoints|"
        "getElementsByClassName|"
        "getElementsByTagName|"
        "getElementsByTagNameNS|"
        "getRootNode|"
        "hasAttribute|"
        "hasAttributeNS|"
        "hasAttributes|"
        "hasChildNodes|"
        "hasPointerCapture|"
        "innerHTML|"
        "innerText|"
        "inputMode|"
        "insertAdjacentElement|"
        "insertAdjacentHTML|"
        "insertAdjacentText|"
        "isContentEditable|"
        "isDefaultNamespace|"
        "isEqualNode|"
        "isSameNode|"
        "lastChild|"
        "lastElementChild|"
        "lookupNamespaceURI|"
        "namespaceURI|"
        "nextElementSibling|"
        "nextSibling|"
        "nodeName|"
        "nodeType|"
        "nodeValue|"
        "offsetHeight|"
        "offsetLeft|"
        "offsetParent|"
        "offsetTop|"
        "offsetWidth|"
        "outerHTML|"
        "outerText|"
        "ownerDocument|"
        "parentElement|"
        "parentNode|"
        "previousElementSibling|"
        "previousSibling|"
        "querySelector|"
        "querySelectorAll|"
        "releasePointerCapture|"
        "removeAttribute|"
        "removeAttributeNS|"
        "removeAttributeNode|"
        "removeChild|"
        "removeEventListener|"
        "replaceChild|"
        "reportValidity|"
        "requestPointerLock|"
        "scrollHeight|"
        "scrollIntoView|"
        "scrollIntoViewIfNeeded|"
        "scrollLeft|"
        "scrollWidth|"
        "setAttribute|"
        "setAttributeNS|"
        "setAttributeNode|"
        "setAttributeNodeNS|"
        "setPointerCapture|"
        "shadowRoot|"
        "styleMap|"
        "tabIndex|"
        "tagName|"
        "textContent|"
        "toString|"
        "valueOf|"
        "(webkit|ms|moz|o)dropzone|"
        "(webkit|moz|ms|o)MatchesSelector|"
        "(webkit|moz|ms|o)RequestFullScreen|"
        "(webkit|moz|ms|o)RequestFullscreen"
        ")(\\s|$)"
  }
}

# Mandatory "name" attribute.
attr_lists: {
  name: "mandatory-name-attr"
  attrs: {
    name: "name"
    mandatory: true
    # When updating this disallowed_value_regex, also update for name-attr.
    disallowed_value_regex: "(^|\\s)("  # Values are space separated
        "__amp_\\S*|"
        "__count__|"
        "__defineGetter__|"
        "__defineSetter__|"
        "__lookupGetter__|"
        "__lookupSetter__|"
        "__noSuchMethod__|"
        "__parent__|"
        "__proto__|"
        "__AMP_\\S*|"
        "\\$p|"
        "\\$proxy|"
        "acceptCharset|"
        "addEventListener|"
        "appendChild|"
        "assignedSlot|"
        "attachShadow|"
        "baseURI|"
        "checkValidity|"
        "childElementCount|"
        "childNodes|"
        "classList|"
        "className|"
        "clientHeight|"
        "clientLeft|"
        "clientTop|"
        "clientWidth|"
        "compareDocumentPosition|"
        "computedName|"
        "computedRole|"
        "contentEditable|"
        "createShadowRoot|"
        "enqueAction|"
        "firstChild|"
        "firstElementChild|"
        "getAnimations|"
        "getAttribute|"
        "getAttributeNS|"
        "getAttributeNode|"
        "getAttributeNodeNS|"
        "getBoundingClientRect|"
        "getClientRects|"
        "getDestinationInsertionPoints|"
        "getElementsByClassName|"
        "getElementsByTagName|"
        "getElementsByTagNameNS|"
        "getRootNode|"
        "hasAttribute|"
        "hasAttributeNS|"
        "hasAttributes|"
        "hasChildNodes|"
        "hasPointerCapture|"
        "innerHTML|"
        "innerText|"
        "inputMode|"
        "insertAdjacentElement|"
        "insertAdjacentHTML|"
        "insertAdjacentText|"
        "isContentEditable|"
        "isDefaultNamespace|"
        "isEqualNode|"
        "isSameNode|"
        "lastChild|"
        "lastElementChild|"
        "lookupNamespaceURI|"
        "namespaceURI|"
        "nextElementSibling|"
        "nextSibling|"
        "nodeName|"
        "nodeType|"
        "nodeValue|"
        "offsetHeight|"
        "offsetLeft|"
        "offsetParent|"
        "offsetTop|"
        "offsetWidth|"
        "outerHTML|"
        "outerText|"
        "ownerDocument|"
        "parentElement|"
        "parentNode|"
        "previousElementSibling|"
        "previousSibling|"
        "querySelector|"
        "querySelectorAll|"
        "releasePointerCapture|"
        "removeAttribute|"
        "removeAttributeNS|"
        "removeAttributeNode|"
        "removeChild|"
        "removeEventListener|"
        "replaceChild|"
        "reportValidity|"
        "requestPointerLock|"
        "scrollHeight|"
        "scrollIntoView|"
        "scrollIntoViewIfNeeded|"
        "scrollLeft|"
        "scrollWidth|"
        "setAttribute|"
        "setAttributeNS|"
        "setAttributeNode|"
        "setAttributeNodeNS|"
        "setPointerCapture|"
        "shadowRoot|"
        "styleMap|"
        "tabIndex|"
        "tagName|"
        "textContent|"
        "toString|"
        "valueOf|"
        "(webkit|ms|moz|o)dropzone|"
        "(webkit|moz|ms|o)MatchesSelector|"
        "(webkit|moz|ms|o)RequestFullScreen|"
        "(webkit|moz|ms|o)RequestFullscreen"
        ")(\\s|$)"
  }
}

# Global attributes: These can be used in all tags.
attr_lists: {
  name: "$GLOBAL_ATTRS"
  # For schema.org annotations.
  attrs: { name: "itemid" }
  attrs: { name: "itemprop" }
  attrs: { name: "itemref" }
  attrs: { name: "itemscope" }
  attrs: { name: "itemtype" }
  # Also for schema.org, RDFa syntax
  attrs: { name: "about" }
  attrs: { name: "content" }
  attrs: { name: "datatype" }
  attrs: { name: "inlist" }
  attrs: { name: "prefix" }
  attrs: { name: "property" }
  attrs: {
    name: "rel"
    disallowed_value_regex: "(^|\\s)("  # Values are space separated
        "canonical|"
        "components|"
        "dns-prefetch|"
        "import|"
        "manifest|"
        "preconnect|"
        "preload|"
        "prerender|"
        "serviceworker|"
        "stylesheet|"
        "subresource"
        ")(\\s|$)"
  }
  attrs: { name: "resource" }
  attrs: { name: "rev" }
  attrs: {
    name: "style"
    # `style` attribute value validated against Document Level CSS rules defined
    # in validator-css.protoascii.
    value_doc_css: true
  }
  attrs: { name: "typeof" }
  attrs: { name: "vocab" }
  # 3.2.5 HTML5 Global attributes.
  attrs: { name: "accesskey" }
  attrs: {
    name: "class"
    # attribute "class" is handled within the Validator engine, since we need to
    # handle transformed and non-transformed cases while still allowing "class"
    # attribute generically.
    # disallowed_value_regex: "(^|[\t\n\f\r ])i-amphtml-"
  }
  attrs: { name: "dir" }
  attrs: { name: "draggable" }
  attrs: {
    name: "hidden"
    value: ""
  }
  attrs: {
    name: "id"
    # When updating this disallowed_value_regex, also update for
    # mandatory-id-attr, validator-amp-script.protoascii, and
    # validator-amp-mustache.protoascii.
    disallowed_value_regex: "(^|\\s)("  # Values are space separated
        "__amp_\\S*|"
        "__count__|"
        "__defineGetter__|"
        "__defineSetter__|"
        "__lookupGetter__|"
        "__lookupSetter__|"
        "__noSuchMethod__|"
        "__parent__|"
        "__proto__|"
        "__AMP_\\S*|"
        "\\$p|"
        "\\$proxy|"
        "acceptCharset|"
        "addEventListener|"
        "appendChild|"
        "assignedSlot|"
        "attachShadow|"
        "AMP|"
        "baseURI|"
        "checkValidity|"
        "childElementCount|"
        "childNodes|"
        "classList|"
        "className|"
        "clientHeight|"
        "clientLeft|"
        "clientTop|"
        "clientWidth|"
        "compareDocumentPosition|"
        "computedName|"
        "computedRole|"
        "contentEditable|"
        "createShadowRoot|"
        "enqueAction|"
        "firstChild|"
        "firstElementChild|"
        "getAnimations|"
        "getAttribute|"
        "getAttributeNS|"
        "getAttributeNode|"
        "getAttributeNodeNS|"
        "getBoundingClientRect|"
        "getClientRects|"
        "getDestinationInsertionPoints|"
        "getElementsByClassName|"
        "getElementsByTagName|"
        "getElementsByTagNameNS|"
        "getRootNode|"
        "hasAttribute|"
        "hasAttributeNS|"
        "hasAttributes|"
        "hasChildNodes|"
        "hasPointerCapture|"
        "i-amphtml-\\S*|"
        "innerHTML|"
        "innerText|"
        "inputMode|"
        "insertAdjacentElement|"
        "insertAdjacentHTML|"
        "insertAdjacentText|"
        "isContentEditable|"
        "isDefaultNamespace|"
        "isEqualNode|"
        "isSameNode|"
        "lastChild|"
        "lastElementChild|"
        "lookupNamespaceURI|"
        "namespaceURI|"
        "nextElementSibling|"
        "nextSibling|"
        "nodeName|"
        "nodeType|"
        "nodeValue|"
        "offsetHeight|"
        "offsetLeft|"
        "offsetParent|"
        "offsetTop|"
        "offsetWidth|"
        "outerHTML|"
        "outerText|"
        "ownerDocument|"
        "parentElement|"
        "parentNode|"
        "previousElementSibling|"
        "previousSibling|"
        "querySelector|"
        "querySelectorAll|"
        "releasePointerCapture|"
        "removeAttribute|"
        "removeAttributeNS|"
        "removeAttributeNode|"
        "removeChild|"
        "removeEventListener|"
        "replaceChild|"
        "reportValidity|"
        "requestPointerLock|"
        "scrollHeight|"
        "scrollIntoView|"
        "scrollIntoViewIfNeeded|"
        "scrollLeft|"
        "scrollWidth|"
        "setAttribute|"
        "setAttributeNS|"
        "setAttributeNode|"
        "setAttributeNodeNS|"
        "setPointerCapture|"
        "shadowRoot|"
        "styleMap|"
        "tabIndex|"
        "tagName|"
        "textContent|"
        "toString|"
        "valueOf|"
        "(webkit|ms|moz|o)dropzone|"
        "(webkit|moz|ms|o)MatchesSelector|"
        "(webkit|moz|ms|o)RequestFullScreen|"
        "(webkit|moz|ms|o)RequestFullscreen"
        ")(\\s|$)"
  }
  attrs: { name: "lang" }
  attrs: { name: "slot" }
  attrs: { name: "tabindex" }
  attrs: { name: "title" }
  attrs: { name: "translate" }
  # Accessible Rich Internet Applications http://www.w3.org/TR/wai-aria/
  attrs: { name: "aria-activedescendant" }
  attrs: { name: "aria-atomic" }
  attrs: { name: "aria-autocomplete" }
  attrs: { name: "aria-busy" }
  attrs: { name: "aria-checked" }
  attrs: { name: "aria-controls" }
  attrs: { name: "aria-current" }
  attrs: { name: "aria-describedby" }
  attrs: { name: "aria-disabled" }
  attrs: { name: "aria-dropeffect" }
  attrs: { name: "aria-expanded" }
  attrs: { name: "aria-flowto" }
  attrs: { name: "aria-grabbed" }
  attrs: { name: "aria-haspopup" }
  attrs: { name: "aria-hidden" }
  attrs: { name: "aria-invalid" }
  attrs: { name: "aria-label" }
  attrs: { name: "aria-labelledby" }
  attrs: { name: "aria-level" }
  attrs: { name: "aria-live" }
  attrs: { name: "aria-modal" }
  attrs: { name: "aria-multiline" }
  attrs: { name: "aria-multiselectable" }
  attrs: { name: "aria-orientation" }
  attrs: { name: "aria-owns" }
  attrs: { name: "aria-posinset" }
  attrs: { name: "aria-pressed" }
  attrs: { name: "aria-readonly" }
  attrs: { name: "aria-relevant" }
  attrs: { name: "aria-required" }
  attrs: { name: "aria-selected" }
  attrs: { name: "aria-setsize" }
  attrs: { name: "aria-sort" }
  attrs: { name: "aria-valuemax" }
  attrs: { name: "aria-valuemin" }
  attrs: { name: "aria-valuenow" }
  attrs: { name: "aria-valuetext" }
  attrs: {
    name: "on"
    trigger: {
      if_value_regex: "tap:.*"
      also_requires_attr: "role"
      also_requires_attr: "tabindex"
    }
  }
  attrs: { name: "role" }
  # For placeholders inside amp-ad and other tags, we allow the
  # placeholder empty attribute. See e.g.
  # https://github.com/ampproject/amphtml/pull/284/commits
  attrs: { name: "placeholder" value: "" }
  # We allow the empty fallback attribute on any element
  attrs: { name: "fallback" value: "" }
  attrs: { name: "overflow" }
  # amp-access specific attributes, see
  # https://amp.dev/documentation/components/amp-access
  # TODO(gregable): These should only be allowed on any tag inside BODY or HEAD.
  attrs: { name: "amp-access" }
  attrs: { name: "amp-access-behavior" }
  attrs: { name: "amp-access-hide" }
  attrs: { name: "amp-access-id" }
  attrs: { name: "amp-access-loader" }
  attrs: { name: "amp-access-loading" }
  attrs: { name: "amp-access-off" }
  attrs: { name: "amp-access-on" }
  attrs: { name: "amp-access-show" }
  attrs: { name: "amp-access-style" }
  attrs: { name: "amp-access-template" }
  attrs: { name: "i-amp-access-id" }
  # amp-form specific attributes, see
  # https://github.com/ampproject/amphtml/issues/5268
  attrs: {
    name: "validation-for"
    trigger: {
      also_requires_attr: "visible-when-invalid"
    }
  }
  attrs: {
    name: "visible-when-invalid"
    value: "badInput"
    value: "customError"
    value: "patternMismatch"
    value: "rangeOverflow"
    value: "rangeUnderflow"
    value: "stepMismatch"
    value: "tooLong"
    value: "tooShort"
    value: "typeMismatch"
    value: "valueMissing"
    trigger: {
      also_requires_attr: "validation-for"
    }
  }
  # amp-fx-collection specific attributes, see
  # https://amp.dev/documentation/components/amp-fx-collection
  attrs: {
    name: "amp-fx"
    value_regex_casei: "(fade-in|"
                        "fade-in-scroll|"
                        "float-in-bottom|"
                        "float-in-top|"
                        "fly-in-bottom|"
                        "fly-in-left|"
                        "fly-in-right|"
                        "fly-in-top|"
                        "parallax)"
                       "(\\s|"
                        "fade-in|"
                        "fade-in-scroll|"
                        "float-in-bottom|"
                        "float-in-top|"
                        "fly-in-bottom|"
                        "fly-in-left|"
                        "fly-in-right|"
                        "fly-in-top|"
                        "parallax)*"
    requires_extension: "amp-fx-collection"
  }
  # amp-subscriptions specific attributes, see
  # https://amp.dev/documentation/components/amp-subscriptions
  attrs: {
    name: "subscriptions-action"
    requires_extension: "amp-subscriptions"
  }
  attrs: {
    name: "subscriptions-actions"
    value: ""
    requires_extension: "amp-subscriptions"
  }
  attrs: {
    name: "subscriptions-decorate"
    requires_extension: "amp-subscriptions"
  }
  attrs: {
    name: "subscriptions-dialog"
    value: ""
    requires_extension: "amp-subscriptions"
  }
  attrs: {
    name: "subscriptions-display"
    requires_extension: "amp-subscriptions"
  }
  attrs: {
    name: "subscriptions-lang"
    requires_extension: "amp-subscriptions"
  }
  attrs: {
    name: "subscriptions-section"
    value_casei: "actions"
    value_casei: "content"
    value_casei: "content-not-granted"
    value_casei: "loading"
    requires_extension: "amp-subscriptions"
  }
  attrs: {
    name: "subscriptions-service"
    requires_extension: "amp-subscriptions"
  }
  # amp-subscriptions-google specific attributes, see
  # https://amp.dev/documentation/components/amp-subscriptions-google
  attrs: {
    name: "subscriptions-google-rtc"
    requires_extension: "amp-subscriptions-google"
  }
  # amp-next-page specific attributes, see
  # https://amp.dev/documentation/components/amp-next-page
  attrs: {
    name: "next-page-hide"
    requires_extension: "amp-next-page"
  }
  attrs: {
    name: "next-page-replace"
    requires_extension: "amp-next-page"
  }
  # <amp-bind>
  attrs: { name: "[aria-activedescendant]" }
  attrs: { name: "[aria-atomic]" }
  attrs: { name: "[aria-autocomplete]" }
  attrs: { name: "[aria-busy]" }
  attrs: { name: "[aria-checked]" }
  attrs: { name: "[aria-controls]" }
  attrs: { name: "[aria-describedby]" }
  attrs: { name: "[aria-disabled]" }
  attrs: { name: "[aria-dropeffect]" }
  attrs: { name: "[aria-expanded]" }
  attrs: { name: "[aria-flowto]" }
  attrs: { name: "[aria-grabbed]" }
  attrs: { name: "[aria-haspopup]" }
  attrs: { name: "[aria-hidden]" }
  attrs: { name: "[aria-invalid]" }
  attrs: { name: "[aria-label]" }
  attrs: { name: "[aria-labelledby]" }
  attrs: { name: "[aria-level]" }
  attrs: { name: "[aria-live]" }
  attrs: { name: "[aria-multiline]" }
  attrs: { name: "[aria-multiselectable]" }
  attrs: { name: "[aria-orientation]" }
  attrs: { name: "[aria-owns]" }
  attrs: { name: "[aria-posinset]" }
  attrs: { name: "[aria-pressed]" }
  attrs: { name: "[aria-readonly]" }
  attrs: { name: "[aria-relevant]" }
  attrs: { name: "[aria-required]" }
  attrs: { name: "[aria-selected]" }
  attrs: { name: "[aria-setsize]" }
  attrs: { name: "[aria-sort]" }
  attrs: { name: "[aria-valuemax]" }
  attrs: { name: "[aria-valuemin]" }
  attrs: { name: "[aria-valuenow]" }
  attrs: { name: "[aria-valuetext]" }
  attrs: { name: "[class]" }
  attrs: { name: "[hidden]" }
  attrs: { name: "[text]" }
  attrs: {
    enabled_by: "transformed"
    name: "i-amphtml-binding"
    value: ""
  }
  # <amp-sidebar>
  attrs: {
    name: "autoscroll"
    requires_ancestor {
      marker: AUTOSCROLL
    }
  }
}

# Error Specificity: Used in the verbose validator to select between multiple
# generated error types for a failing error. A higher number means that the
# error is more specific, ie: more helpful, preferred.
error_specificity { code: UNKNOWN_CODE specificity: 0 }
error_specificity { code: MANDATORY_CDATA_MISSING_OR_INCORRECT specificity: 1 }
error_specificity { code: CDATA_VIOLATES_DENYLIST specificity: 2 }
error_specificity { code: NON_WHITESPACE_CDATA_ENCOUNTERED specificity: 3 }
error_specificity { code: INVALID_JSON_CDATA specificity: 4 }
error_specificity { code: DISALLOWED_TAG_ANCESTOR specificity: 5 }
error_specificity { code: MANDATORY_TAG_ANCESTOR specificity: 6 }
error_specificity { code: MANDATORY_TAG_ANCESTOR_WITH_HINT specificity: 7 }
error_specificity { code: MANDATORY_TAG_MISSING specificity: 8 }
error_specificity { code: WRONG_PARENT_TAG specificity: 9 }
error_specificity { code: TAG_REQUIRED_BY_MISSING specificity: 10 }
error_specificity { code: TAG_EXCLUDED_BY_TAG specificity: 11 }
error_specificity { code: MISSING_REQUIRED_EXTENSION specificity: 12 }
error_specificity { code: ATTR_MISSING_REQUIRED_EXTENSION specificity: 13 }
error_specificity { code: WARNING_TAG_REQUIRED_BY_MISSING specificity: 14 }
error_specificity { code: EXTENSION_UNUSED specificity: 15 }
error_specificity { code: WARNING_EXTENSION_UNUSED specificity: 16 }
error_specificity { code: WARNING_EXTENSION_DEPRECATED_VERSION specificity: 17 }
error_specificity { code: INVALID_EXTENSION_VERSION specificity: 18 }
error_specificity { code: INVALID_EXTENSION_PATH specificity: 19 }
error_specificity { code: NON_LTS_SCRIPT_AFTER_LTS specificity: 20 }
error_specificity { code: LTS_SCRIPT_AFTER_NON_LTS specificity: 21 }
error_specificity { code: INCORRECT_SCRIPT_RELEASE_VERSION specificity: 22 }
error_specificity { code: DISALLOWED_AMP_DOMAIN specificity: 23 }
error_specificity { code: DISALLOWED_TAG specificity: 24 }
error_specificity { code: DISALLOWED_ATTR specificity: 25 }
error_specificity { code: INVALID_ATTR_VALUE specificity: 26 }
error_specificity { code: DUPLICATE_ATTRIBUTE specificity: 27 }
error_specificity { code: ATTR_VALUE_REQUIRED_BY_LAYOUT specificity: 28 }
error_specificity { code: MANDATORY_ATTR_MISSING specificity: 29 }
error_specificity { code: MANDATORY_ONEOF_ATTR_MISSING specificity: 30 }
error_specificity { code: MANDATORY_ANYOF_ATTR_MISSING specificity: 31 }
error_specificity { code: ATTR_REQUIRED_BUT_MISSING specificity: 32 }
error_specificity { code: DUPLICATE_UNIQUE_TAG specificity: 33 }
error_specificity { code: DUPLICATE_UNIQUE_TAG_WARNING specificity: 34 }
error_specificity { code: STYLESHEET_TOO_LONG specificity: 35 }
error_specificity { code: STYLESHEET_AND_INLINE_STYLE_TOO_LONG specificity: 36 }
error_specificity { code: INLINE_STYLE_TOO_LONG specificity: 37 }
error_specificity { code: INLINE_SCRIPT_TOO_LONG specificity: 38 }
error_specificity { code: CSS_SYNTAX_INVALID_AT_RULE specificity: 39 }
error_specificity {
  code: MANDATORY_PROPERTY_MISSING_FROM_ATTR_VALUE specificity: 40
}
error_specificity { code: INVALID_PROPERTY_VALUE_IN_ATTR_VALUE specificity: 41 }
error_specificity { code: DISALLOWED_PROPERTY_IN_ATTR_VALUE specificity: 42 }
error_specificity { code: MUTUALLY_EXCLUSIVE_ATTRS specificity: 43 }
error_specificity { code: UNESCAPED_TEMPLATE_IN_ATTR_VALUE specificity: 44 }
error_specificity { code: TEMPLATE_PARTIAL_IN_ATTR_VALUE specificity: 45 }
error_specificity { code: TEMPLATE_IN_ATTR_NAME specificity: 46 }
error_specificity {
  code: INCONSISTENT_UNITS_FOR_WIDTH_AND_HEIGHT specificity: 47
}
error_specificity { code: MISSING_LAYOUT_ATTRIBUTES specificity: 48 }
error_specificity { code: IMPLIED_LAYOUT_INVALID specificity: 49 }
error_specificity { code: SPECIFIED_LAYOUT_INVALID specificity: 50 }
error_specificity { code: ATTR_DISALLOWED_BY_IMPLIED_LAYOUT specificity: 51 }
error_specificity { code: ATTR_DISALLOWED_BY_SPECIFIED_LAYOUT specificity: 52 }
error_specificity { code: DUPLICATE_DIMENSION specificity: 53 }
error_specificity { code: DISALLOWED_RELATIVE_URL specificity: 54 }
error_specificity { code: MISSING_URL specificity: 55 }
error_specificity { code: DISALLOWED_DOMAIN specificity: 56 }
error_specificity { code: INVALID_URL_PROTOCOL specificity: 57 }
error_specificity { code: INVALID_URL specificity: 58 }
error_specificity { code: DISALLOWED_STYLE_ATTR specificity: 59 }
error_specificity { code: CSS_SYNTAX_STRAY_TRAILING_BACKSLASH specificity: 60 }
error_specificity { code: CSS_SYNTAX_UNTERMINATED_COMMENT specificity: 61 }
error_specificity { code: CSS_SYNTAX_UNTERMINATED_STRING specificity: 62 }
error_specificity { code: CSS_SYNTAX_BAD_URL specificity: 63 }
error_specificity {
  code: CSS_SYNTAX_EOF_IN_PRELUDE_OF_QUALIFIED_RULE specificity: 64
}
error_specificity { code: CSS_SYNTAX_INVALID_DECLARATION specificity: 65 }
error_specificity { code: CSS_SYNTAX_INCOMPLETE_DECLARATION specificity: 66 }
error_specificity { code: CSS_SYNTAX_ERROR_IN_PSEUDO_SELECTOR specificity: 67 }
error_specificity { code: CSS_SYNTAX_MISSING_SELECTOR specificity: 68 }
error_specificity { code: CSS_SYNTAX_NOT_A_SELECTOR_START specificity: 69 }
error_specificity {
  code: CSS_SYNTAX_UNPARSED_INPUT_REMAINS_IN_SELECTOR specificity: 70
}
error_specificity { code: CSS_SYNTAX_MISSING_URL specificity: 71 }
error_specificity { code: CSS_SYNTAX_DISALLOWED_DOMAIN specificity: 72 }
error_specificity { code: CSS_SYNTAX_INVALID_URL specificity: 73 }
error_specificity { code: CSS_SYNTAX_INVALID_URL_PROTOCOL specificity: 74 }
error_specificity { code: CSS_SYNTAX_DISALLOWED_RELATIVE_URL specificity: 75 }
error_specificity { code: INCORRECT_NUM_CHILD_TAGS specificity: 76 }
error_specificity { code: DISALLOWED_CHILD_TAG_NAME specificity: 77 }
error_specificity { code: DISALLOWED_FIRST_CHILD_TAG_NAME specificity: 78 }
error_specificity { code: CSS_SYNTAX_INVALID_ATTR_SELECTOR specificity: 79 }
error_specificity {
  code: CHILD_TAG_DOES_NOT_SATISFY_REFERENCE_POINT specificity: 80
}
error_specificity { code: MANDATORY_REFERENCE_POINT_MISSING specificity: 81 }
error_specificity { code: DUPLICATE_REFERENCE_POINT specificity: 82 }
error_specificity { code: TAG_REFERENCE_POINT_CONFLICT specificity: 83 }
error_specificity {
  code: CHILD_TAG_DOES_NOT_SATISFY_REFERENCE_POINT_SINGULAR
  specificity: 84
}
error_specificity { code: CSS_SYNTAX_DISALLOWED_PROPERTY_VALUE specificity: 85 }
error_specificity {
  code: CSS_SYNTAX_DISALLOWED_PROPERTY_VALUE_WITH_HINT
  specificity: 86
}
error_specificity {
  code: CSS_SYNTAX_PROPERTY_DISALLOWED_WITHIN_AT_RULE
  specificity: 87
}
error_specificity {
  code: CSS_SYNTAX_PROPERTY_DISALLOWED_TOGETHER_WITH
  specificity: 88
}
error_specificity {
  code: CSS_SYNTAX_PROPERTY_REQUIRES_QUALIFICATION
  specificity: 89
}
error_specificity {
  code: BASE_TAG_MUST_PRECEED_ALL_URLS
  specificity: 90
}
error_specificity { code: DISALLOWED_SCRIPT_TAG specificity: 102 }
error_specificity { code: GENERAL_DISALLOWED_TAG specificity: 103 }
error_specificity { code: DEPRECATED_ATTR specificity: 104 }
error_specificity { code: DEPRECATED_TAG specificity: 105 }
error_specificity { code: DISALLOWED_MANUFACTURED_BODY specificity: 106 }
error_specificity { code: DOCUMENT_TOO_COMPLEX specificity: 107 }
error_specificity { code: INCORRECT_MIN_NUM_CHILD_TAGS specificity: 108 }
error_specificity { code: TAG_NOT_ALLOWED_TO_HAVE_SIBLINGS specificity: 109 }
error_specificity { code: MANDATORY_LAST_CHILD_TAG specificity: 110 }
error_specificity {
  code: CSS_SYNTAX_INVALID_PROPERTY
  specificity: 111
}
error_specificity {
  code: CSS_SYNTAX_INVALID_PROPERTY_NOLIST
  specificity: 112
}
error_specificity {
  code: CSS_SYNTAX_QUALIFIED_RULE_HAS_NO_DECLARATIONS
  specificity: 113
}
error_specificity {
  code: CSS_SYNTAX_DISALLOWED_QUALIFIED_RULE_MUST_BE_INSIDE_KEYFRAME
  specificity: 114
}
error_specificity {
  code: CSS_SYNTAX_DISALLOWED_KEYFRAME_INSIDE_KEYFRAME
  specificity: 115
}
error_specificity {
  code: CSS_SYNTAX_MALFORMED_MEDIA_QUERY
  specificity: 117
}
error_specificity {
  code: CSS_SYNTAX_DISALLOWED_MEDIA_TYPE
  specificity: 118
}
error_specificity {
  code: CSS_SYNTAX_DISALLOWED_MEDIA_FEATURE
  specificity: 119
}
error_specificity {
  code: CSS_SYNTAX_DISALLOWED_ATTR_SELECTOR
  specificity: 120
}
error_specificity {
  code: CSS_SYNTAX_DISALLOWED_PSEUDO_CLASS
  specificity: 121
}
error_specificity {
  code: CSS_SYNTAX_DISALLOWED_PSEUDO_ELEMENT
  specificity: 122
}
error_specificity {
  code: CSS_SYNTAX_DISALLOWED_IMPORTANT
  specificity: 123
}
error_specificity {
  code: INVALID_UTF8
  specificity: 124
}
error_specificity {
  code: CSS_EXCESSIVELY_NESTED
  specificity: 125
}
error_specificity {
  code: DOCUMENT_SIZE_LIMIT_EXCEEDED
  specificity: 126
}
error_specificity {
  code: VALUE_SET_MISMATCH
  specificity: 127
}
error_specificity {
  code: INVALID_DOCTYPE_HTML
  specificity: 128
}
error_specificity {
  code: DEV_MODE_ONLY
  # This should always trump any other error. It is asserting
  # that the developer intends for this tag to be an error but
  # that no additional errors should be reported for this tag.
  specificity: 1000
}

# Error formats
error_formats {
  code: UNKNOWN_CODE
  format: "Unknown error."
}
error_formats {
  code: INVALID_DOCTYPE_HTML
  format: "Invalid or missing doctype declaration. Should be '!doctype html'."
}
error_formats {
  code: MANDATORY_TAG_MISSING
  format: "The mandatory tag '%1' is missing or incorrect."
}
error_formats {
  code: TAG_REQUIRED_BY_MISSING
  format: "The tag '%1' is missing or incorrect, but required by '%2'."
}
error_formats {
  code: WARNING_TAG_REQUIRED_BY_MISSING
  format: "The tag '%1' is missing or incorrect, but required by '%2'. "
          "This will soon be an error."
}
error_formats {
  code: TAG_EXCLUDED_BY_TAG
  format: "The tag '%1' is present, but is excluded by the presence of '%2'."
}
error_formats {
  code: WARNING_EXTENSION_UNUSED
  format: "The extension '%1' was found on this page, but is unused "
          "(no '%2' tag seen). This may become an error in the future."
}
error_formats {
  code: EXTENSION_UNUSED
  format: "The extension '%1' was found on this page, but is unused. "
          "Please remove this extension."
}
error_formats {
  code: WARNING_EXTENSION_DEPRECATED_VERSION
  format: "The extension '%1' is referenced at version '%2' which is a "
          "deprecated version. Please use a more recent version of this "
          "extension. This may become an error in the future."
}
error_formats {
  code: INVALID_EXTENSION_VERSION
  format: "The extension '%1' is referenced at version '%2' which is an "
          "invalid version. Please use a valid version of this "
          "extension."
}
error_formats {
  code: INVALID_EXTENSION_PATH
  format: "The extension '%1' has a path '%2' which is invalid. Please use "
          "a valid path for this extension."
}
error_formats {
  code: INCORRECT_SCRIPT_RELEASE_VERSION
  format: "The script version for '%1' is a %2 version which mismatches "
          "with the first script on the page using the %3 version."
}
error_formats {
  code: DISALLOWED_AMP_DOMAIN
  format: "The script tag includes an invalid AMP domain in the src attribute."
}
error_formats {
  code: NON_LTS_SCRIPT_AFTER_LTS
  format: "'%1' must use the LTS version to correspond with the first script "
          "in the page, which uses LTS."
}
error_formats {
  code: LTS_SCRIPT_AFTER_NON_LTS
  format: "'%1' must use the non-LTS version to correspond with the first "
          "script in the page, which does not use LTS."
}
error_formats {
  code: ATTR_REQUIRED_BUT_MISSING
  format: "The attribute '%1' in tag '%2' is missing or incorrect, but "
          "required by attribute '%3'."
}
error_formats {
  code: DISALLOWED_TAG
  format: "The tag '%1' is disallowed."
}
error_formats {
  code: GENERAL_DISALLOWED_TAG
  format: "The tag '%1' is disallowed except in specific forms."
}
error_formats {
  code: DISALLOWED_SCRIPT_TAG
  format: "Custom JavaScript is not allowed."
}
error_formats {
  code: DISALLOWED_ATTR
  format: "The attribute '%1' may not appear in tag '%2'."
}
error_formats {
  code: DISALLOWED_STYLE_ATTR
  format: "The inline 'style' attribute is not allowed in AMP documents. "
          "Use 'style amp-custom' tag instead."
}
error_formats {
  code: INVALID_ATTR_VALUE
  format: "The attribute '%1' in tag '%2' is set "
          "to the invalid value '%3'."
}
error_formats {
  code: DUPLICATE_ATTRIBUTE
  format: "The tag '%1' contains the attribute '%2' repeated multiple times."
}
error_formats {
  code: ATTR_VALUE_REQUIRED_BY_LAYOUT
  format: "Invalid value '%1' for attribute '%2' in tag '%3' - "
          "for layout '%4', set the attribute '%2' to value '%5'."
}
error_formats {
  code: MISSING_LAYOUT_ATTRIBUTES
  format: "Incomplete layout attributes specified for tag '%1'. For example, "
          "provide attributes 'width' and 'height'."
}
error_formats {
  code: IMPLIED_LAYOUT_INVALID
  format: "The implied layout '%1' is not supported by tag '%2'."
}
error_formats {
  code: SPECIFIED_LAYOUT_INVALID
  format: "The specified layout '%1' is not supported by tag '%2'."
}
error_formats {
  code: MANDATORY_ATTR_MISSING
  format: "The mandatory attribute '%1' is missing in tag '%2'."
}
error_formats {
  code: INCONSISTENT_UNITS_FOR_WIDTH_AND_HEIGHT
  format: "Inconsistent units for width and height in tag '%1' - "
          "width is specified in '%2' whereas height is specified in '%3'."
}
error_formats {
  code: STYLESHEET_TOO_LONG
  format: "The author stylesheet specified in tag '%1' is too "
          "long - document contains %2 bytes whereas the limit is %3 bytes."
}
error_formats {
  code: STYLESHEET_AND_INLINE_STYLE_TOO_LONG
  format: "The author stylesheet specified in tag 'style amp-custom' and "
          "the combined inline styles is too large - document contains %1 "
          "bytes whereas the limit is %2 bytes."
}
error_formats {
  code: INLINE_STYLE_TOO_LONG
  format: "The inline style specified in tag '%1' is too long - it "
          "contains %2 bytes whereas the limit is %3 bytes."
}
error_formats {
  code: INLINE_SCRIPT_TOO_LONG
  format: "The inline script is %1 bytes, which exceeds the limit of %2 bytes."
}
error_formats {
  code: MANDATORY_CDATA_MISSING_OR_INCORRECT
  format: "The mandatory text inside tag '%1' is missing or incorrect."
}
error_formats {
  code: CDATA_VIOLATES_DENYLIST
  format: "The text inside tag '%1' contains '%2', which is disallowed."
}
error_formats {
  code: NON_WHITESPACE_CDATA_ENCOUNTERED
  format: "The tag '%1' contains text, which is disallowed."
}
error_formats {
  code: INVALID_JSON_CDATA
  format: "The script tag contains invalid JSON that cannot be parsed."
}
error_formats {
  code: DISALLOWED_PROPERTY_IN_ATTR_VALUE
  format: "The property '%1' in attribute '%2' in tag '%3' is disallowed."
}
error_formats {
  code: INVALID_PROPERTY_VALUE_IN_ATTR_VALUE
  format: "The property '%1' in attribute '%2' in tag '%3' is set to "
          "'%4', which is invalid."
}
error_formats {
  code: DUPLICATE_DIMENSION
  format: "Multiple image candidates with the same width or pixel density "
          "found in attribute '%1' in tag '%2'."
}
error_formats {
  code: MISSING_URL
  format: "Missing URL for attribute '%1' in tag '%2'."
}
error_formats {
  code: INVALID_URL
  format: "Malformed URL '%3' for attribute '%1' in tag '%2'."
}
error_formats {
  code: INVALID_URL_PROTOCOL
  format: "Invalid URL protocol '%3:' for attribute '%1' in tag '%2'."
}
error_formats {
  code: DISALLOWED_DOMAIN
  format: "The domain '%3' for attribute '%1' in tag '%2' is disallowed."
}
error_formats {
  code: DISALLOWED_RELATIVE_URL
  format: "The relative URL '%3' for attribute '%1' in tag '%2' is disallowed."
}
error_formats {
  code: MANDATORY_PROPERTY_MISSING_FROM_ATTR_VALUE
  format: "The property '%1' is missing from attribute '%2' in tag '%3'."
}
error_formats {
  code: UNESCAPED_TEMPLATE_IN_ATTR_VALUE
  format: "The attribute '%1' in tag '%2' is set to '%3', which contains "
          "unescaped Mustache template syntax."
}
error_formats {
  code: TEMPLATE_PARTIAL_IN_ATTR_VALUE
  format: "The attribute '%1' in tag '%2' is set to '%3', which contains "
          "a Mustache template partial."
}
error_formats {
  code: DEPRECATED_TAG
  format: "The tag '%1' is deprecated - use '%2' instead."
}
error_formats {
  code: DEPRECATED_ATTR
  format: "The attribute '%1' in tag '%2' is deprecated - use '%3' instead."
}
error_formats {
  code: MUTUALLY_EXCLUSIVE_ATTRS
  format: "Mutually exclusive attributes encountered in tag '%1' - "
          "pick one of %2."
}
error_formats {
  code: MANDATORY_ONEOF_ATTR_MISSING
  format: "The tag '%1' is missing a mandatory attribute - pick one of %2."
}
error_formats {
  code: MANDATORY_ANYOF_ATTR_MISSING
  format: "The tag '%1' is missing a mandatory attribute - pick at least "
          "one of %2."
}
error_formats {
  code: WRONG_PARENT_TAG
  format: "The parent tag of tag '%1' is '%2', but it can only be '%3'."
}
error_formats {
  code: DISALLOWED_TAG_ANCESTOR
  format: "The tag '%1' may not appear as a descendant of tag '%2'."
}
error_formats {
  code: MANDATORY_TAG_ANCESTOR
  format: "The tag '%1' may only appear as a descendant of tag '%2'."
}
error_formats {
  code: MANDATORY_TAG_ANCESTOR_WITH_HINT
  format: "The tag '%1' may only appear as a descendant of tag '%2'. "
          "Did you mean '%3'?"
}
error_formats {
  code: DUPLICATE_UNIQUE_TAG
  format: "The tag '%1' appears more than once in the document."
}
error_formats {
  code: DUPLICATE_UNIQUE_TAG_WARNING
  format: "The tag '%1' appears more than once in the document. "
          "This will soon be an error."
}
error_formats {
  code: TEMPLATE_IN_ATTR_NAME
  format: "Mustache template syntax in attribute name '%1' in tag '%2'."
}
error_formats {
  code: ATTR_DISALLOWED_BY_IMPLIED_LAYOUT
  format: "The attribute '%1' in tag '%2' is disallowed by implied layout '%3'."
}
error_formats {
  code: ATTR_DISALLOWED_BY_SPECIFIED_LAYOUT
  format: "The attribute '%1' in tag '%2' is disallowed by specified "
          "layout '%3'."
}
error_formats {
  code: INCORRECT_NUM_CHILD_TAGS
  format: "Tag '%1' must have %2 child tags - saw %3 child tags."
}
error_formats {
  code: INCORRECT_MIN_NUM_CHILD_TAGS
  format: "Tag '%1' must have a minimum of %2 child tags - saw %3 child tags."
}
error_formats {
  code: TAG_NOT_ALLOWED_TO_HAVE_SIBLINGS
  format: "Tag '%1' is not allowed to have any sibling tags ('%2' should only"
  " have 1 child)."
}
error_formats {
  code: MANDATORY_LAST_CHILD_TAG
  format: "Tag '%1', if present, must be the last child of tag '%2'."
}
error_formats {
  code: DISALLOWED_CHILD_TAG_NAME
  format: "Tag '%1' is disallowed as child of tag '%2'. "
          "Child tag must be one of %3."
}
error_formats {
  code: DISALLOWED_FIRST_CHILD_TAG_NAME
  format: "Tag '%1' is disallowed as first child of tag '%2'. "
          "First child tag must be one of %3."
}
error_formats {
  code: DISALLOWED_MANUFACTURED_BODY
  format: "Tag or text which is only allowed inside the body section found "
          "outside of the body section."
}
error_formats {
  code: CHILD_TAG_DOES_NOT_SATISFY_REFERENCE_POINT
  format: "The tag '%1', a child tag of '%2', does not satisfy one of "
          "the acceptable reference points: %3."
}
error_formats {
  code: CHILD_TAG_DOES_NOT_SATISFY_REFERENCE_POINT_SINGULAR
  format: "The tag '%1', a child tag of '%2', does not satisfy "
          "the reference point '%3'."
}
error_formats {
  code: MANDATORY_REFERENCE_POINT_MISSING
  format: "The mandatory reference point '%1' for '%2' is missing."
}
error_formats {
  code: DUPLICATE_REFERENCE_POINT
  format: "The reference point '%1' for '%2' must be unique "
          "but a duplicate was encountered."
}
error_formats {
  code: TAG_REFERENCE_POINT_CONFLICT
  format: "The tag '%1' conflicts with reference point '%2' because "
          "both define reference points."
}
error_formats {
  code: BASE_TAG_MUST_PRECEED_ALL_URLS
  format: "The tag '%1', which contains URLs, was found earlier in the "
          "document than the BASE element."
}
error_formats {
  code: MISSING_REQUIRED_EXTENSION
  format: "The tag '%1' requires including the '%2' extension JavaScript."
}
error_formats {
  code: ATTR_MISSING_REQUIRED_EXTENSION
  format: "The attribute '%1' requires including the '%2' extension JavaScript."
}
error_formats {
  code: DOCUMENT_TOO_COMPLEX
  format: "The document is too complex."
}
error_formats {
  code: INVALID_UTF8
  format: "The document contains invalid UTF8."
}

# CSS Errors. All of these use %1 for the tag name (in practice 'style'
# by default).
error_formats {
  code: CSS_SYNTAX_INVALID_AT_RULE
  format: "CSS syntax error in tag '%1' - saw invalid at rule '@%2'."
}
error_formats {
  code: CSS_SYNTAX_STRAY_TRAILING_BACKSLASH
  format: "CSS syntax error in tag '%1' - stray trailing backslash."
}
error_formats {
  code: CSS_SYNTAX_UNTERMINATED_COMMENT
  format: "CSS syntax error in tag '%1' - unterminated comment."
}
error_formats {
  code: CSS_SYNTAX_UNTERMINATED_STRING
  format: "CSS syntax error in tag '%1' - unterminated string."
}
error_formats {
  code: CSS_SYNTAX_BAD_URL
  format: "CSS syntax error in tag '%1' - bad url."
}
error_formats {
  code: CSS_SYNTAX_EOF_IN_PRELUDE_OF_QUALIFIED_RULE
  format: "CSS syntax error in tag '%1' - end of stylesheet encountered "
          "in prelude of a qualified rule."
}
error_formats {
  code: CSS_SYNTAX_INVALID_PROPERTY
  format: "CSS syntax error in tag '%1' - invalid property '%2'. The only "
          "allowed properties are '%3'."
}
error_formats {
  code: CSS_SYNTAX_INVALID_PROPERTY_NOLIST
  format: "CSS syntax error in tag '%1' - invalid property '%2'."
}
error_formats {
  code: CSS_SYNTAX_QUALIFIED_RULE_HAS_NO_DECLARATIONS
  format: "CSS syntax error in tag '%1' - qualified rule '%2' has no "
          "declarations."
}
error_formats {
  code: CSS_SYNTAX_DISALLOWED_QUALIFIED_RULE_MUST_BE_INSIDE_KEYFRAME
  format: "CSS syntax error in tag '%1' - qualified rule '%2' must be located "
          "inside of a keyframe."
}
error_formats {
  code: CSS_SYNTAX_DISALLOWED_KEYFRAME_INSIDE_KEYFRAME
  format: "CSS syntax error in tag '%1' - keyframe inside keyframe is not "
          "allowed."
}
error_formats {
  code: CSS_SYNTAX_INVALID_DECLARATION
  format: "CSS syntax error in tag '%1' - invalid declaration."
}
error_formats {
  code: CSS_SYNTAX_INCOMPLETE_DECLARATION
  format: "CSS syntax error in tag '%1' - incomplete declaration."
}
error_formats {
  code: CSS_SYNTAX_ERROR_IN_PSEUDO_SELECTOR
  format: "CSS syntax error in tag '%1' - invalid pseudo selector."
}
error_formats {
  code: CSS_SYNTAX_MISSING_SELECTOR
  format: "CSS syntax error in tag '%1' - missing selector."
}
error_formats {
  code: CSS_SYNTAX_NOT_A_SELECTOR_START
  format: "CSS syntax error in tag '%1' - not a selector start."
}
error_formats {
  code: CSS_SYNTAX_UNPARSED_INPUT_REMAINS_IN_SELECTOR
  format: "CSS syntax error in tag '%1' - unparsed input remains in selector."
}
error_formats {
  code: CSS_SYNTAX_MISSING_URL
  format: "CSS syntax error in tag '%1' - missing url."
}
error_formats {
  code: CSS_SYNTAX_INVALID_URL
  format: "CSS syntax error in tag '%1' - invalid url '%2'."
}
error_formats {
  code: CSS_SYNTAX_INVALID_URL_PROTOCOL
  format: "CSS syntax error in tag '%1' - invalid url protocol '%2:'."
}
error_formats {
  code: CSS_SYNTAX_DISALLOWED_DOMAIN
  format: "CSS syntax error in tag '%1' - invalid domain '%2'."
}
error_formats {
  code: CSS_SYNTAX_DISALLOWED_RELATIVE_URL
  format: "CSS syntax error in tag '%1' - disallowed relative url '%2'."
}
error_formats {
  code: CSS_SYNTAX_INVALID_ATTR_SELECTOR
  format: "CSS syntax error in tag '%1' - invalid attribute selector."
}
error_formats {
  code: CSS_SYNTAX_DISALLOWED_PROPERTY_VALUE
  format: "CSS syntax error in tag '%1' - the property '%2' is set "
          "to the disallowed value '%3'."
}
error_formats {
  code: CSS_SYNTAX_DISALLOWED_PROPERTY_VALUE_WITH_HINT
  format: "CSS syntax error in tag '%1' - the property '%2' is set "
          "to the disallowed value '%3'. Allowed values: %4."
}
error_formats {
  code: CSS_SYNTAX_DISALLOWED_IMPORTANT
  format: "Usage of the !important CSS qualifier is not allowed."
}
error_formats {
  code: CSS_SYNTAX_PROPERTY_DISALLOWED_WITHIN_AT_RULE
  format: "CSS syntax error in tag '%1' - the property '%2' is disallowed "
          "within @%3. Allowed properties: %4."
}
error_formats {
  code: CSS_SYNTAX_PROPERTY_DISALLOWED_TOGETHER_WITH
  format: "CSS syntax error in tag '%1' - the property '%2' is disallowed "
          "together with '%3'. Allowed properties: %4."
}
error_formats {
  code: CSS_SYNTAX_PROPERTY_REQUIRES_QUALIFICATION
  format: "CSS syntax error in tag '%1' - the property '%2' is disallowed "
          "unless the enclosing rule is prefixed with the '%3' qualification."
}
error_formats {
  code: CSS_SYNTAX_MALFORMED_MEDIA_QUERY
  format: "CSS syntax error in tag '%1' - malformed media query."
}
error_formats {
  code: CSS_SYNTAX_DISALLOWED_MEDIA_TYPE
  format: "CSS syntax error in tag '%1' - disallowed media type '%2'."
}
error_formats {
  code: CSS_SYNTAX_DISALLOWED_MEDIA_FEATURE
  format: "CSS syntax error in tag '%1' - disallowed media feature '%2'."
}
error_formats {
  code: CSS_SYNTAX_DISALLOWED_ATTR_SELECTOR
  format: "CSS error in tag '%1' - disallowed attribute selector '%2'."
}
error_formats {
  code: CSS_SYNTAX_DISALLOWED_PSEUDO_CLASS
  format: "CSS error in tag '%1' - disallowed pseudo class '%2'."
}
error_formats {
  code: CSS_SYNTAX_DISALLOWED_PSEUDO_ELEMENT
  format: "CSS error in tag '%1' - disallowed pseudo element '%2'."
}
error_formats {
  code: CSS_EXCESSIVELY_NESTED
  format: "CSS excessively nested in tag '%1'."
}
error_formats {
  code: DOCUMENT_SIZE_LIMIT_EXCEEDED
  format: "Document exceeded %1 bytes limit. Actual size %2 bytes."
}
error_formats {
  code: VALUE_SET_MISMATCH
  format: "Attribute '%1' in tag '%2' contains a value that does not match any "
          "other tags on the page."
}
error_formats {
  code: DEV_MODE_ONLY
  format: "Tag 'html' marked with attribute 'data-ampdevmode'. Validator "
          "will suppress errors regarding any other tag with this attribute."
}
error_formats {
  code: AMP_EMAIL_MISSING_STRICT_CSS_ATTR
  format: "Tag 'html' marked with attribute 'amp4email' is missing the "
          "corresponding attribute 'data-css-strict' for enabling strict "
          "CSS validation. This may become an error in the future."
}
declaration_list {
  name: "BASIC_DECLARATIONS"
  declaration: { name: "align-content" }
  declaration: { name: "align-items" }
  declaration: { name: "align-self" }
  declaration: { name: "all" }
  declaration: { name: "animation" }
  declaration: { name: "animation-delay" }
  declaration: { name: "animation-direction" }
  declaration: { name: "animation-duration" }
  declaration: { name: "animation-fill-mode" }
  declaration: { name: "animation-iteration-count" }
  declaration: { name: "animation-name" }
  declaration: { name: "animation-play-state" }
  declaration: { name: "animation-timing-function" }
  declaration: { name: "aspect-ratio" }
  declaration: { name: "backface-visibility" }
  declaration: { name: "background" }
  declaration: { name: "background-attachment" }
  declaration: { name: "background-blend-mode" }
  declaration: { name: "background-clip" }
  declaration: { name: "background-color" }
  declaration: { name: "background-image" }
  declaration: { name: "background-origin" }
  declaration: { name: "background-position" }
  declaration: { name: "background-repeat" }
  declaration: { name: "background-size" }
  declaration: { name: "border" }
  declaration: { name: "border-bottom" }
  declaration: { name: "border-bottom-color" }
  declaration: { name: "border-bottom-left-radius" }
  declaration: { name: "border-bottom-right-radius" }
  declaration: { name: "border-bottom-style" }
  declaration: { name: "border-bottom-width" }
  declaration: { name: "border-collapse" }
  declaration: { name: "border-color" }
  declaration: { name: "border-image" }
  declaration: { name: "border-image-outset" }
  declaration: { name: "border-image-repeat" }
  declaration: { name: "border-image-slice" }
  declaration: { name: "border-image-source" }
  declaration: { name: "border-image-width" }
  declaration: { name: "border-left" }
  declaration: { name: "border-left-color" }
  declaration: { name: "border-left-style" }
  declaration: { name: "border-left-width" }
  declaration: { name: "border-radius" }
  declaration: { name: "border-right" }
  declaration: { name: "border-right-color" }
  declaration: { name: "border-right-style" }
  declaration: { name: "border-right-width" }
  declaration: { name: "border-spacing" }
  declaration: { name: "border-style" }
  declaration: { name: "border-top" }
  declaration: { name: "border-top-color" }
  declaration: { name: "border-top-left-radius" }
  declaration: { name: "border-top-right-radius" }
  declaration: { name: "border-top-style" }
  declaration: { name: "border-top-width" }
  declaration: { name: "border-width" }
  declaration: { name: "bottom" }
  declaration: { name: "box-decoration-break" }
  declaration: { name: "box-shadow" }
  declaration: { name: "box-sizing" }
  declaration: { name: "break-after" }
  declaration: { name: "break-before" }
  declaration: { name: "break-inside" }
  declaration: { name: "caption-side" }
  declaration: { name: "caret-color" }
  declaration: { name: "clear" }
  declaration: { name: "clip" }
  declaration: { name: "color" }
  declaration: { name: "column-count" }
  declaration: { name: "column-fill" }
  declaration: { name: "column-gap" }
  declaration: { name: "column-rule" }
  declaration: { name: "column-rule-color" }
  declaration: { name: "column-rule-style" }
  declaration: { name: "column-rule-width" }
  declaration: { name: "column-span" }
  declaration: { name: "column-width" }
  declaration: { name: "columns" }
  declaration: { name: "content" }
  declaration: { name: "counter-increment" }
  declaration: { name: "counter-reset" }
  declaration: { name: "cursor" }
  declaration: { name: "direction" }
  declaration: { name: "display" }
  declaration: { name: "empty-cells" }
  declaration: { name: "filter" }
  declaration: { name: "flex" }
  declaration: { name: "flex-basis" }
  declaration: { name: "flex-direction" }
  declaration: { name: "flex-flow" }
  declaration: { name: "flex-grow" }
  declaration: { name: "flex-shrink" }
  declaration: { name: "flex-wrap" }
  declaration: { name: "float" }
  declaration: { name: "font" }
  declaration: { name: "font-family" }
  declaration: { name: "font-feature-settings" }
  declaration: { name: "font-kerning" }
  declaration: { name: "font-language-override" }
  declaration: { name: "font-size" }
  declaration: { name: "font-size-adjust" }
  declaration: { name: "font-stretch" }
  declaration: { name: "font-style" }
  declaration: { name: "font-synthesis" }
  declaration: { name: "font-variant" }
  declaration: { name: "font-variant-alternates" }
  declaration: { name: "font-variant-caps" }
  declaration: { name: "font-variant-east-asian" }
  declaration: { name: "font-variant-ligatures" }
  declaration: { name: "font-variant-numeric" }
  declaration: { name: "font-variant-position" }
  declaration: { name: "font-weight" }
  declaration: { name: "grid" }
  declaration: { name: "grid-area" }
  declaration: { name: "grid-auto-columns" }
  declaration: { name: "grid-auto-flow" }
  declaration: { name: "grid-auto-rows" }
  declaration: { name: "grid-column" }
  declaration: { name: "grid-column-end" }
  declaration: { name: "grid-column-gap" }
  declaration: { name: "grid-column-start" }
  declaration: { name: "grid-gap" }
  declaration: { name: "grid-row" }
  declaration: { name: "grid-row-end" }
  declaration: { name: "grid-row-gap" }
  declaration: { name: "grid-row-start" }
  declaration: { name: "grid-template" }
  declaration: { name: "grid-template-areas" }
  declaration: { name: "grid-template-columns" }
  declaration: { name: "grid-template-rows" }
  declaration: { name: "hanging-punctuation" }
  declaration: { name: "height" }
  declaration: { name: "hyphens" }
  declaration: { name: "image-rendering" }
  declaration: { name: "isolation" }
  declaration: { name: "justify-content" }
  declaration: { name: "left" }
  declaration: { name: "letter-spacing" }
  declaration: { name: "line-break" }
  declaration: { name: "line-height" }
  declaration: { name: "list-style" }
  declaration: { name: "list-style-image" }
  declaration: { name: "list-style-position" }
  declaration: { name: "list-style-type" }
  declaration: { name: "margin" }
  declaration: { name: "margin-bottom" }
  declaration: { name: "margin-left" }
  declaration: { name: "margin-right" }
  declaration: { name: "margin-top" }
  declaration: { name: "max-height" }
  declaration: { name: "max-width" }
  declaration: { name: "min-height" }
  declaration: { name: "min-width" }
  declaration: { name: "mix-blend-mode" }
  declaration: { name: "object-fit" }
  declaration: { name: "object-position" }
  declaration: { name: "opacity" }
  declaration: { name: "order" }
  declaration: { name: "orphans" }
  declaration: { name: "outline" }
  declaration: { name: "outline-color" }
  declaration: { name: "outline-offset" }
  declaration: { name: "outline-style" }
  declaration: { name: "outline-width" }
  declaration: { name: "overflow" }
  declaration: { name: "overflow-wrap" }
  declaration: { name: "overflow-x" }
  declaration: { name: "overflow-y" }
  declaration: { name: "padding" }
  declaration: { name: "padding-bottom" }
  declaration: { name: "padding-left" }
  declaration: { name: "padding-right" }
  declaration: { name: "padding-top" }
  declaration: { name: "page-break-after" }
  declaration: { name: "page-break-before" }
  declaration: { name: "page-break-inside" }
  declaration: { name: "perspective" }
  declaration: { name: "perspective-origin" }
  declaration: { name: "pointer-events" }
  # CSS property `position` with values `fixed` and `sticky are not allowed.
  # From https://www.w3schools.com/cssref/pr_class_position.asp
  declaration: {
    name: "position"
    value_casei: "absolute"
    value_casei: "inherit"
    value_casei: "initial"
    value_casei: "relative"
    value_casei: "static"
  }
  declaration: { name: "quotes" }
  declaration: { name: "resize" }
  declaration: { name: "right" }
  declaration: { name: "tab-size" }
  declaration: { name: "table-layout" }
  declaration: { name: "text-align" }
  declaration: { name: "text-align-last" }
  declaration: { name: "text-combine-upright" }
  declaration: { name: "text-decoration" }
  declaration: { name: "text-decoration-color" }
  declaration: { name: "text-decoration-line" }
  declaration: { name: "text-decoration-skip-ink" }
  declaration: { name: "text-decoration-style" }
  declaration: { name: "text-fill-color" }
  declaration: { name: "text-indent" }
  declaration: { name: "text-justify" }
  declaration: { name: "text-orientation" }
  declaration: { name: "text-overflow" }
  declaration: { name: "text-shadow" }
  declaration: { name: "text-stroke" }
  declaration: { name: "text-stroke-color" }
  declaration: { name: "text-stroke-width" }
  declaration: { name: "text-transform" }
  declaration: { name: "text-underline-position" }
  declaration: { name: "top" }
  declaration: { name: "transform" }
  declaration: { name: "transform-origin" }
  declaration: { name: "transform-style" }
  declaration: { name: "transition" }
  declaration: { name: "transition-delay" }
  declaration: { name: "transition-duration" }
  declaration: { name: "transition-property" }
  declaration: { name: "transition-timing-function" }
  declaration: { name: "unicode-bidi" }
  declaration: { name: "user-select" }
  declaration: { name: "vertical-align" }
  declaration: { name: "visibility" }
  declaration: { name: "white-space" }
  declaration: { name: "widows" }
  declaration: { name: "width" }
  declaration: { name: "word-break" }
  declaration: { name: "word-spacing" }
  declaration: { name: "word-wrap" }
  declaration: { name: "writing-mode" }
  declaration: {
     name: "z-index"
     value_regex_casei: "auto|initial|inherit|[-+]?[0-9]+"
  }
}

declaration_list {
  name: "SVG_BASIC_DECLARATIONS"
  # SVG specific properties:
  # https://www.w3.org/TR/SVG11/styling.html#SVGStylingProperties
  declaration: { name: "alignment-baseline" }
  declaration: { name: "baseline-shift" }
  declaration: { name: "clip-path" }
  declaration: { name: "clip-rule" }
  declaration: { name: "color-interpolation" }
  declaration: { name: "color-interpolation-filters" }
  declaration: { name: "color-profile" } # SVG
  declaration: { name: "color-rendering" } # SVG
  declaration: { name: "dominant-baseline" }
  declaration: { name: "enable-background" }
  declaration: { name: "fill" }
  declaration: { name: "fill-opacity" }
  declaration: { name: "fill-rule" }
  declaration: { name: "flood-color" }
  declaration: { name: "flood-opacity" }
  declaration: { name: "glyph-orientation-horizontal" }
  declaration: { name: "glyph-orientation-vertical" }
  declaration: { name: "kerning" }
  declaration: { name: "lighting-color" }
  declaration: { name: "marker" }
  declaration: { name: "marker-end" }
  declaration: { name: "marker-mid" }
  declaration: { name: "marker-start" }
  declaration: { name: "mask" }
  declaration: { name: "shape-rendering" }
  declaration: { name: "stop-color" }
  declaration: { name: "stop-opacity" }
  declaration: { name: "stroke" }
  declaration: { name: "stroke-dasharray" }
  declaration: { name: "stroke-dashoffset" }
  declaration: { name: "stroke-linecap" }
  declaration: { name: "stroke-linejoin" }
  declaration: { name: "stroke-miterlimit" }
  declaration: { name: "stroke-opacity" }
  declaration: { name: "stroke-width" }
  declaration: { name: "text-anchor" }
  declaration: { name: "text-rendering" }
}

declaration_list {
  name: "EMAIL_SPECIFIC_DECLARATIONS"
  # AMP4EMAIL supported properties:
  # https://amp.dev/documentation/guides-and-tutorials/learn/email-spec/amp-email-css/#supported-css-properties
  declaration: { name: "-moz-appearance" }
  declaration: { name: "-webkit-appearance" }
  declaration: { name: "-webkit-tap-highlight-color" }
  declaration: { name: "align-content" }
  declaration: { name: "align-items" }
  declaration: { name: "align-self" }
  declaration: { name: "appearance" }
  declaration: { name: "aspect-ratio" }
  declaration: { name: "azimuth" }
  declaration: { name: "background" }
  declaration: { name: "background-attachment" }
  declaration: { name: "background-blend-mode" }
  declaration: { name: "background-clip" }
  declaration: { name: "background-color" }
  declaration: { name: "background-image" }
  declaration: { name: "background-origin" }
  declaration: { name: "background-position" }
  declaration: { name: "background-repeat" }
  declaration: { name: "background-size" }
  declaration: { name: "border" }
  declaration: { name: "border-bottom" }
  declaration: { name: "border-bottom-color" }
  declaration: { name: "border-bottom-left-radius" }
  declaration: { name: "border-bottom-right-radius" }
  declaration: { name: "border-bottom-style" }
  declaration: { name: "border-bottom-width" }
  declaration: { name: "border-collapse" }
  declaration: { name: "border-color" }
  declaration: { name: "border-left" }
  declaration: { name: "border-left-color" }
  declaration: { name: "border-left-style" }
  declaration: { name: "border-left-width" }
  declaration: { name: "border-radius" }
  declaration: { name: "border-right" }
  declaration: { name: "border-right-color" }
  declaration: { name: "border-right-style" }
  declaration: { name: "border-right-width" }
  declaration: { name: "border-spacing" }
  declaration: { name: "border-style" }
  declaration: { name: "border-top" }
  declaration: { name: "border-top-color" }
  declaration: { name: "border-top-left-radius" }
  declaration: { name: "border-top-right-radius" }
  declaration: { name: "border-top-style" }
  declaration: { name: "border-top-width" }
  declaration: { name: "border-width" }
  declaration: { name: "bottom" }
  declaration: { name: "box-shadow" }
  declaration: { name: "box-sizing" }
  declaration: { name: "break-after" }
  declaration: { name: "break-before" }
  declaration: { name: "break-inside" }
  declaration: { name: "caption-side" }
  declaration: { name: "caret-color" }
  declaration: { name: "clear" }
  declaration: { name: "color" }
  declaration: { name: "color-adjust" }
  declaration: { name: "column-count" }
  declaration: { name: "column-fill" }
  declaration: { name: "column-gap" }
  declaration: { name: "column-rule" }
  declaration: { name: "column-rule-color" }
  declaration: { name: "column-rule-style" }
  declaration: { name: "column-rule-width" }
  declaration: { name: "column-span" }
  declaration: { name: "column-width" }
  declaration: { name: "columns" }
  declaration: { name: "counter-increment" }
  declaration: { name: "counter-reset" }
  declaration: {
    name: "cursor"
    value_casei: "initial"
    value_casei: "pointer"
  }
  declaration: { name: "direction" }
  declaration: { name: "display" }
  declaration: { name: "elevation" }
  declaration: { name: "empty-cells" }
  declaration: {
    name: "filter"
    value_regex_casei: "^ *((blur|brightness|contrast|drop-shadow|grayscale|hue-rotate|invert|opacity|saturate|sepia)\\(([^() ]*|(rgb|rgba|hsl|hsla)\\([^()]*\\))( +([^() ]*|(rgb|rgba|hsl|hsla)\\([^()]*\\)))*\\) *)*$"
  }
  declaration: { name: "flex" }
  declaration: { name: "flex-basis" }
  declaration: { name: "flex-direction" }
  declaration: { name: "flex-flow" }
  declaration: { name: "flex-grow" }
  declaration: { name: "flex-shrink" }
  declaration: { name: "flex-wrap" }
  declaration: { name: "float" }
  declaration: { name: "font" }
  declaration: { name: "font-family" }
  declaration: { name: "font-feature-settings" }
  declaration: { name: "font-kerning" }
  declaration: { name: "font-size" }
  declaration: { name: "font-size-adjust" }
  declaration: { name: "font-stretch" }
  declaration: { name: "font-style" }
  declaration: { name: "font-synthesis" }
  declaration: { name: "font-variant" }
  declaration: { name: "font-variant-alternates" }
  declaration: { name: "font-variant-caps" }
  declaration: { name: "font-variant-east-asian" }
  declaration: { name: "font-variant-ligatures" }
  declaration: { name: "font-variant-numeric" }
  declaration: { name: "font-variation-settings" }
  declaration: { name: "font-weight" }
  declaration: { name: "gap" }
  declaration: { name: "grid" }
  declaration: { name: "grid-area" }
  declaration: { name: "grid-auto-columns" }
  declaration: { name: "grid-auto-flow" }
  declaration: { name: "grid-auto-rows" }
  declaration: { name: "grid-column" }
  declaration: { name: "grid-column-end" }
  declaration: { name: "grid-column-start" }
  declaration: { name: "grid-row" }
  declaration: { name: "grid-row-end" }
  declaration: { name: "grid-row-start" }
  declaration: { name: "grid-template" }
  declaration: { name: "grid-template-areas" }
  declaration: { name: "grid-template-columns" }
  declaration: { name: "grid-template-rows" }
  declaration: { name: "height" }
  declaration: { name: "hyphens" }
  declaration: { name: "image-orientation" }
  declaration: { name: "image-resolution" }
  declaration: { name: "inline-size" }
  declaration: { name: "isolation" }
  declaration: { name: "justify-content" }
  declaration: { name: "justify-items" }
  declaration: { name: "justify-self" }
  declaration: { name: "left" }
  declaration: { name: "letter-spacing" }
  declaration: { name: "line-break" }
  declaration: { name: "line-height" }
  declaration: { name: "list-style" }
  declaration: { name: "list-style-position" }
  declaration: { name: "list-style-type" }
  declaration: { name: "margin" }
  declaration: { name: "margin-bottom" }
  declaration: { name: "margin-left" }
  declaration: { name: "margin-right" }
  declaration: { name: "margin-top" }
  declaration: { name: "max-height" }
  declaration: { name: "max-width" }
  declaration: { name: "min-height" }
  declaration: { name: "min-width" }
  declaration: { name: "mix-blend-mode" }
  declaration: { name: "object-fit" }
  declaration: { name: "object-position" }
  declaration: { name: "offset-distance" }
  declaration: { name: "opacity" }
  declaration: { name: "order" }
  declaration: { name: "outline" }
  declaration: { name: "outline-color" }
  declaration: { name: "outline-offset" }
  declaration: { name: "outline-style" }
  declaration: { name: "outline-width" }
  declaration: { name: "overflow" }
  declaration: { name: "overflow-wrap" }
  declaration: { name: "overflow-x" }
  declaration: { name: "overflow-y" }
  declaration: { name: "padding" }
  declaration: { name: "padding-bottom" }
  declaration: { name: "padding-left" }
  declaration: { name: "padding-right" }
  declaration: { name: "padding-top" }
  declaration: { name: "pause" }
  declaration: { name: "pause-after" }
  declaration: { name: "pause-before" }
  declaration: { name: "perspective" }
  declaration: { name: "perspective-origin" }
  declaration: { name: "pitch" }
  declaration: { name: "pitch-range" }
  declaration: { name: "place-items" }
  declaration: { name: "position" }
  declaration: { name: "quotes" }
  declaration: { name: "resize" }
  declaration: { name: "richness" }
  declaration: { name: "right" }
  declaration: { name: "row-gap" }
  declaration: { name: "speak" }
  declaration: { name: "speak-header" }
  declaration: { name: "speak-numeral" }
  declaration: { name: "speak-punctuation" }
  declaration: { name: "speech-rate" }
  declaration: { name: "stress" }
  declaration: { name: "table-layout" }
  declaration: { name: "text-align" }
  declaration: { name: "text-align-last" }
  declaration: { name: "text-combine-upright" }
  declaration: { name: "text-decoration" }
  declaration: { name: "text-decoration-color" }
  declaration: { name: "text-decoration-line" }
  declaration: { name: "text-decoration-skip" }
  declaration: { name: "text-decoration-style" }
  declaration: { name: "text-emphasis" }
  declaration: { name: "text-emphasis-color" }
  declaration: { name: "text-emphasis-position" }
  declaration: { name: "text-emphasis-style" }
  declaration: { name: "text-indent" }
  declaration: { name: "text-justify" }
  declaration: { name: "text-orientation" }
  declaration: { name: "text-overflow" }
  declaration: { name: "text-shadow" }
  declaration: { name: "text-transform" }
  declaration: { name: "text-underline-position" }
  declaration: { name: "top" }
  declaration: { name: "transform" }
  declaration: { name: "transform-box" }
  declaration: { name: "transform-origin" }
  declaration: { name: "transform-style" }
  declaration: {
    name: "transition"
    value_regex_casei: "^ *((initial|unset)|(((none|offset-distance|opacity|transform|visibility)( *(|-|\\+)([0-9]+|[0-9]*\\.[0-9]+)(e(|-|\\+)?[0-9]+)?(s|ms)( *(linear|(ease|ease-in|ease-out|ease-in-out|cubic-bezier\\( *(|-|\\+)([0-9]+|[0-9]*\\.[0-9]+)(e(|-|\\+)?[0-9]+)?(, *(|-|\\+)([0-9]+|[0-9]*\\.[0-9]+)(e(|-|\\+)?[0-9]+)?){3} *\\))|(step-start|step-end|steps\\( *(|-|\\+)[0-9]+(, *(jump-start|jump-end|jump-none|jump-both|start|end))? *\\)))( *(|-|\\+)([0-9]+|[0-9]*\\.[0-9]+)(e(|-|\\+)?[0-9]+)?(s|ms))?)?)?)(, *((none|offset-distance|opacity|transform|visibility)( *(|-|\\+)([0-9]+|[0-9]*\\.[0-9]+)(e(|-|\\+)?[0-9]+)?(s|ms)( *(linear|(ease|ease-in|ease-out|ease-in-out|cubic-bezier\\( *(|-|\\+)([0-9]+|[0-9]*\\.[0-9]+)(e(|-|\\+)?[0-9]+)?(, *(|-|\\+)([0-9]+|[0-9]*\\.[0-9]+)(e(|-|\\+)?[0-9]+)?){3} *\\))|(step-start|step-end|steps\\( *(|-|\\+)[0-9]+(, *(jump-start|jump-end|jump-none|jump-both|start|end))? *\\)))( *(|-|\\+)([0-9]+|[0-9]*\\.[0-9]+)(e(|-|\\+)?[0-9]+)?(s|ms))?)?)?))*)) *$"
  }
  declaration: { name: "transition-delay" }
  declaration: { name: "transition-duration" }
  declaration: {
    name: "transition-property"
    value_regex_casei: "^ *(initial|unset|(none|offset-distance|opacity|transform|visibility)(, *(none|offset-distance|opacity|transform|visibility))*) *$"
  }
  declaration: { name: "transition-timing-function" }
  declaration: { name: "unicode-bidi" }
  declaration: { name: "vertical-align" }
  declaration: {
    name: "visibility"
    value_casei: "hidden"
    value_casei: "initial"
    value_casei: "visible"
  }
  declaration: { name: "voice-family" }
  declaration: { name: "white-space" }
  declaration: { name: "width" }
  declaration: { name: "word-break" }
  declaration: { name: "word-spacing" }
  declaration: { name: "word-wrap" }
  declaration: { name: "writing-mode" }
  declaration: {
    name: "z-index"
    value_regex_casei: "([-+]?0)|([-+]?100)|([-+]?[1-9][0-9]?)"
  }
}

# DocCSS rules for AMP for non-transformed documents.
css {
  html_format: AMP
  disabled_by: "transformed"
  spec_url:
  "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#stylesheets"

  max_bytes: 75000
  max_bytes_per_inline_style: 1000
  max_bytes_spec_url:
  "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#maximum-size"
  url_bytes_included: true

  allow_all_declaration_in_style: true
  allow_important: false
  image_url_spec: {
    protocol: "https"
    protocol: "http"
    protocol: "data"
    allow_empty: true
  }
  font_url_spec: {
    protocol: "https"
    protocol: "http"
    protocol: "data"
    allow_empty: true
  }
  expand_vendor_prefixes: true
}

# DocCss Rules for AMP transformed documents.
# Identical to the non-transformed specification except that
# `url_bytes_included` is false.
css {
  html_format: AMP
  enabled_by: "transformed"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#stylesheets"

  max_bytes: 112500
  max_bytes_per_inline_style: 1500
  max_bytes_spec_url:
  "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#maximum-size"
  url_bytes_included: false

  allow_all_declaration_in_style: true
  allow_important: false
  image_url_spec: {
    protocol: "https"
    protocol: "http"
    protocol: "data"
    allow_empty: true
  }
  font_url_spec: {
    protocol: "https"
    protocol: "http"
    protocol: "data"
    allow_empty: true
  }
  expand_vendor_prefixes: true
}

# DocCss rules for AMP4ADS.
css {
  html_format: AMP4ADS
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/a4a_spec/#css"

  # AMP4ADS currently allows unlimited inline style, and only limits style in
  # the <style amp-custom> tag in the document head.
  # max_bytes: 20000
  # max_bytes_per_inline_style: 1000
  max_bytes_spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/a4a_spec/#css"

  allow_all_declaration_in_style: true
  allow_important: false
  image_url_spec: {
    protocol: "https"
    protocol: "http"
    protocol: "data"
    allow_empty: true
  }
  font_url_spec: {
    protocol: "https"
    protocol: "http"
    protocol: "data"
    allow_empty: true
  }
  expand_vendor_prefixes: true
}

# DocCss rules for AMP4EMAIL, not data-css-strict
css {
  html_format: AMP4EMAIL
  disabled_by: "data-css-strict"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/email-spec/amp-email-css"

  # Due to a bug, we allowed unlimited doc-level bytes for CSS in AMP4EMAIL
  # formats. To avoid breaking emails, this is temporarily set to a warning but
  # we intend to change to an error at a later time.
  max_bytes_is_warning: true
  max_bytes: 75000
  max_bytes_per_inline_style: 1000

  max_bytes_spec_url:
  "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#maximum-size"
  url_bytes_included: true

  allow_all_declaration_in_style: true
  allow_important: false
  image_url_spec: {
    protocol: "https"
  }
  expand_vendor_prefixes: true
  declaration_list: "BASIC_DECLARATIONS"
  declaration_list_svg: "SVG_BASIC_DECLARATIONS"
}

# DocCss rules for AMP4EMAIL, data-css-strict
css {
  html_format: AMP4EMAIL
  enabled_by: "data-css-strict"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/email-spec/amp-email-css"

  max_bytes_is_warning: false
  max_bytes: 75000
  max_bytes_per_inline_style: 1000

  # TODO(b/162314127): add maximum size documentation to the email spec
  max_bytes_spec_url:
  "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#maximum-size"
  url_bytes_included: true

  allow_all_declaration_in_style: false
  allow_important: false
  image_url_spec: {
    protocol: "https"
  }
  expand_vendor_prefixes: false
  declaration_list: "EMAIL_SPECIFIC_DECLARATIONS"
}

# This variant of <style amp-custom> is designed to help developers see how
# close they are to the byte limit, even if the page is passing. By changing
# the attribute to <style amp-custom-length-check>, this tagspec will be used
# to match errors. It cannot pass however, as it has a cdata.max_bytes set to
# -1. As a result, it will always fail and report the length found in the
# tag's cdata. Deleting this tagspec will never break any valid AMP documents
# as if it matches, the page will be invalid.
tags: {  # <style amp-custom-length-check>, ALL FORMATS
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "STYLE"
  spec_name: "style amp-custom-length-check"
  descriptive_name: "style amp-custom-length-check"
  unique: true
  mandatory_parent: "HEAD"
  attrs: {
    name: "amp-custom-length-check"
    mandatory: true
    value: ""
    dispatch_key: NAME_DISPATCH
  }
  attr_lists: "nonce-attr"
  attrs: {  # Allow the default.
    name: "type"
    value_casei: "text/css"
  }
  cdata: {
    # This will always cause the tagspec matching to fail.
    max_bytes: -1
  }
}

tags: {  # <style amp-custom>, [AMP]
  html_format: AMP
  tag_name: "STYLE"
  spec_name: "style amp-custom"
  descriptive_name: "style amp-custom"
  named_id: STYLE_AMP_CUSTOM
  unique: true
  mandatory_parent: "HEAD"
  attr_lists: "nonce-attr"
  attrs: {
    name: "amp-custom"
    mandatory: true
    value: ""
    # This is a fine dispatch key, but we would prefer that this tagspec
    # is used for errors related to <style> tags missing the amp-custom
    # attribute rather than the boilerplate tagspec which doesn't have an
    # attribute and thus can't have a dispatch_key.
    # dispatch_key: NAME_DISPATCH
  }
  attrs: {  # Allow the default.
    name: "type"
    value_casei: "text/css"
  }
  cdata: {
    doc_css_bytes: true
    max_bytes: 75000
    max_bytes_spec_url:
    "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#maximum-size"

    css_spec: {
      at_rule_spec: { name: 'font-face' }
      at_rule_spec: { name: 'keyframes' }
      at_rule_spec: {
         name: 'media'
         media_query_spec: {
           issues_as_error: false
           type: 'all'
           type: 'print'
           type: 'screen'
           type: 'speech'
           type: 'tty'
           type: 'tv'
           type: 'projection'
           type: 'handheld'
           type: 'braille'
           type: 'embossesd'
           type: 'aural'
           feature: 'any-hover'
           feature: 'any-pointer'
           feature: 'aspect-ratio'
           feature: 'color'
           feature: 'color-gamut'
           feature: 'color-index'
           feature: 'device-aspect-ratio'
           feature: 'device-height'
           feature: 'device-width'
           feature: 'display-mode'
           feature: 'forced-colors'
           feature: 'grid'
           feature: 'height'
           feature: 'hover'
           feature: 'inverted-colors'
           feature: 'light-level'
           feature: 'max-aspect-ratio'
           feature: 'max-color-index'
           feature: 'max-device-aspect-ratio'
           feature: 'max-device-height'
           feature: 'max-device-width'
           feature: 'max-height'
           feature: 'max-resolution'
           feature: 'max-width'
           feature: 'min-aspect-ratio'
           feature: 'min-color-index'
           feature: 'min-device-aspect-ratio'
           feature: 'min-device-height'
           feature: 'min-device-width'
           feature: 'min-height'
           feature: 'min-resolution'
           feature: 'min-width'
           feature: 'monochrome'
           feature: 'orientation'
           feature: 'overflow-block'
           feature: 'overflow-inline'
           feature: 'pointer'
           feature: 'prefers-color-scheme'
           feature: 'prefers-contrast'
           feature: 'prefers-reduced-motion'
           feature: 'prefers-reduced-transparency'
           feature: 'resolution'
           feature: 'scan'
           feature: 'scripting'
           feature: 'transform-3d'
           feature: 'update'
           feature: 'width'
           # Other non-standard media types and features commonly seen:
           type: '-sass-debug-info'
           type: 'device-pixel-ratio'
           type: 'device-pixel-ratio2'
           feature: '--mod'
           feature: '--md'
           feature: 'device-pixel-ratio'
           feature: 'device-pixel-ratio2'
           feature: 'high-contrast'
           feature: 'max-device-pixel-ratio'
           feature: 'min-device-pixel-ratio'
           feature: 'max-device-pixel-ratio2'
           feature: 'min-device-pixel-ratio2'
           feature: 'min--moz-device-pixel-ratio'
           feature: 'max--moz-device-pixel-ratio'
         }
      }
      at_rule_spec: { name: 'page' }
      at_rule_spec: { name: 'supports' }
      # https://github.com/ampproject/amphtml/issues/26406
      at_rule_spec: { name: '-moz-document' }
    }
    disallowed_cdata_regex: {
      regex: "<!--"
      error_message: "html comments"
    }
    # These regex denylists are temporary hacks to validate essential CSS
    # rules. They will be replaced later with more principled solutions.
    disallowed_cdata_regex: {
      regex: "(^|\\W)i-amphtml-"
      error_message: "CSS i-amphtml- name prefix"
    }
  }
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#stylesheets"
}

tags: {  # <style amp-custom>, AMP4ADS
  html_format: AMP4ADS
  tag_name: "STYLE"
  spec_name: "style amp-custom (AMP4ADS)"
  descriptive_name: "style amp-custom"
  unique: true
  mandatory_parent: "HEAD"
  attr_lists: "nonce-attr"
  attrs: {
    name: "amp-custom"
    mandatory: true
    value: ""
    # This is a fine dispatch key, but we would prefer that this tagspec
    # is used for errors related to <style> tags missing the amp-custom
    # attribute rather than the boilerplate tagspec which doesn't have an
    # attribute and thus can't have a dispatch_key.
    # dispatch_key: NAME_DISPATCH
  }
  attrs: {  # Allow the default.
    name: "type"
    value_casei: "text/css"
  }
  cdata: {
    doc_css_bytes: true
    max_bytes: 20000  # Smaller than AMP, which is 75,000.
    max_bytes_spec_url:
    "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#maximum-size"
    css_spec: {
      at_rule_spec: { name: 'font-face' }
      at_rule_spec: { name: 'keyframes' }
      at_rule_spec: {
        name: 'media'
        media_query_spec: {
          issues_as_error: false
          type: 'all'
          type: 'print'
          type: 'screen'
          type: 'speech'
          feature: 'width'
          feature: 'height'
          feature: 'aspect-ratio'
          feature: 'orientation'
          feature: 'resolution'
        }
      }
      at_rule_spec: { name: 'supports' }
      validate_amp4ads: true
    }
    disallowed_cdata_regex: {
      regex: "<!--"
      error_message: "html comments"
    }
    # These regex denylists are temporary hacks to validate essential CSS
    # rules. They will be replaced later with more principled solutions.
    disallowed_cdata_regex: {
      regex: "(^|\\W)i-amphtml-"
      error_message: "CSS i-amphtml- name prefix"
    }
  }
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/a4a_spec/#css"
}

tags: {  # <style amp-custom>, AMP4EMAIL, not data-css-strict
  html_format: AMP4EMAIL
  disabled_by: "data-css-strict"
  tag_name: "STYLE"
  spec_name: "style amp-custom (AMP4EMAIL)"
  descriptive_name: "style amp-custom"
  unique: true
  mandatory_parent: "HEAD"
  attrs: {
    name: "amp-custom"
    mandatory: true
    value: ""
    # This is a fine dispatch key, but we would prefer that this tagspec
    # is used for errors related to <style> tags missing the amp-custom
    # attribute rather than the boilerplate tagspec which doesn't have an
    # attribute and thus can't have a dispatch_key.
    # dispatch_key: NAME_DISPATCH
  }
  attrs: {  # Allow the default.
    name: "type"
    value_casei: "text/css"
  }
  cdata: {
    doc_css_bytes: true
    max_bytes: 75000
    max_bytes_spec_url:
    "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#maximum-size"

    css_spec: {
      at_rule_spec: {
        name: 'media'
        media_query_spec: {
          issues_as_error: true
          type: 'all'
          type: 'screen'
          feature: 'device-width'
          feature: 'hover'
          feature: 'max-device-width'
          feature: 'max-resolution'
          feature: 'max-width'
          feature: 'min-device-width'
          feature: 'min-resolution'
          feature: 'min-width'
          feature: 'orientation'
          feature: 'pointer'
          feature: 'resolution'
          feature: 'width'
        }
      }
      at_rule_spec: { name: 'page' }
    }
    disallowed_cdata_regex: {
      regex: "<!--"
      error_message: "html comments"
    }
    # These regex denylists are temporary hacks to validate essential CSS
    # rules. They will be replaced later with more principled solutions.
    disallowed_cdata_regex: {
      regex: "(^|\\W)i-amphtml-"
      error_message: "CSS i-amphtml- name prefix"
    }
  }
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/email-spec/amp-email-css"
}

tags: {  # <style amp-custom>, AMP4EMAIL, data-css-strict
  html_format: AMP4EMAIL
  enabled_by: "data-css-strict"
  tag_name: "STYLE"
  spec_name: "style amp-custom (css-strict)"
  descriptive_name: "style amp-custom"
  unique: true
  mandatory_parent: "HEAD"
  attrs: {
    name: "amp-custom"
    mandatory: true
    value: ""
    # This is a fine dispatch key, but we would prefer that this tagspec
    # is used for errors related to <style> tags missing the amp-custom
    # attribute rather than the boilerplate tagspec which doesn't have an
    # attribute and thus can't have a dispatch_key.
    # dispatch_key: NAME_DISPATCH
  }
  attrs: {  # Allow the default.
    name: "type"
    value_casei: "text/css"
  }
  cdata: {
    doc_css_bytes: true
    max_bytes: 75000
    max_bytes_spec_url:
    "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#maximum-size"

    css_spec: {
      at_rule_spec: {
        name: 'media'
        media_query_spec: {
          issues_as_error: true
          type: 'all'
          type: 'screen'
          feature: 'device-width'
          feature: 'hover'
          feature: 'max-device-width'
          feature: 'max-resolution'
          feature: 'max-width'
          feature: 'min-device-width'
          feature: 'min-resolution'
          feature: 'min-width'
          feature: 'orientation'
          feature: 'pointer'
          feature: 'resolution'
          feature: 'width'
        }
      }
      selector_spec: {
        attribute_name: "active"
        attribute_name: "alt"
        attribute_name: "autocomplete"
        attribute_name: "autoexpand"
        attribute_name: "checked"
        attribute_name: "class"
        attribute_name: "controls"
        attribute_name: "dir"
        attribute_name: "disabled"
        attribute_name: "expanded"
        attribute_name: "fallback"
        attribute_name: "fetch-error"
        attribute_name: "height"
        attribute_name: "hidden"
        attribute_name: "id"
        attribute_name: "items"
        attribute_name: "layout"
        attribute_name: "name"
        attribute_name: "noloading"
        attribute_name: "novalidate"
        attribute_name: "open"
        attribute_name: "option"
        attribute_name: "overflow"
        attribute_name: "placeholder"
        attribute_name: "readonly"
        attribute_name: "required"
        attribute_name: "role"
        attribute_name: "scrollable"
        attribute_name: "selected"
        attribute_name: "side"
        attribute_name: "sizes"
        attribute_name: "submit-error"
        attribute_name: "submit-success"
        attribute_name: "submitting"
        attribute_name: "title"
        attribute_name: "type"
        attribute_name: "value"
        attribute_name: "width"
        pseudo_class: "active"
        pseudo_class: "checked"
        pseudo_class: "default"
        pseudo_class: "disabled"
        pseudo_class: "empty"
        pseudo_class: "enabled"
        pseudo_class: "first-child"
        pseudo_class: "first-of-type"
        pseudo_class: "focus"
        pseudo_class: "focus-within"
        pseudo_class: "hover"
        pseudo_class: "in-range"
        pseudo_class: "indeterminate"
        pseudo_class: "invalid"
        pseudo_class: "last-child"
        pseudo_class: "last-of-type"
        pseudo_class: "not"
        pseudo_class: "nth-child"
        pseudo_class: "nth-last-child"
        pseudo_class: "nth-last-of-type"
        pseudo_class: "nth-of-type"
        pseudo_class: "only-child"
        pseudo_class: "only-of-type"
        pseudo_class: "optional"
        pseudo_class: "out-of-range"
        pseudo_class: "read-only"
        pseudo_class: "read-write"
        pseudo_class: "required"
        pseudo_class: "valid"
      }
    }
    disallowed_cdata_regex: {
      regex: "<!--"
      error_message: "html comments"
    }
    # These regex denylists are temporary hacks to validate essential CSS
    # rules. They will be replaced later with more principled solutions.
    disallowed_cdata_regex: {
      regex: "(^|\\W)i-amphtml-"
      error_message: "CSS i-amphtml- name prefix"
    }
  }
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/email-spec/amp-email-css"
}

tags: {  # `<style amp-boilerplate>`, [AMP]
  html_format: AMP
  tag_name: "STYLE"
  spec_name: "head > style[amp-boilerplate]"
  descriptive_name: "head > style[amp-boilerplate]"
  satisfies: "style[amp-boilerplate]"
  unique: true
  mandatory_parent: "HEAD"
  attr_lists: "nonce-attr"
  attrs: {
    name: "amp-boilerplate"
    mandatory: true
    value: ""
    dispatch_key: NAME_VALUE_PARENT_DISPATCH
  }
  cdata: {
    doc_css_bytes: false
    # This regex allows arbitrary whitespace whenever some whitespace
    # is required in the boilerplate. It was made by replacing ' ' with \\s+.
    cdata_regex: "\\s*body\\s*{\\s*-webkit-animation:\\s*-amp-start\\s+8s\\s+steps\\(1,\\s*end\\)\\s+0s\\s+1\\s+normal\\s+both;\\s*-moz-animation:\\s*-amp-start\\s+8s\\s+steps\\s*\\(1\\s*,\\s*end\\s*\\)\\s+0s\\s+1\\s+normal\\s+both;\\s*-ms-animation:\\s*-amp-start\\s+8s\\s+steps\\s*\\(1\\s*,\\s*end\\s*\\)\\s+0s\\s+1\\s+normal\\s+both;\\s*animation:\\s*-amp-start\\s+8s\\s+steps\\(1,\\s*end\\)\\s+0s\\s+1\\s+normal\\s+both;?\\s*}\\s*@-webkit-keyframes\\s+-amp-start\\s*{\\s*from\\s*{\\s*visibility:\\s*hidden;?\\s*}\\s*to\\s*{\\s*visibility:\\s*visible;?\\s*}\\s*}\\s*@-moz-keyframes\\s+-amp-start\\s*{\\s*from\\s*{\\s*visibility:\\s*hidden;?\\s*}\\s*to\\s*{\\s*visibility:\\s*visible;?\\s*}\\s*}\\s*@-ms-keyframes\\s+-amp-start\\s*{\\s*from\\s*{\\s*visibility:\\s*hidden;?\\s*}\\s*to\\s*{\\s*visibility:\\s*visible;?\\s*}\\s*}\\s*@-o-keyframes\\s+-amp-start\\s*{\\s*from\\s*{\\s*visibility:\\s*hidden;?\\s*}\\s*to\\s*{\\s*visibility:\\s*visible;?\\s*}\\s*}\\s*@keyframes\\s+-amp-start\\s*{\\s*from\\s*{\\s*visibility:\\s*hidden;?\\s*}\\s*to\\s*{\\s*visibility:\\s*visible;?\\s*}\\s*}\\s*"
  }
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amp-boilerplate/?format=websites"
}

tags: {  # `<style amp4ads-boilerplate>`, AMP4ADS
  html_format: AMP4ADS
  tag_name: "STYLE"
  spec_name: "head > style[amp4ads-boilerplate]"
  descriptive_name: "head > style[amp4ads-boilerplate]"
  satisfies: "style[amp-boilerplate]"
  unique: true
  mandatory_parent: "HEAD"
  attr_lists: "nonce-attr"
  attrs: {
    name: "amp4ads-boilerplate"
    mandatory: true
    value: ""
    dispatch_key: NAME_VALUE_PARENT_DISPATCH
  }
  cdata: {
    doc_css_bytes: false
    # This regex allows arbitrary whitespace around the body statement, but
    # not inside it. This is a compromise to keep things simple, but allow
    # pretty printing tools some latitude.
    cdata_regex: "\\s*body\\s*{\\s*visibility:\\s*hidden;?\\s*}\\s*"
  }
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/a4a_spec/?format=ads#boilerplate"
}

tags: {  # `<style amp4email-boilerplate>`, AMP4EMAIL
  html_format: AMP4EMAIL
  tag_name: "STYLE"
  spec_name: "head > style[amp4email-boilerplate]"
  descriptive_name: "head > style[amp4email-boilerplate]"
  satisfies: "style[amp-boilerplate]"
  unique: true
  mandatory_parent: "HEAD"
  attrs: {
    name: "amp4email-boilerplate"
    mandatory: true
    value: ""
    dispatch_key: NAME_VALUE_PARENT_DISPATCH
  }
  cdata: {
    doc_css_bytes: false
    # This regex allows arbitrary whitespace whenever some whitespace
    # is required in the boilerplate. It was made by replacing ' ' with \\s+.
    cdata_regex: "\\s*body\\s*{\\s*visibility:\\s*hidden;?\\s*}\\s*"
  }
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/email-spec/amp-email-format/?format=email#required-markup"
}

tags: {  # `<style amp-boilerplate>`, [AMP]
  html_format: AMP
  tag_name: "STYLE"
  spec_name: "noscript > style[amp-boilerplate]"
  descriptive_name: "noscript > style[amp-boilerplate]"
  satisfies: "noscript > style[amp-boilerplate]"
  unique: true
  mandatory_parent: "NOSCRIPT"
  mandatory_ancestor: "HEAD"
  attr_lists: "nonce-attr"
  attrs: {
    name: "amp-boilerplate"
    mandatory: true
    value: ""
    dispatch_key: NAME_VALUE_PARENT_DISPATCH
  }
  cdata {
    doc_css_bytes: false
    cdata_regex: "\\s*body\\s*{\\s*-webkit-animation:\\s*none;\\s*-moz-animation:\\s*none;\\s*-ms-animation:\\s*none;\\s*animation:\\s*none;?\\s*}\\s*"
  }
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amp-boilerplate/?format=websites"
}

tags: {  # `<style amp-keyframes>`, [AMP, AMP4ADS]
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "STYLE"
  spec_name: "style[amp-keyframes]"
  descriptive_name: "style[amp-keyframes]"
  unique: true
  mandatory_parent: "BODY"
  mandatory_last_child: true
  attrs: {
     name: "amp-keyframes"
     value: ""
     mandatory: true
     dispatch_key: NAME_DISPATCH
  }
  cdata: {
    # amp-keyframes CSS bytes do not count against the document CSS byte limit
    # as these style tags must come at the end of the document and are limited
    # to animation keyframes rules.
    doc_css_bytes: false
    max_bytes: 500000
    max_bytes_spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#keyframes-stylesheet"
    css_spec: {
      at_rule_spec: { name: 'keyframes' }
      at_rule_spec: {
         name: 'media'
         media_query_spec: {
           issues_as_error: false
           type: 'all'
           type: 'print'
           type: 'screen'
           type: 'speech'
           type: 'tty'
           type: 'tv'
           type: 'projection'
           type: 'handheld'
           type: 'braille'
           type: 'embossesd'
           type: 'aural'
           feature: 'any-hover'
           feature: 'any-pointer'
           feature: 'aspect-ratio'
           feature: 'color'
           feature: 'color-gamut'
           feature: 'color-index'
           feature: 'device-aspect-ratio'
           feature: 'device-height'
           feature: 'device-width'
           feature: 'display-mode'
           feature: 'forced-colors'
           feature: 'grid'
           feature: 'height'
           feature: 'hover'
           feature: 'inverted-colors'
           feature: 'light-level'
           feature: 'monochrome'
           feature: 'max-aspect-ratio'
           feature: 'max-color-index'
           feature: 'max-device-aspect-ratio'
           feature: 'max-device-height'
           feature: 'max-device-width'
           feature: 'max-height'
           feature: 'max-resolution'
           feature: 'max-width'
           feature: 'min-aspect-ratio'
           feature: 'min-color-index'
           feature: 'min-device-aspect-ratio'
           feature: 'min-device-height'
           feature: 'min-device-width'
           feature: 'min-height'
           feature: 'min-resolution'
           feature: 'min-width'
           feature: 'orientation'
           feature: 'overflow-block'
           feature: 'overflow-inline'
           feature: 'pointer'
           feature: 'prefers-color-scheme'
           feature: 'prefers-contrast'
           feature: 'prefers-reduced-motion'
           feature: 'prefers-reduced-transparency'
           feature: 'resolution'
           feature: 'scan'
           feature: 'scripting'
           feature: 'transform-3d'
           feature: 'update'
           feature: 'width'
           # Other non-standard media types and features commonly seen:
           type: '-sass-debug-info'
           type: 'device-pixel-ratio'
           type: 'device-pixel-ratio2'
           feature: '--mod'
           feature: '--md'
           feature: 'device-pixel-ratio'
           feature: 'device-pixel-ratio2'
           feature: 'high-contrast'
           feature: 'aspect-ratio'
           feature: 'max-device-pixel-ratio'
           feature: 'min-device-pixel-ratio'
           feature: 'max-device-pixel-ratio2'
           feature: 'min-device-pixel-ratio2'
         }
      }

      at_rule_spec: { name: 'supports' }
      validate_keyframes: true
      declaration: "animation-timing-function"
      declaration: "offset-distance"
      declaration: "opacity"
      declaration: "transform"
      declaration: "visibility"
    }
  }
}

tags: {  # '<style amp-runtime>`, transformed AMP
  html_format: AMP
  enabled_by: "transformed"
  tag_name: "STYLE"
  spec_name: "style[amp-runtime] (transformed)"
  descriptive_name: "style[amp-runtime]"
  mandatory: true
  unique: true
  mandatory_parent: "HEAD"
  attr_lists: "nonce-attr"
  attrs: {
    name: "amp-runtime"
    mandatory: true
    value: ""
    dispatch_key: NAME_VALUE_PARENT_DISPATCH
  }
  attrs: {
    name: "i-amphtml-version"
    mandatory: true
    value_regex: "^\\d{15}|latest$"
  }
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#stylesheets"
}

tags: {  # <style amp-noscript>, [AMP]
  html_format: AMP
  tag_name: "STYLE"
  spec_name: "style amp-noscript"
  descriptive_name: "style amp-noscript"
  unique: true
  mandatory_parent: "NOSCRIPT"
  mandatory_ancestor: "HEAD"
  attr_lists: "nonce-attr"
  attrs: {
    name: "amp-noscript"
    mandatory: true
    value: ""
    dispatch_key: NAME_DISPATCH
  }
  attrs: {  # Allow the default.
    name: "type"
    value_casei: "text/css"
  }
  cdata: {
    doc_css_bytes: true
    max_bytes: 10000
    max_bytes_spec_url:
    "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#maximum-size"

    css_spec: {
      allow_important: true
      at_rule_spec: {
         name: 'media'
         media_query_spec: {
           issues_as_error: false
           type: 'all'
           type: 'print'
           type: 'screen'
           type: 'speech'
           type: 'tty'
           type: 'tv'
           type: 'projection'
           type: 'handheld'
           type: 'braille'
           type: 'embossesd'
           type: 'aural'
           feature: 'any-hover'
           feature: 'any-pointer'
           feature: 'aspect-ratio'
           feature: 'color'
           feature: 'color-gamut'
           feature: 'color-index'
           feature: 'device-aspect-ratio'
           feature: 'device-height'
           feature: 'device-width'
           feature: 'display-mode'
           feature: 'forced-colors'
           feature: 'grid'
           feature: 'height'
           feature: 'hover'
           feature: 'inverted-colors'
           feature: 'light-level'
           feature: 'max-aspect-ratio'
           feature: 'max-color-index'
           feature: 'max-device-aspect-ratio'
           feature: 'max-device-height'
           feature: 'max-device-width'
           feature: 'max-height'
           feature: 'max-resolution'
           feature: 'max-width'
           feature: 'min-aspect-ratio'
           feature: 'min-color-index'
           feature: 'min-device-aspect-ratio'
           feature: 'min-device-height'
           feature: 'min-device-width'
           feature: 'min-height'
           feature: 'min-resolution'
           feature: 'min-width'
           feature: 'monochrome'
           feature: 'orientation'
           feature: 'overflow-block'
           feature: 'overflow-inline'
           feature: 'pointer'
           feature: 'prefers-color-scheme'
           feature: 'prefers-contrast'
           feature: 'prefers-reduced-motion'
           feature: 'prefers-reduced-transparency'
           feature: 'resolution'
           feature: 'scan'
           feature: 'scripting'
           feature: 'transform-3d'
           feature: 'update'
           feature: 'width'
         }
      }
      at_rule_spec: { name: 'page' }
      at_rule_spec: { name: 'supports' }
      # https://github.com/ampproject/amphtml/issues/26406
      at_rule_spec: { name: '-moz-document' }
    }
    disallowed_cdata_regex: {
      regex: "<!--"
      error_message: "html comments"
    }
    # These regex denylists are temporary hacks to validate essential CSS
    # rules. They will be replaced later with more principled solutions.
    disallowed_cdata_regex: {
      regex: "(^|\\W)i-amphtml-"
      error_message: "CSS i-amphtml- name prefix"
    }
  }
  spec_url: "https://github.com/ampproject/amphtml/issues/20609"
}
# 4.7.15 SVG
# We allow some limited embedded SVG tags. We do not allow inline styles
# or embedding any external resources.

# Attribute lists: https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute
attr_lists: {
  name: "svg-conditional-processing-attributes"
  attrs: { name: "requiredextensions" }
  attrs: { name: "requiredfeatures" }
  attrs: { name: "systemlanguage" }
}
attr_lists: {
  name: "svg-core-attributes"
  attrs: { name: "xml:lang" }
  attrs: { name: "xml:space" }
  attrs: { name: "xmlns" }
  attrs: { name: "xmlns:xlink" }
}
attr_lists: {
  name: "svg-filter-primitive-attributes"
  attrs: { name: "height" }
  attrs: { name: "result" }
  attrs: { name: "width" }
  attrs: { name: "x" }
  attrs: { name: "y" }
}
attr_lists: {
  name: "svg-presentation-attributes"
  attrs: { name: "alignment-baseline" }
  attrs: { name: "baseline-shift" }
  attrs: { name: "clip" }
  attrs: { name: "clip-path" }
  attrs: { name: "clip-rule" }
  attrs: { name: "color" }
  attrs: { name: "color-interpolation" }
  attrs: { name: "color-interpolation-filters" }
  attrs: { name: "color-profile" }
  attrs: { name: "color-rendering" }
  attrs: { name: "cursor" }
  attrs: { name: "direction" }
  attrs: { name: "display" }
  attrs: { name: "dominant-baseline" }
  attrs: { name: "enable-background" }
  attrs: { name: "fill" }
  attrs: { name: "fill-opacity" }
  attrs: { name: "fill-rule" }
  attrs: { name: "filter" }
  attrs: { name: "flood-color" }
  attrs: { name: "flood-opacity" }
  attrs: { name: "focusable" }
  attrs: { name: "font-family" }
  attrs: { name: "font-size" }
  attrs: { name: "font-size-adjust" }
  attrs: { name: "font-stretch" }
  attrs: { name: "font-style" }
  attrs: { name: "font-variant" }
  attrs: { name: "font-weight" }
  attrs: { name: "glyph-orientation-horizontal" }
  attrs: { name: "glyph-orientation-vertical" }
  attrs: { name: "image-rendering" }
  attrs: { name: "kerning" }
  attrs: { name: "letter-spacing" }
  attrs: { name: "lighting-color" }
  attrs: { name: "marker-end" }
  attrs: { name: "marker-mid" }
  attrs: { name: "marker-start" }
  attrs: { name: "mask" }
  attrs: { name: "opacity" }
  attrs: { name: "overflow" }
  attrs: { name: "pointer-events" }
  attrs: { name: "shape-rendering" }
  attrs: { name: "stop-color" }
  attrs: { name: "stop-opacity" }
  attrs: { name: "stroke" }
  attrs: { name: "stroke-dasharray" }
  attrs: { name: "stroke-dashoffset" }
  attrs: { name: "stroke-linecap" }
  attrs: { name: "stroke-linejoin" }
  attrs: { name: "stroke-miterlimit" }
  attrs: { name: "stroke-opacity" }
  attrs: { name: "stroke-width" }
  attrs: { name: "text-anchor" }
  attrs: { name: "text-decoration" }
  attrs: { name: "text-rendering" }
  attrs: { name: "unicode-bidi" }
  attrs: { name: "vector-effect" }
  attrs: { name: "visibility" }
  attrs: { name: "word-spacing" }
  attrs: { name: "writing-mode" }
}
attr_lists: {
  name: "svg-transfer-function-attributes"
  attrs: { name: "amplitude" }
  attrs: { name: "exponent" }
  attrs: { name: "intercept" }
  attrs: { name: "offset" }
  attrs: { name: "slope" }
  attrs: { name: "table" }
  attrs: { name: "tablevalues" }
  attrs: { name: "type" }
}
attr_lists: {
  name: "svg-xlink-attributes"
  attrs: { name: "xlink:actuate" }
  attrs: { name: "xlink:arcrole" }
  attrs: {
    name: "xlink:href"
    # xlink:href is deprecated since SVG2 in favor of href.
    alternative_names: "href"
    value_url: {
      protocol: "http"
      protocol: "https"
      allow_empty: false
    }
  }
  attrs: { name: "xlink:role" }
  attrs: { name: "xlink:show" }
  attrs: { name: "xlink:title" }
  attrs: { name: "xlink:type" }
}
# Style attributes are broadly disallowed, but specifically allowed
# within SVG as SVG are commonly generated by tools.
attr_lists: {
  name: "svg-style-attr"
  attrs: {
    name: "style"
    # `style` attribute value validated against Document Level CSS rules defined
    # in validator-css.protoascii.
    value_doc_svg_css: true
  }
}

# Basics
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "G"
  mandatory_ancestor: "SVG"
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "transform" }
  attr_lists: "svg-conditional-processing-attributes"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-style-attr"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "GLYPH"
  mandatory_ancestor: "SVG"
  attrs: { name: "arabic-form" }
  attrs: { name: "d" }
  attrs: { name: "glyph-name" }
  attrs: { name: "horiz-adv-x" }
  attrs: { name: "orientation" }
  attrs: { name: "unicode" }
  attrs: { name: "vert-adv-y" }
  attrs: { name: "vert-origin-x" }
  attrs: { name: "vert-origin-y" }
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-style-attr"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "GLYPHREF"
  mandatory_ancestor: "SVG"
  attrs: { name: "dx" }
  attrs: { name: "dy" }
  attrs: { name: "format" }
  attrs: { name: "glyphref" }
  attrs: { name: "x" }
  attrs: { name: "y" }
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-style-attr"
  attr_lists: "svg-xlink-attributes"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "IMAGE"
  mandatory_ancestor: "SVG"
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "height" }
  attrs: { name: "preserveaspectratio" }
  attrs: { name: "transform" }
  attrs: { name: "width" }
  attrs: { name: "x" }
  attrs: { name: "xlink:actuate" }
  attrs: { name: "xlink:arcrole" }
  attrs: {
    name: "xlink:href"
    # xlink:href is deprecated since SVG2 in favor of href.
    alternative_names: "href"
    value_url: {
      protocol: "data"
      protocol: "http"
      protocol: "https"
      allow_empty: false
    }
    # Inline SVGs execute in a different context and can affect page elements.
    disallowed_value_regex: "(^|\\s)data:image\\/svg\\+xml"
  }
  attrs: { name: "xlink:role" }
  attrs: { name: "xlink:show" }
  attrs: { name: "xlink:title" }
  attrs: { name: "xlink:type" }
  attrs: { name: "y" }
  attr_lists: "svg-conditional-processing-attributes"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-style-attr"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "MARKER"
  mandatory_ancestor: "SVG"
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "markerheight" }
  attrs: { name: "markerunits" }
  attrs: { name: "markerwidth" }
  attrs: { name: "orient" }
  attrs: { name: "preserveaspectratio" }
  attrs: { name: "refx" }
  attrs: { name: "refy" }
  attrs: { name: "transform" }
  attrs: { name: "viewbox" }
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-style-attr"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "METADATA"
  mandatory_ancestor: "SVG"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-style-attr"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "PATH"
  mandatory_ancestor: "SVG"
  attrs: { name: "d" }
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "pathlength" }
  attrs: { name: "sketch:type" }
  attrs: { name: "transform" }
  attr_lists: "svg-conditional-processing-attributes"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-style-attr"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "SOLIDCOLOR"
  mandatory_ancestor: "SVG"
  attrs: { name: "solid-color" }
  attrs: { name: "solid-opacity" }
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-style-attr"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "SVG"
  attrs: { name: "contentscripttype" }
  attrs: { name: "contentstyletype" }
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "height" }
  attrs: { name: "preserveaspectratio" }
  attrs: {
    name: "version"
    value: "1.0"
    value: "1.1"
  }
  attrs: { name: "viewbox" }
  attrs: { name: "width" }
  attrs: { name: "x" }
  attrs: { name: "y" }
  attrs: { name: "zoomandpan" }
  attr_lists: "svg-conditional-processing-attributes"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-style-attr"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "SWITCH"
  mandatory_ancestor: "SVG"
  attr_lists: "svg-conditional-processing-attributes"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-style-attr"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "VIEW"
  mandatory_ancestor: "SVG"
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "preserveaspectratio" }
  attrs: { name: "viewbox" }
  attrs: { name: "viewtarget" }
  attrs: { name: "zoomandpan" }
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-style-attr"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
# Shapes
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "CIRCLE"
  mandatory_ancestor: "SVG"
  attrs: { name: "cx" }
  attrs: { name: "cy" }
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "r" }
  attrs: { name: "sketch:type" }
  attrs: { name: "transform" }
  attr_lists: "svg-conditional-processing-attributes"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-style-attr"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "ELLIPSE"
  mandatory_ancestor: "SVG"
  attrs: { name: "cx" }
  attrs: { name: "cy" }
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "rx" }
  attrs: { name: "ry" }
  attrs: { name: "sketch:type" }
  attrs: { name: "transform" }
  attr_lists: "svg-conditional-processing-attributes"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-style-attr"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "LINE"
  mandatory_ancestor: "SVG"
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "sketch:type" }
  attrs: { name: "transform" }
  attrs: { name: "x1" }
  attrs: { name: "x2" }
  attrs: { name: "y1" }
  attrs: { name: "y2" }
  attr_lists: "svg-conditional-processing-attributes"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-style-attr"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "POLYGON"
  mandatory_ancestor: "SVG"
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "points" }
  attrs: { name: "sketch:type" }
  attrs: { name: "transform" }
  attr_lists: "svg-conditional-processing-attributes"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-style-attr"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "POLYLINE"
  mandatory_ancestor: "SVG"
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "points" }
  attrs: { name: "sketch:type" }
  attrs: { name: "transform" }
  attr_lists: "svg-conditional-processing-attributes"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-style-attr"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "RECT"
  mandatory_ancestor: "SVG"
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "height" }
  attrs: { name: "rx" }
  attrs: { name: "ry" }
  attrs: { name: "sketch:type" }
  attrs: { name: "transform" }
  attrs: { name: "width" }
  attrs: { name: "x" }
  attrs: { name: "y" }
  attr_lists: "svg-conditional-processing-attributes"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-style-attr"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
# Text
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "TEXT"
  mandatory_ancestor: "SVG"
  attrs: { name: "dx" }
  attrs: { name: "dy" }
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "lengthadjust" }
  attrs: { name: "rotate" }
  attrs: { name: "text-anchor" }
  attrs: { name: "textlength" }
  attrs: { name: "transform" }
  attrs: { name: "x" }
  attrs: { name: "y" }
  attr_lists: "svg-conditional-processing-attributes"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-style-attr"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "TEXTPATH"
  mandatory_ancestor: "SVG"
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "method" }
  attrs: { name: "spacing" }
  attrs: { name: "startoffset" }
  attr_lists: "svg-conditional-processing-attributes"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-style-attr"
  attr_lists: "svg-xlink-attributes"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "TREF"
  mandatory_ancestor: "SVG"
  attrs: { name: "externalresourcesrequired" }
  attr_lists: "svg-conditional-processing-attributes"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-style-attr"
  attr_lists: "svg-xlink-attributes"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "TSPAN"
  mandatory_ancestor: "SVG"
  attrs: { name: "dx" }
  attrs: { name: "dy" }
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "lengthadjust" }
  attrs: { name: "rotate" }
  attrs: { name: "textlength" }
  attrs: { name: "x" }
  attrs: { name: "y" }
  attr_lists: "svg-conditional-processing-attributes"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-style-attr"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
# Rendering
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "CLIPPATH"
  mandatory_ancestor: "SVG"
  attrs: { name: "clippathunits" }
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "transform" }
  attr_lists: "svg-conditional-processing-attributes"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-style-attr"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "FILTER"
  mandatory_ancestor: "SVG"
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "filterres" }
  attrs: { name: "filterunits" }
  attrs: { name: "height" }
  attrs: { name: "primitiveunits" }
  attrs: { name: "width" }
  attrs: { name: "x" }
  attrs: { name: "y" }
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-style-attr"
  attr_lists: "svg-xlink-attributes"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "HKERN"
  mandatory_ancestor: "SVG"
  attrs: { name: "g1" }
  attrs: { name: "g2" }
  attrs: { name: "k" }
  attrs: { name: "u1" }
  attrs: { name: "u2" }
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-style-attr"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "LINEARGRADIENT"
  mandatory_ancestor: "SVG"
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "gradienttransform" }
  attrs: { name: "gradientunits" }
  attrs: { name: "spreadmethod" }
  attrs: { name: "x1" }
  attrs: { name: "x2" }
  attrs: { name: "y1" }
  attrs: { name: "y2" }
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-style-attr"
  attr_lists: "svg-xlink-attributes"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "MASK"
  mandatory_ancestor: "SVG"
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "height" }
  attrs: { name: "maskcontentunits" }
  attrs: { name: "maskunits" }
  attrs: { name: "width" }
  attrs: { name: "x" }
  attrs: { name: "y" }
  attr_lists: "svg-conditional-processing-attributes"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-style-attr"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "PATTERN"
  mandatory_ancestor: "SVG"
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "height" }
  attrs: { name: "patterncontentunits" }
  attrs: { name: "patterntransform" }
  attrs: { name: "patternunits" }
  attrs: { name: "preserveaspectratio" }
  attrs: { name: "viewbox" }
  attrs: { name: "width" }
  attrs: { name: "x" }
  attrs: { name: "y" }
  attr_lists: "svg-conditional-processing-attributes"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-style-attr"
  attr_lists: "svg-xlink-attributes"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "RADIALGRADIENT"
  mandatory_ancestor: "SVG"
  attrs: { name: "cx" }
  attrs: { name: "cy" }
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "fr" }
  attrs: { name: "fx" }
  attrs: { name: "fy" }
  attrs: { name: "gradienttransform" }
  attrs: { name: "gradientunits" }
  attrs: { name: "r" }
  attrs: { name: "spreadmethod" }
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-style-attr"
  attr_lists: "svg-xlink-attributes"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "STOP"
  spec_name: "lineargradient > stop"
  mandatory_ancestor: "LINEARGRADIENT"
  attrs: { name: "offset" }
  attrs: { name: "stop-color" }
  attrs: { name: "stop-opacity" }
  attr_lists: "svg-style-attr"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "STOP"
  spec_name: "radialgradient > stop"
  mandatory_ancestor: "RADIALGRADIENT"
  attrs: { name: "offset" }
  attrs: { name: "stop-color" }
  attrs: { name: "stop-opacity" }
  attr_lists: "svg-style-attr"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "VKERN"
  mandatory_ancestor: "SVG"
  attrs: { name: "g1" }
  attrs: { name: "g2" }
  attrs: { name: "k" }
  attrs: { name: "u1" }
  attrs: { name: "u2" }
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-style-attr"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
# Special
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "DEFS"
  mandatory_ancestor: "SVG"
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "transform" }
  attr_lists: "svg-conditional-processing-attributes"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-style-attr"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "SYMBOL"
  mandatory_ancestor: "SVG"
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "height" }
  attrs: { name: "preserveaspectratio" }
  attrs: { name: "viewbox" }
  attrs: { name: "width" }
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-style-attr"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "USE"
  mandatory_ancestor: "SVG"
  attrs: { name: "externalresourcesrequired" }
  attrs: { name: "height" }
  attrs: { name: "transform" }
  attrs: { name: "width" }
  attrs: { name: "x" }
  attrs: { name: "y" }
  attr_lists: "svg-conditional-processing-attributes"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-style-attr"
  attr_lists: "svg-xlink-attributes"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
# Filters
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "FEBLEND"
  mandatory_ancestor: "SVG"
  attrs: { name: "in" }
  attrs: { name: "in2" }
  attrs: { name: "mode" }
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-filter-primitive-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-style-attr"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "FECOLORMATRIX"
  mandatory_ancestor: "SVG"
  attrs: { name: "in" }
  attrs: { name: "type" }
  attrs: { name: "values" }
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-filter-primitive-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-style-attr"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "FECOMPONENTTRANSFER"
  mandatory_ancestor: "SVG"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-filter-primitive-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-style-attr"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "FECOMPOSITE"
  mandatory_ancestor: "SVG"
  attrs: { name: "in" }
  attrs: { name: "in2" }
  attrs: { name: "k1" }
  attrs: { name: "k2" }
  attrs: { name: "k3" }
  attrs: { name: "k4" }
  attrs: { name: "operator" }
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-filter-primitive-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-style-attr"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "FECONVOLVEMATRIX"
  mandatory_ancestor: "SVG"
  attrs: { name: "bias" }
  attrs: { name: "divisor" }
  attrs: { name: "edgemode" }
  attrs: { name: "in" }
  attrs: { name: "kernelmatrix" }
  attrs: { name: "kernelunitlength" }
  attrs: { name: "order" }
  attrs: { name: "preservealpha" }
  attrs: { name: "targetx" }
  attrs: { name: "targety" }
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-filter-primitive-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-style-attr"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "FEDIFFUSELIGHTING"
  mandatory_ancestor: "SVG"
  attrs: { name: "diffuseconstant" }
  attrs: { name: "in" }
  attrs: { name: "kernelunitlength" }
  attrs: { name: "surfacescale" }
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-filter-primitive-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-style-attr"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "FEDISPLACEMENTMAP"
  mandatory_ancestor: "SVG"
  attrs: { name: "in" }
  attrs: { name: "in2" }
  attrs: { name: "scale" }
  attrs: { name: "xchannelselector" }
  attrs: { name: "ychannelselector" }
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-filter-primitive-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-style-attr"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "FEDISTANTLIGHT"
  mandatory_ancestor: "SVG"
  attrs: { name: "azimuth" }
  attrs: { name: "elevation" }
  attr_lists: "svg-core-attributes"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "FEDROPSHADOW"
  mandatory_ancestor: "SVG"
  mandatory_parent: "FILTER"
  attrs: { name: "dx" }
  attrs: { name: "dy" }
  attrs: { name: "stddeviation" }
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-filter-primitive-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-style-attr"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "FEFLOOD"
  mandatory_ancestor: "SVG"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-filter-primitive-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-style-attr"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "FEFUNCA"
  mandatory_ancestor: "SVG"
  mandatory_parent: "FECOMPONENTTRANSFER"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-transfer-function-attributes"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "FEFUNCB"
  mandatory_ancestor: "SVG"
  mandatory_parent: "FECOMPONENTTRANSFER"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-transfer-function-attributes"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "FEFUNCG"
  mandatory_ancestor: "SVG"
  mandatory_parent: "FECOMPONENTTRANSFER"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-transfer-function-attributes"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "FEFUNCR"
  mandatory_ancestor: "SVG"
  mandatory_parent: "FECOMPONENTTRANSFER"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-transfer-function-attributes"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "FEGAUSSIANBLUR"
  mandatory_ancestor: "SVG"
  attrs: { name: "edgemode" }
  attrs: { name: "in" }
  attrs: { name: "stddeviation" }
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-filter-primitive-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-style-attr"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "FEMERGE"
  mandatory_ancestor: "SVG"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-filter-primitive-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-style-attr"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "FEMERGENODE"
  mandatory_ancestor: "SVG"
  attrs: { name: "in" }
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-style-attr"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "FEMORPHOLOGY"
  mandatory_ancestor: "SVG"
  attrs: { name: "in" }
  attrs: { name: "operator" }
  attrs: { name: "radius" }
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-filter-primitive-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-style-attr"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "FEOFFSET"
  mandatory_ancestor: "SVG"
  attrs: { name: "dx" }
  attrs: { name: "dy" }
  attrs: { name: "in" }
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-filter-primitive-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-style-attr"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "FEPOINTLIGHT"
  mandatory_ancestor: "SVG"
  attrs: { name: "x" }
  attrs: { name: "y" }
  attrs: { name: "z" }
  attr_lists: "svg-core-attributes"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "FESPECULARLIGHTING"
  mandatory_ancestor: "SVG"
  attrs: { name: "in" }
  attrs: { name: "kernelunitlength" }
  attrs: { name: "specularconstant" }
  attrs: { name: "specularexponent" }
  attrs: { name: "surfacescale" }
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-filter-primitive-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-style-attr"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "FESPOTLIGHT"
  mandatory_ancestor: "SVG"
  attrs: { name: "limitingconeangle" }
  attrs: { name: "pointsatx" }
  attrs: { name: "pointsaty" }
  attrs: { name: "pointsatz" }
  attrs: { name: "specularexponent" }
  attrs: { name: "x" }
  attrs: { name: "y" }
  attrs: { name: "z" }
  attr_lists: "svg-core-attributes"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "FETILE"
  mandatory_ancestor: "SVG"
  attrs: { name: "in" }
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-filter-primitive-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-style-attr"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "FETURBULENCE"
  mandatory_ancestor: "SVG"
  attrs: { name: "basefrequency" }
  attrs: { name: "numoctaves" }
  attrs: { name: "seed" }
  attrs: { name: "stitchtiles" }
  attrs: { name: "type" }
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-filter-primitive-attributes"
  attr_lists: "svg-presentation-attributes"
  attr_lists: "svg-style-attr"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
# ARIA
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "DESC"
  mandatory_ancestor: "SVG"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-style-attr"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "TITLE"
  spec_name: "svg title"
  mandatory_ancestor: "SVG"
  attr_lists: "svg-core-attributes"
  attr_lists: "svg-style-attr"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#svg"
}
tags: {  # amp-user-notification
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-user-notification"
    version: "0.1"
    version: "latest"
    requires_usage: EXEMPTED
    deprecated_allow_duplicates: true
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-user-notification>
  html_format: AMP
  tag_name: "AMP-USER-NOTIFICATION"
  requires_extension: "amp-user-notification"
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: NODISPLAY
  }
  # These attributes are allowed implicitly as data-* attributes,
  # but we make additional constraints on validating URLs.
  attrs: {
    name: "data-dismiss-href"
    value_url: {
      protocol: "https"
      allow_relative: false
      allow_empty: false
    }
  }
  attrs: {
    name: "data-show-if-href"
    value_url: {
      protocol: "https"
      allow_relative: false
      allow_empty: false
    }
  }
  attrs: {
    name: "enctype"
    value: "application/x-www-form-urlencoded"
  }
}
tags: {  # amp-apester-media
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-apester-media"
    version: "0.1"
    version: "latest"
    requires_usage: EXEMPTED
    deprecated_allow_duplicates: true
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-apester-media>
  html_format: AMP
  tag_name: "AMP-APESTER-MEDIA"
  requires_extension: "amp-apester-media"
  attrs: {
    name: "data-apester-channel-token"
    mandatory_oneof: "['data-apester-media-id', 'data-apester-channel-token']"
    value_regex: "[0-9a-zA-Z]+"
  }
  attrs: {
    name: "data-apester-media-id"
    mandatory_oneof: "['data-apester-media-id', 'data-apester-channel-token']"
    value_regex: "[0-9a-zA-Z]+"
  }
  attr_lists: "extended-amp-global"
  amp_layout: {
      supported_layouts: FILL
      supported_layouts: FIXED
      supported_layouts: FIXED_HEIGHT
      supported_layouts: FLEX_ITEM
      supported_layouts: NODISPLAY
      supported_layouts: RESPONSIVE
  }
  spec_url: "https://amp.dev/documentation/components/amp-apester-media/"
}
tags: {  # amp-riddle-quiz
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
  name: "amp-riddle-quiz"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-riddle-quiz>
  html_format: AMP
  tag_name: "AMP-RIDDLE-QUIZ"
  requires_extension: "amp-riddle-quiz"
  attrs: {
    name: "data-riddle-id"
    mandatory: true
    value_regex: "[0-9]+"
  }
  attr_lists: "extended-amp-global"
  amp_layout: {
      supported_layouts: RESPONSIVE
  }
  spec_url: "https://amp.dev/documentation/components/amp-riddle-quiz/"
}
tags: {  # amp-minute-media-player
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-minute-media-player"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-minute-media-player>
  html_format: AMP
  tag_name: "AMP-MINUTE-MEDIA-PLAYER"
  requires_extension: "amp-minute-media-player"
  attrs: { name: "autoplay" }
  attrs: { name: "data-content-id" }
  attrs: {
    name: "data-content-type"
    mandatory: true
    value: "curated"
    value: "semantic"
    value: "specific"
  }
  attrs: { name: "data-minimum-date-factor" }
  attrs: { name: "data-scanned-element" }
  attrs: {
    name: "data-scanned-element-type"
    value: "className"
    value: "id"
    value: "tag"
  }
  attrs: { name: "data-scoped-keywords" }
  attrs: { name: "data-tags" }
  attrs: {
    name: "dock"
    requires_extension: "amp-video-docking"
  }
  attr_lists: "extended-amp-global"
  spec_url: "https://amp.dev/documentation/components/amp-minute-media-player/"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: RESPONSIVE
  }
}
tags: {  # <script custom-element="amp-fx-flying-carpet">
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-fx-flying-carpet"
    version: "0.1"
    version: "latest"
    requires_usage: EXEMPTED
    deprecated_allow_duplicates: true
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-fx-flying-carpet>
  html_format: AMP
  tag_name: "AMP-FX-FLYING-CARPET"
  requires_extension: "amp-fx-flying-carpet"
  attr_lists: "extended-amp-global"
  attrs: {
    name: "height"
    mandatory: true
  }
}
# Specific script tags for custom elements and runtime imports.
tags: {  # amp-experiment
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-experiment"
    version: "0.1"
    version: "1.0"
    version: "latest"
    requires_usage: EXEMPTED
    deprecated_allow_duplicates: true
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # amp-experiment (json)
  html_format: AMP
  tag_name: "SCRIPT"
  spec_name: "amp-experiment extension .json script"
  mandatory_parent: "AMP-EXPERIMENT"
  attrs: {
    name: "type"
    mandatory: true
    value_casei: "application/json"
    dispatch_key: NAME_VALUE_PARENT_DISPATCH
  }
  attr_lists: "nonce-attr"
  cdata: {
    max_bytes: 15000
    max_bytes_spec_url: "https://amp.dev/documentation/components/amp-experiment/#configuration"
    disallowed_cdata_regex: {
      regex: "<!--"
      error_message: "html comments"
    }
  }
  spec_url: "https://amp.dev/documentation/components/amp-experiment/"
}
tags: {  # <amp-experiment>
  html_format: AMP
  tag_name: "AMP-EXPERIMENT"
  requires_extension: "amp-experiment"
  unique: true
  spec_url: "https://amp.dev/documentation/components/amp-experiment/"
}
tags: {  # amp-mega-menu
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-mega-menu"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-mega-menu>
  html_format: AMP
  tag_name: "AMP-MEGA-MENU"
  requires_extension: "amp-mega-menu"
  attr_lists: "extended-amp-global"
  spec_url: "https://amp.dev/documentation/components/amp-mega-menu/"
  descendant_tag_list: "amp-mega-menu-allowed-descendants"
  # We want to support both of the cases below:
  # <amp-mega-menu> > <nav> > ... and
  # <amp-mega-menu> > <amp-list> > <template> > <nav> > ...
  # The latter is needed for dynamic template rendering.
  child_tags: {
    mandatory_num_child_tags: 1
    child_tag_name_oneof: "NAV"
    child_tag_name_oneof: "AMP-LIST"
  }
  reference_points: {
    tag_spec_name: "AMP-MEGA-MENU > AMP-LIST"
  }
  reference_points: {
    tag_spec_name: "AMP-MEGA-MENU > NAV"
  }
  amp_layout: {
    supported_layouts: FIXED_HEIGHT
  }
}
tags: {  # <amp-mega-menu> <nav>
  html_format: AMP
  tag_name: "$REFERENCE_POINT"
  spec_name: "AMP-MEGA-MENU > NAV"
  descriptive_name: "amp-mega-menu > nav"
  siblings_disallowed: true
  child_tags: {
    mandatory_num_child_tags: 1
    child_tag_name_oneof: "OL"
    child_tag_name_oneof: "UL"
  }
  reference_points: {
    tag_spec_name: "AMP-MEGA-MENU NAV > UL/OL"
  }
}
tags: {
  html_format: AMP
  tag_name: "$REFERENCE_POINT"
  spec_name: "AMP-MEGA-MENU > AMP-LIST"
  descriptive_name: "amp-mega-menu > amp-list"
  # Include mandatory amp-list attrs so that <amp-mega-menu> > <nav>
  # does not match to this tag.
  attrs: {
    name: "src"
    mandatory_anyof: "['src','[src]']"
  }
  attrs: {
    name: "[src]"
    mandatory_anyof: "['src','[src]']"
  }
  child_tags: {
    mandatory_num_child_tags: 1
    child_tag_name_oneof: "TEMPLATE"
  }
  reference_points: {
    tag_spec_name: "AMP-MEGA-MENU > AMP-LIST > TEMPLATE"
  }
}
tags: {
  html_format: AMP
  tag_name: "$REFERENCE_POINT"
  spec_name: "AMP-MEGA-MENU > AMP-LIST > TEMPLATE"
  descriptive_name: "amp-mega-menu > amp-list > template"
  mandatory_parent: "AMP-LIST"
  child_tags: {
    mandatory_num_child_tags: 1
    child_tag_name_oneof: "NAV"
  }
  reference_points: {
    tag_spec_name: "AMP-MEGA-MENU > NAV"
  }
}
tags: {
  html_format: AMP
  tag_name: "$REFERENCE_POINT"
  spec_name: "AMP-MEGA-MENU NAV > UL/OL"
  descriptive_name: "amp-mega-menu nav > ul/ol"
  mandatory_parent: "NAV"
  child_tags: {
    mandatory_min_num_child_tags: 1
    child_tag_name_oneof: "LI"
  }
  reference_points: {
    tag_spec_name: "AMP-MEGA-MENU NAV > UL/OL > LI"
  }
}
tags: {
  html_format: AMP
  tag_name: "$REFERENCE_POINT"
  spec_name: "AMP-MEGA-MENU NAV > UL/OL > LI"
  descriptive_name: "amp-mega-menu nav > ul/ol > li"
  child_tags: {
    mandatory_min_num_child_tags: 1
    child_tag_name_oneof: "A"
    child_tag_name_oneof: "BUTTON"
    child_tag_name_oneof: "DIV"
    child_tag_name_oneof: "H1"
    child_tag_name_oneof: "H2"
    child_tag_name_oneof: "H3"
    child_tag_name_oneof: "H4"
    child_tag_name_oneof: "H5"
    child_tag_name_oneof: "H6"
    child_tag_name_oneof: "SPAN"
  }
  reference_points: {
    tag_spec_name: "AMP-MEGA-MENU item-content"
    unique: true
  }
  reference_points: {
    tag_spec_name: "AMP-MEGA-MENU item-heading"
    mandatory: true
    unique: true
  }
}
tags: {
  html_format: AMP
  tag_name: "$REFERENCE_POINT"
  spec_name: "AMP-MEGA-MENU item-heading"
  descriptive_name: "amp-mega-menu item-heading"
  attrs: {
    name: "role"
    value: "button"
  }
}
tags: {
  html_format: AMP
  tag_name: "$REFERENCE_POINT"
  spec_name: "AMP-MEGA-MENU item-content"
  descriptive_name: "amp-mega-menu item-content"
  # Disallow role=menu until supported by implementation.
  attrs: {
    name: "role"
    value: "dialog"
    mandatory: true
  }
}
descendant_tag_list {
  # Purposefully being restrictive when allowlisting child components;
  # On demand, add more components to this list after manual testing.
  name: "amp-mega-menu-allowed-descendants"
  tag: "A"
  tag: "AMP-AD"
  tag: "AMP-CAROUSEL"
  tag: "AMP-EMBED"
  tag: "AMP-IMG"
  tag: "AMP-LIGHTBOX"
  tag: "AMP-LIST"
  tag: "AMP-VIDEO"
  tag: "B"
  tag: "BR"
  tag: "BUTTON"
  tag: "COL"
  tag: "COLGROUP"
  tag: "DIV"
  tag: "EM"
  tag: "FIELDSET"
  tag: "FORM"
  tag: "H1"
  tag: "H2"
  tag: "H3"
  tag: "H4"
  tag: "H5"
  tag: "H6"
  tag: "I"
  tag: "INPUT"
  tag: "LABEL"
  tag: "LI"
  tag: "MARK"
  tag: "NAV"
  tag: "OL"
  tag: "OPTION"
  tag: "P"
  tag: "PATH"
  tag: "SECTION"
  tag: "SELECT"
  tag: "SPAN"
  tag: "STRIKE"
  tag: "STRONG"
  tag: "SUB"
  tag: "SUP"
  tag: "SVG"
  tag: "TABLE"
  tag: "TBODY"
  tag: "TD"
  tag: "TEMPLATE"
  tag: "TH"
  tag: "TIME"
  tag: "TITLE"
  tag: "TR"
  tag: "U"
  tag: "UL"
  tag: "USE"
}
tags: {  # amp-story-player
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-story-player"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
  spec_url: "https://amp.dev/documentation/components/amp-story-player/"
}
tags: {  # <amp-story-player>
  html_format: AMP
  tag_name: "AMP-STORY-PLAYER"
  requires_extension: "amp-story-player"
  descendant_tag_list: "amp-story-player-allowed-descendants"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: RESPONSIVE
    supported_layouts: INTRINSIC
  }
  spec_url: "https://amp.dev/documentation/components/amp-story-player/"
}
descendant_tag_list {
  name: "amp-story-player-allowed-descendants"
  tag: "A"
  tag: "SPAN"
  tag: "I-AMPHTML-SIZER"  # Only allowed when document is transformed AMP
  tag: "IMG"  # Only allowed when document is transformed AMP
}
tags: {
  html_format: AMP
  enabled_by: "transformed"
  tag_name: "IMG"
  spec_name: "img-i-amphtml-intrinsic-sizer-amp-story-player"
  mandatory_parent: "I-AMPHTML-SIZER-INTRINSIC"
  mandatory_ancestor: "AMP-STORY-PLAYER"
  attrs: {
    name: "alt"
    value: ""
    mandatory: true
  }
  attrs: {
    name: "aria-hidden"
    value: "true"
    mandatory: true
  }
  attrs: {
    name: "class"
    value: "i-amphtml-intrinsic-sizer"
    mandatory: true
  }
  attrs: {
    name: "role"
    value: "presentation"
    mandatory: true
  }
  attrs: {
    name: "src"
    value_regex: "data:image\\/svg\\+xml;charset=utf-8,\\s*<svg height=\"\\d+(\\.\\d+)?\" width=\"\\d+(\\.\\d+)?\" xmlns=\"http:\\/\\/www\\.w3\\.org\\/2000\\/svg\" version=\"1\\.1\"\\/>|data:image\\/svg\\+xml;charset=utf-8,\\s*<svg height='\\d+(\\.\\d+)?\' width='\\d+(\\.\\d+)?\' xmlns='http:\\/\\/www\\.w3\\.org\\/2000\\/svg' version='1\\.1'\\/>|data:image\\/svg\\+xml;base64,[a-zA-Z0-9+\\/=]+"
    mandatory: true
  }
  spec_url: "https://amp.dev/documentation/components/amp-story-player/"
}
tags: {
  html_format: AMP
  tag_name: "IMG"
  spec_name: "amp-story-player > img"
  mandatory_parent: "A"
  mandatory_ancestor: "AMP-STORY-PLAYER"
  attrs: { name: "alt" }
  attrs: { name: "attribution" }
  attrs: {
    name: "data-amp-story-player-poster-img"
    mandatory: true
    value: ""
    dispatch_key: NAME_VALUE_DISPATCH
  }
    attrs: {
    name: "decoding"
    value: "async"
  }
  attrs: {
    name: "height"
    value_regex: "[0-9]+"
  }
  attrs: {
    name: "loading"
    mandatory: true
    value: "lazy"
  }
  attrs: { name: "sizes" }
  attrs: {
    name: "width"
    value_regex: "[0-9]+"
  }
  attr_lists: "mandatory-src-or-srcset"
  spec_url: "https://amp.dev/documentation/components/amp-story-player/"
}
tags: {  # amp-image-lightbox
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-image-lightbox"
    version: "0.1"
    version: "latest"
    requires_usage: EXEMPTED
    deprecated_allow_duplicates: true
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # amp-image-lightbox
  html_format: AMP4EMAIL
  tag_name: "SCRIPT"
  spec_name: "SCRIPT[custom-element=amp-image-lightbox] (AMP4EMAIL)"
  extension_spec: {
    name: "amp-image-lightbox"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
  deprecation: "amp-image-lightbox cannot be properly positioned in emails and will soon be invalid in AMP4EMAIL."
  deprecation_url: "https://github.com/ampproject/amphtml/issues/23170"
}
tags: {  # <amp-image-lightbox>
  html_format: AMP
  html_format: AMP4EMAIL
  tag_name: "AMP-IMAGE-LIGHTBOX"
  requires_extension: "amp-image-lightbox"
  # Support dimensions / sizes / etc. like an amp-lightbox.
  attrs: { name: "controls" }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: NODISPLAY
  }
}
tags: {  # amp-date-display
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-date-display"
    version: "0.1"
    version: "1.0"
    version: "latest"
    bento_supported_version: "1.0"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-date-display>
  html_format: AMP
  tag_name: "AMP-DATE-DISPLAY"
  requires_extension: "amp-date-display"
  attrs: {
    name: "datetime"
    mandatory_oneof: "['datetime', 'timestamp-ms', 'timestamp-seconds']"
    value_regex: "now|(\\d{4}-[01]\\d-[0-3]\\d(T[0-2]\\d:[0-5]\\d(:[0-6]\\d(\\.\\d\\d?\\d?)?)?(Z|[+-][0-1]\\d:[0-5]\\d)?)?)"
  }
  attrs: {
    name: "display-in"
    value_casei: "utc"
  }
  attrs: {
    name: "offset-seconds"
    value_regex: "-?\\d+"
  }
  attrs: { name: "locale" }
  attrs: {
    name: "template"
    value_oneof_set: TEMPLATE_IDS
  }
  attrs: {
    name: "timestamp-ms"
    mandatory_oneof: "['datetime', 'timestamp-ms', 'timestamp-seconds']"
    value_regex: "\\d+"
  }
  attrs: {
    name: "timestamp-seconds"
    mandatory_oneof: "['datetime', 'timestamp-ms', 'timestamp-seconds']"
    value_regex: "\\d+"
  }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-base-carousel
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-base-carousel"
    version: "0.1"
    version: "1.0"
    version: "latest"
    bento_supported_version: "1.0"
  }
  attr_lists: "common-extension-attrs"
}

# Examples for media query / value pairs:
# (min-width: 600px) and (min-height: 800px)  false, true
# (min-width: 600px) false,(min-width: 600px) true,false
# true
attr_lists: {
  name: "amp-base-carousel-common"
  attrs: {
    name: "advance-count"
    # Media query / integer pairs
    value_regex: "([^,]+\\s+(-?\\d+),\\s*)*(-?\\d+)"
  }
  attrs: {
    name: "auto-advance"
    # Media query / boolean pairs
    value_regex: "([^,]+\\s+(true|false),\\s*)*(true|false)"
  }
  attrs: {
    name: "auto-advance-count"
    # Media query / integer pairs
    value_regex: "([^,]+\\s+(-?\\d+),\\s*)*(-?\\d+)"
  }
  attrs: {
    name: "auto-advance-interval"
    # Media query / positive integer pairs
    value_regex: "([^,]+\\s+(\\d+),\\s*)*(\\d+)"
  }
  attrs: {
    name: "auto-advance-loops"
    # Media query / positive integer pairs
    value_regex: "([^,]+\\s+(\\d+),\\s*)*(\\d+)"
  }
  attrs: {
    name: "controls"
    # Media query / (always|auto|never)
    value_regex: "([^,]+\\s+(always|auto|never),\\s*)*(always|auto|never)"
  }
  attrs: {
    name: "horizontal" # 0.1 only
    # Media query / boolean pairs
    value_regex: "([^,]+\\s+(true|false),\\s*)*(true|false)"
  }
  attrs: {
    name: "loop"
    # Media query / boolean pairs
    value_regex: "([^,]+\\s+(true|false),\\s*)*(true|false|^$)"
  }
  attrs: {
    name: "mixed-length"
    # Media query / boolean pairs
    value_regex: "([^,]+\\s+(true|false),\\s*)*(true|false)"
  }
  attrs: {
    name: "orientation" # 1.0 only
    # Media query / boolean pairs
    value_regex: "([^,]+\\s+(horizontal|vertical),\\s*)*(horizontal|vertical)"
  }
  attrs: {
    name: "slide"
    # Media query / positive integer pairs
    value_regex: "([^,]+\\s+(\\d+),\\s*)*(\\d+)"
  }
  attrs: {
    name: "snap"
    # Media query / boolean pairs
    value_regex: "([^,]+\\s+(true|false),\\s*)*(true|false)"
  }
  attrs: {
    name: "snap-align"
    # Media query / (start|center) pairs
    value_regex: "([^,]+\\s+(start|center),\\s*)*(start|center)"
  }
  attrs: {
    name: "snap-by"
    # Media query / positive integer pairs
    value_regex: "([^,]+\\s+(\\d+),\\s*)*(\\d+)"
  }
  attrs: {
    name: "visible-count"
    # Media query / positive float pairs
    value_regex: "([^,]+\\s+(\\d+(\\.\\d+)?),\\s*)*(\\d+(\\.\\d+)?)"
  }

  # amp-bind
  attrs: { name: "[advance-count]" }
  attrs: { name: "[auto-advance]" }
  attrs: { name: "[auto-advance-count]" }
  attrs: { name: "[auto-advance-interval]" }
  attrs: { name: "[auto-advance-loops]" }
  attrs: { name: "[horizontal]" } # 0.1 only
  attrs: { name: "[loop]" }
  attrs: { name: "[mixed-length]" }
  attrs: { name: "[orientation]" } # 1.0 only
  attrs: { name: "[slide]" }
  attrs: { name: "[snap]" }
  attrs: { name: "[snap-align]" }
  attrs: { name: "[snap-by]" }
  attrs: { name: "[visible-count]" }
}

tags: {  # <amp-base-carousel>
  html_format: AMP
  tag_name: "AMP-BASE-CAROUSEL"
  requires_extension: "amp-base-carousel"
  attr_lists: "amp-base-carousel-common"
  attr_lists: "extended-amp-global"
  spec_url: "https://amp.dev/documentation/components/amp-base-carousel/"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: INTRINSIC
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}

tags: {  # <amp-base-carousel lightbox>
  html_format: AMP
  tag_name: "AMP-BASE-CAROUSEL"
  spec_name: "AMP-BASE-CAROUSEL [lightbox]"
  requires_extension: "amp-base-carousel"
  requires_extension: "amp-lightbox-gallery"
  attrs: {
    name: "lightbox"
    mandatory: true
  }
  attr_lists: "amp-base-carousel-common"
  attr_lists: "extended-amp-global"
  spec_url: "https://amp.dev/documentation/components/amp-base-carousel/"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: INTRINSIC
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
  reference_points: {
    tag_spec_name: "AMP-BASE-CAROUSEL lightbox [lightbox-exclude]"
  }
  reference_points: {
    tag_spec_name: "AMP-BASE-CAROUSEL lightbox [child]"
  }
}

tags: {
  html_format: AMP
  tag_name: "$REFERENCE_POINT"
  spec_name: "AMP-BASE-CAROUSEL lightbox [lightbox-exclude]"
  descriptive_name: "amp-base-carousel [lightbox-exclude] child"
  attrs: {
    name: "lightbox-exclude"
    mandatory: true
  }
}
tags: {
  html_format: AMP
  tag_name: "$REFERENCE_POINT"
  spec_name: "AMP-BASE-CAROUSEL lightbox [child]"
  descriptive_name: "amp-base-carousel [lightbox-thumbnail-id] child"
  attrs: {
    name: "lightbox-thumbnail-id"
    value_regex_casei: "^[a-z][a-z\\d_-]*"
  }
}
tags: {  # amp-mowplayer
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-mowplayer"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-mowplayer>
  html_format: AMP
  tag_name: "AMP-MOWPLAYER"
  requires_extension: "amp-mowplayer"
  attrs: { name: "autoplay" }
  attrs: {
    name: "data-mediaid"
    mandatory: true
  }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-delight-player
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-delight-player"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}

tags: {  # <amp-delight-player>
  html_format: AMP
  tag_name: "AMP-DELIGHT-PLAYER"
  requires_extension: "amp-delight-player"
  attrs: {
      name: "data-content-id"
      mandatory: true
  }
  attrs: {
    name: "dock"
    requires_extension: "amp-video-docking"
  }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-story-panning-media
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-story-panning-media"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-story-panning-media>
  html_format: AMP
  tag_name: "AMP-STORY-PANNING-MEDIA"
  requires_extension: "amp-story-panning-media"
  mandatory_ancestor: "AMP-STORY-GRID-LAYER"
  spec_url: "https://amp.dev/documentation/components/amp-story-panning-media"
  amp_layout: {
    supported_layouts: FILL
  }
  attrs: {
    name: "data-x"
    value_regex: "-?(0|[0-9]?\\d\\.?\\d*%|100%)"
  }
  attrs: {
    name: "data-y"
    value_regex: "-?(0|[0-9]?\\d\\.?\\d*%|100%)"
  }
  attrs: {
    name: "data-zoom"
    value_regex: "\\d+\\.?\\d*"
  }
  attrs: {
    name: "lock-bounds"
    value: ""
  }
  child_tags: {
    mandatory_num_child_tags: 1
    child_tag_name_oneof: "AMP-IMG"
  }
}
tags: {  # amp-tiktok
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-tiktok"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-tiktok>
  html_format: AMP
  tag_name: "AMP-TIKTOK"
  spec_name: "AMP-TIKTOK"
  requires_extension: "amp-tiktok"
  attr_lists: "extended-amp-global"
  attrs: {
    name: "data-src";
    value_regex: "(https://www\\.tiktok\\.com/.*)?\\d+.*";
    mandatory: true
  }
  spec_url: "https://amp.dev/documentation/components/amp-tiktok"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: INTRINSIC
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # <amp-tiktok>
  html_format: AMP
  tag_name: "AMP-TIKTOK"
  spec_name: "AMP-TIKTOK blockquote"
  requires_extension: "amp-tiktok"
  attr_lists: "extended-amp-global"
  spec_url: "https://amp.dev/documentation/components/amp-tiktok"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: INTRINSIC
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
  child_tags: {
    child_tag_name_oneof: "BLOCKQUOTE"
    mandatory_min_num_child_tags: 1
  }
}
tags: {
  html_format: AMP
  tag_name: "BLOCKQUOTE"
  spec_name: "BLOCKQUOTE with TikTok"
  attrs: { name: "align" }
  attr_lists: "cite-attr"
  mandatory_ancestor: "AMP-TIKTOK blockquote"
}
# AMP-AD is full of special cases for validation rules that are partly
# implemented in code, so be very careful when editing this file.
# Historically, amp-ad/amp-embed javascript were embedded into the main
# runtime (v0.js), so there are many pages that do not include the amp-ad
# extension. We want to warn for these.
# AMP-EMBED requires the amp-ad extension, not amp-embed.
# Including the amp-ad extension, but not an AMP-AD/AMP-EMBED tag should only
# produce a warning.
#
# To implement this, we mark the tags as requires_extension amp-ad, but the
# main validator also considers the amp-ad extension to always be present
# We then use also_requires_tag_warning to give a warning if the extension
# is missing.

tags: {  # amp-ad
  html_format: AMP  # Ads are not allowed inside ads
  tag_name: "SCRIPT"
  # Typically the extension_spec takes care of this, but we have
  # a unique situation where we need to refer to this earlier in
  # the rules processing for the also_requires_tag_warning below.
  spec_name: "amp-ad extension script"
  extension_spec: {
    name: "amp-ad"
    version: "0.1"
    version: "latest"
    requires_usage: EXEMPTED
    deprecated_allow_duplicates: true
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-ad>
  html_format: AMP  # Ads are not allowed inside ads
  tag_name: "AMP-AD"
  requires_extension: "amp-ad"  # See note at top of file
  also_requires_tag_warning: "amp-ad extension script"
  # If modifying disallowed_ancestors, then please also edit
  # extensions/amp-auto-ads/*/placement.js
  disallowed_ancestor: "AMP-APP-BANNER"
  attrs: { name: "alt" }
  attrs: { name: "json" }
  attrs: { name: "rtc-config" }
  attrs: {
    name: "src"
    value_url: {
      protocol: "https"
      allow_relative: true  # Will be set to false at a future date.
    }
    disallowed_value_regex: "__amp_source_origin"
  }
  attrs: { name: "template" }
  attrs: { name: "type" mandatory: true }
  attrs: {
    name: "sticky"
    value: ""
    value: "bottom"
    value: "bottom-right"
    value: "left"
    value: "right"
    value: "top"
  }
  attrs: { name: "always-serve-npa" }
  attrs: { name: "block-rtc" }
  attr_lists: "extended-amp-global"
  spec_url: "https://amp.dev/documentation/components/amp-ad/"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: FLUID
    supported_layouts: INTRINSIC
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # <amp-ad type="custom">
  html_format: AMP  # Ads are not allowed inside ads
  tag_name: "AMP-AD"
  spec_name: "amp-ad with type=custom"
  requires_extension: "amp-ad"  # See note at top of file
  also_requires_tag_warning: "amp-ad extension script"
  # If modifying disallowed_ancestors, then please also edit
  # extensions/amp-auto-ads/*/placement.js
  disallowed_ancestor: "AMP-APP-BANNER"
  attrs: {
    name: "data-url"
    mandatory: true
    value_url: {
      protocol: "https"
    }
  }
  attrs: { name: "template" }
  attrs: {
    name: "type"
    mandatory: true
    value: "custom"
    dispatch_key: NAME_VALUE_DISPATCH
  }
  attr_lists: "extended-amp-global"
  spec_url: "https://github.com/ampproject/amphtml/blob/main/ads/vendors/custom.md"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: FLUID
    supported_layouts: INTRINSIC
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # <amp-ad data-multi-size>
  html_format: AMP  # Ads are not allowed inside ads
  tag_name: "AMP-AD"
  spec_name: "amp-ad with data-multi-size attribute"
  requires_extension: "amp-ad"  # See note at top of file
  also_requires_tag_warning: "amp-ad extension script"
  # If modifying disallowed_ancestors, then please also edit
  # extensions/amp-auto-ads/*/placement.js
  disallowed_ancestor: "AMP-APP-BANNER"
  # amp-ad elements cannot be both children of an amp ad container and have
  # data-multi-size attribute.
  disallowed_ancestor: "AMP-CAROUSEL"
  disallowed_ancestor: "AMP-FX-FLYING-CARPET"
  disallowed_ancestor: "AMP-LIGHTBOX"
  disallowed_ancestor: "AMP-STICKY-AD"
  attrs: { name: "alt" }
  attrs: {
    name: "data-multi-size"
    mandatory: true
    value: ""
    dispatch_key: NAME_VALUE_DISPATCH
  }
  attrs: { name: "json" }
  attrs: { name: "rtc-config" }
  attrs: {
    name: "src"
    value_url: {
      protocol: "https"
      allow_relative: true  # Will be set to false at a future date.
    }
    disallowed_value_regex: "__amp_source_origin"
  }
  attrs: { name: "always-serve-npa" }
  attrs: { name: "block-rtc" }
  attrs: { name: "type" mandatory: true }
  attr_lists: "extended-amp-global"
  spec_url: "https://amp.dev/documentation/components/amp-ad/"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: FLUID
    supported_layouts: INTRINSIC
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}

tags: {  # <amp-ad data-enable-refresh>
  html_format: AMP  # Ads are not allowed inside ads
  tag_name: "AMP-AD"
  spec_name: "amp-ad with data-enable-refresh attribute"
  requires_extension: "amp-ad"  # See note at top of file
  also_requires_tag_warning: "amp-ad extension script"
  # If modifying disallowed_ancestors, then please also edit
  # extensions/amp-auto-ads/*/placement.js
  disallowed_ancestor: "AMP-APP-BANNER"
  # amp-ad elements cannot be both children of these amp ad containers and have
  # data-enable-refresh attribute.
  disallowed_ancestor: "AMP-FX-FLYING-CARPET"
  disallowed_ancestor: "AMP-LIGHTBOX"
  attrs: { name: "alt" }
  attrs: {
    name: "data-enable-refresh"
    mandatory: true
    value: ""
    dispatch_key: NAME_VALUE_DISPATCH
  }
  attrs: { name: "json" }
  attrs: {
    name: "src"
    value_url: {
      protocol: "https"
      allow_relative: true  # Will be set to false at a future date.
    }
    disallowed_value_regex: "__amp_source_origin"
  }
  attrs: { name: "type" mandatory: true }
  attr_lists: "extended-amp-global"
  spec_url: "https://amp.dev/documentation/components/amp-ad/"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: FLUID
    supported_layouts: INTRINSIC
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}

tags: {  # <amp-embed>
  html_format: AMP
  tag_name: "AMP-EMBED"
  requires_extension: "amp-ad"  # See note at top of file
  also_requires_tag_warning: "amp-ad extension script"
  disallowed_ancestor: "AMP-APP-BANNER"
  attrs: { name: "alt" }
  attrs: { name: "json" }
  attrs: { name: "rtc-config" }
  attrs: {
    name: "src"
    value_url: {
      protocol: "https"
      allow_relative: true  # Will be set to false at a future date.
    }
    disallowed_value_regex: "__amp_source_origin"
  }
  attrs: { name: "type" mandatory: true }
  attrs: { name: "always-serve-npa" }
  attrs: { name: "block-rtc" }
  attr_lists: "extended-amp-global"
  spec_url: "https://amp.dev/documentation/components/amp-ad/"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: FLUID
    supported_layouts: INTRINSIC
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # <amp-embed data-multi-size>
  html_format: AMP
  tag_name: "AMP-EMBED"
  spec_name: "amp-embed with data-multi-size attribute"
  requires_extension: "amp-ad"  # See note at top of file
  also_requires_tag_warning: "amp-ad extension script"
  disallowed_ancestor: "AMP-APP-BANNER"
  # amp-embed elements cannot be both children of an amp ad container and have
  # data-multi-size attribute.
  disallowed_ancestor: "AMP-CAROUSEL"
  disallowed_ancestor: "AMP-FX-FLYING-CARPET"
  disallowed_ancestor: "AMP-LIGHTBOX"
  disallowed_ancestor: "AMP-STICKY-AD"
  attrs: { name: "alt" }
  attrs: {
    name: "data-multi-size"
    mandatory: true
    value: ""
    dispatch_key: NAME_VALUE_DISPATCH
  }
  attrs: { name: "json" }
  attrs: { name: "rtc-config" }
  attrs: { name: "always-serve-npa" }
  attrs: { name: "block-rtc" }
  attrs: {
    name: "src"
    value_url: {
      protocol: "https"
      allow_relative: true  # Will be set to false at a future date.
    }
    disallowed_value_regex: "__amp_source_origin"
  }
  attrs: { name: "type" mandatory: true }
  attr_lists: "extended-amp-global"
  spec_url: "https://amp.dev/documentation/components/amp-ad/"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: FLUID
    supported_layouts: INTRINSIC
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # <script custom-element="amp-sticky-ad">
  html_format: AMP  # Ads are not allowed inside ads.
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-sticky-ad"
    version: "0.1"
    version: "1.0"
    version: "latest"
    deprecated_version: "0.1"
    requires_usage: EXEMPTED
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-sticky-ad>
  html_format: AMP
  tag_name: "AMP-STICKY-AD"
  disallowed_ancestor: "AMP-APP-BANNER"
  requires_extension: "amp-sticky-ad"
  attr_lists: "extended-amp-global"
  unique: true
  child_tags: {
    mandatory_num_child_tags: 1
    first_child_tag_name_oneof: "AMP-AD"
  }
  amp_layout: {
    supported_layouts: NODISPLAY
  }
}
tags: {  # amp-inputmask
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-inputmask"
    version: "0.1"
    version: "latest"
    # amp-inputmask has no associated tag which indicates usage of the extension.
    # TODO(gregable): Implement a mechanism to associate attributes with
    # extension usage and then set this to EXEMPTED or ERROR.
    requires_usage: NONE
  }
  attr_lists: "common-extension-attrs"
}

# The input element is also defined by validator/validator-main.protoascii
tags: {
  html_format: AMP
  tag_name: "INPUT"
  spec_name: "input [mask] (custom mask)"
  requires_extension: "amp-inputmask"
  attrs: {
    name: "mask"
    mandatory: true
    dispatch_key: NAME_DISPATCH
    disallowed_value_regex: "(payment-card"
        "|date-dd-mm-yyyy"
        "|date-mm-dd-yyyy"
        "|date-mm-yy"
        "|date-yyyy-mm-dd"
        ")"
  }
  attrs: {
    name: "mask-trim-zeros"
    value_regex: "\\d+"
  }
  attr_lists: "amp-inputmask-common-attr"
  attr_lists: "input-common-attr"
  attr_lists: "name-attr"
  attrs: { name: "[type]" }
  spec_url: "https://amp.dev/documentation/components/amp-inputmask/"
}

tags: {
  html_format: AMP
  tag_name: "INPUT"
  spec_name: "input [mask=payment-card]"
  requires_extension: "amp-inputmask"
  attrs: {
    name: "mask"
    mandatory: true
    dispatch_key: NAME_VALUE_DISPATCH
    value: "payment-card"
  }
  attr_lists: "amp-inputmask-common-attr"
  attr_lists: "input-common-attr"
  attr_lists: "name-attr"
  spec_url: "https://amp.dev/documentation/components/amp-inputmask/"
}

tags: {
  html_format: AMP
  tag_name: "INPUT"
  spec_name: "input [mask=date-dd-mm-yyyy]"
  requires_extension: "amp-inputmask"
  attrs: {
    name: "mask"
    mandatory: true
    dispatch_key: NAME_VALUE_DISPATCH
    value: "date-dd-mm-yyyy"
  }
  attr_lists: "amp-inputmask-common-attr"
  attr_lists: "input-common-attr"
  attr_lists: "name-attr"
  spec_url: "https://amp.dev/documentation/components/amp-inputmask/"
}

tags: {
  html_format: AMP
  tag_name: "INPUT"
  spec_name: "input [mask=date-mm-dd-yyyy]"
  requires_extension: "amp-inputmask"
  attrs: {
    name: "mask"
    mandatory: true
    dispatch_key: NAME_VALUE_DISPATCH
    value: "date-mm-dd-yyyy"
  }
  attr_lists: "amp-inputmask-common-attr"
  attr_lists: "input-common-attr"
  attr_lists: "name-attr"
  spec_url: "https://amp.dev/documentation/components/amp-inputmask/"
}

tags: {
  html_format: AMP
  tag_name: "INPUT"
  spec_name: "input [mask=date-mm-yy]"
  requires_extension: "amp-inputmask"
  attrs: {
    name: "mask"
    mandatory: true
    dispatch_key: NAME_VALUE_DISPATCH
    value: "date-mm-yy"
  }
  attr_lists: "amp-inputmask-common-attr"
  attr_lists: "input-common-attr"
  attr_lists: "name-attr"
  spec_url: "https://amp.dev/documentation/components/amp-inputmask/"
}

tags: {
  html_format: AMP
  tag_name: "INPUT"
  spec_name: "input [mask=date-yyyy-mm-dd]"
  requires_extension: "amp-inputmask"
  attrs: {
    name: "mask"
    mandatory: true
    dispatch_key: NAME_VALUE_DISPATCH
    value: "date-yyyy-mm-dd"
  }
  attr_lists: "amp-inputmask-common-attr"
  attr_lists: "input-common-attr"
  attr_lists: "name-attr"
  spec_url: "https://amp.dev/documentation/components/amp-inputmask/"
}

attr_lists: {
  name: "amp-inputmask-common-attr"
  attrs: {
    name: "mask-output"
    trigger: {
      also_requires_attr: "mask"
    }
  }
  attrs: {
    name: "type"
    value: "text"
    value: "tel"
    value: "search"
  }
  # amp-bind
  attrs: { name: "[type]" }
}
tags: {  # amp-pan-zoom
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-pan-zoom"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-pan-zoom>
  html_format: AMP
  tag_name: "AMP-PAN-ZOOM"
  requires_extension: "amp-pan-zoom"
  attrs: {
    name: "disable-double-tap"
    value: ""
  }
  attrs: {
    name: "initial-scale"
    value_regex: "[0-9]+(\\.[0-9]+)?"
  }
  attrs: {
    name: "initial-x"
    value_regex: "[0-9]+"
  }
  attrs: {
    name: "initial-y"
    value_regex: "[0-9]+"
  }
  attrs: {
    name: "max-scale"
    value_regex: "[0-9]+(\\.[0-9]+)?"
  }
  attrs: {
    name: "reset-on-resize"
    value: ""
  }
  attr_lists: "extended-amp-global"
   amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-facebook-page
  html_format: AMP
  tag_name: "SCRIPT"
  satisfies: "amp-facebook-page 0.1"
  excludes: "amp-facebook 1.0"
  extension_spec: {
    name: "amp-facebook-page"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-facebook-page>
  html_format: AMP
  tag_name: "AMP-FACEBOOK-PAGE"
  requires_extension: "amp-facebook-page"
  requires: "amp-facebook-page 0.1"
  # The amp-facebook-strict attr_list is defined in the amp-facebook protoascii
  attr_lists: "amp-facebook-strict"
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-story-auto-ads
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-story-auto-ads"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
# The following tags form a chain of direct child nodes starting from the
# document body. As a result, we don't need to bother disallowing ancestors.
# BODY > AMP-STORY > AMP-STORY-AUTO-ADS > amp-story-auto-ads config script
# BODY > AMP-STORY > AMP-STORY-AUTO-ADS > TEMPLATE
tags: {  # <amp-story-auto-ads>
  html_format: AMP
  tag_name: "AMP-STORY-AUTO-ADS"
  requires_extension: "amp-story-auto-ads"
  mandatory_parent: "AMP-STORY"
  unique: true
  spec_url: "https://amp.dev/documentation/components/amp-story-auto-ads/"
}
tags: {  # amp-story-auto-ads (json config)
  html_format: AMP
  tag_name: "SCRIPT"
  spec_name: "amp-story-auto-ads config script"
  mandatory_parent: "AMP-STORY-AUTO-ADS"
  requires_extension: "amp-story-auto-ads"
  attrs: {
    name: "type"
    mandatory: true
    value_casei: "application/json"
    dispatch_key: NAME_VALUE_PARENT_DISPATCH
  }
  attr_lists: "nonce-attr"
  cdata: {
    disallowed_cdata_regex: {
      regex: "<!--"
      error_message: "html comments"
    }
  }
  spec_url: "https://amp.dev/documentation/components/amp-story-auto-ads/"
}
# HTML5, 4.11.3 The template element
tags: {
  html_format: AMP
  tag_name: "TEMPLATE"
  spec_name: "amp-story-auto-ads > template"
  mandatory_parent: "AMP-STORY-AUTO-ADS"
  requires_extension: "amp-mustache"
  attrs: {
    name: "type"
    mandatory: true
    value: "amp-mustache"
    dispatch_key: NAME_VALUE_PARENT_DISPATCH
  }
  descendant_tag_list: "amp-story-grid-layer-allowed-descendants"
  reference_points: { tag_spec_name: "AMP-STORY-GRID-LAYER default" }
  reference_points: { tag_spec_name: "AMP-STORY-GRID-LAYER animate-in" }
}
tags: {  # amp-access-laterpay
  html_format: AMP
  tag_name: "SCRIPT"
  requires_extension: "amp-access"
  extension_spec: {
    name: "amp-access-laterpay"
    version: "0.1"
    version: "0.2"
    version: "latest"
    requires_usage: NONE
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # amp-date-countdown
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-date-countdown"
    version: "0.1"
    version: "1.0"
    version: "latest"
    bento_supported_version: "1.0"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-date-countdown>
  html_format: AMP
  tag_name: "AMP-DATE-COUNTDOWN"
  requires_extension: "amp-date-countdown"
  attrs: {
    name: "biggest-unit"
    value_casei: "days"
    value_casei: "hours"
    value_casei: "minutes"
    value_casei: "seconds"
  }
  attrs: {  # attribute is not used in version 0.1 of the component (see #33480)
    name: "count-up"
    value: ""
  }
  attrs: {  # attribute is not used in version 1.0 of the component (see #33480)
    name: "data-count-up"
    value: ""
  }
  attrs: {
    name: "end-date"
    mandatory_oneof: "['end-date', 'timeleft-ms', 'timestamp-ms', 'timestamp-seconds']"
    value_regex: "\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d(:[0-5]\\d(\\.\\d+)?)?(Z|[+-][0-1][0-9]:[0-5][0-9])"
  }
  attrs: {
    name: "locale"
    value_casei: "de"
    value_casei: "en"
    value_casei: "es"
    value_casei: "fr"
    value_casei: "id"
    value_casei: "it"
    value_casei: "ja"
    value_casei: "ko"
    value_casei: "nl"
    value_casei: "pt"
    value_casei: "ru"
    value_casei: "th"
    value_casei: "tr"
    value_casei: "vi"
    value_casei: "zh-cn"
    value_casei: "zh-tw"
  }
  attrs: {
    name: "offset-seconds"
    value_regex: "-?\\d+"
  }
  attrs: {
    name: "template"
    value_oneof_set: TEMPLATE_IDS
  }
  attrs: {
    name: "timeleft-ms"
    mandatory_oneof: "['end-date', 'timeleft-ms', 'timestamp-ms', 'timestamp-seconds']"
    value_regex: "\\d+"
  }
  attrs: {
    name: "timestamp-ms"
    mandatory_oneof: "['end-date', 'timeleft-ms', 'timestamp-ms', 'timestamp-seconds']"
    value_regex: "\\d{13}"
  }
  attrs: {
    name: "timestamp-seconds"
    mandatory_oneof: "['end-date', 'timeleft-ms', 'timestamp-ms', 'timestamp-seconds']"
    value_regex: "\\d{10}"
  }
  attrs: {
    name: "when-ended"
    value_casei: "continue"
    value_casei: "stop"
  }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-wordpress-embed
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-wordpress-embed"
    version: "1.0"
    version: "latest"
    bento_supported_version: "1.0"
    bento_supported_version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-wordpress-embed>
  html_format: AMP
  tag_name: "AMP-WORDPRESS-EMBED"
  requires_extension: "amp-wordpress-embed"
  attr_lists: "extended-amp-global"
  spec_url: "https://amp.dev/documentation/components/amp-wordpress-embed/"
  attrs: {
    name: "data-url"
    value_url: {
      protocol: "https"
      allow_relative: false
    }
    mandatory: true
  }
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: INTRINSIC
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-pinterest
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-pinterest"
    version: "0.1"
    version: "latest"
    requires_usage: EXEMPTED
    deprecated_allow_duplicates: true
  }
  attr_lists: "common-extension-attrs"
}
# TODO: Enforce mandatory attributes depending on the value of another
# attribute. In this case, depending on the value of data-do, data-media and
# data-description may or may not be mandatory.
tags: {  # <amp-pinterest>
  html_format: AMP
  tag_name: "AMP-PINTEREST"
  requires_extension: "amp-pinterest"
  attrs: { name: "alt" }
  # data-* is generally allowed, but it's not generally mandatory.
  attrs: {
    name: "data-do"
    mandatory: true
  }
  attr_lists: "extended-amp-global"
  spec_url: "https://amp.dev/documentation/components/amp-pinterest/"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-playbuzz
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-playbuzz"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-playbuzz>
  html_format: AMP
  tag_name: "AMP-PLAYBUZZ"
  requires_extension: "amp-playbuzz"
  attrs: {
    name: "data-comments"
    value_casei: "false"
    value_casei: "true"
  }
  attrs: {
    name: "data-item"
    mandatory_oneof: "['data-item', 'src']"
  }
  attrs: {
    name: "data-item-info"
    value_casei: "false"
    value_casei: "true"
  }
  attrs: {
    name: "data-share-buttons"
    value_casei: "false"
    value_casei: "true"
  }
  attrs: {
    name: "src"
    mandatory_oneof: "['data-item', 'src']"
  }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: RESPONSIVE
    supported_layouts: FIXED_HEIGHT
  }
}
tags: {  # amp-soundcloud 1.0
  html_format: AMP
  tag_name: "SCRIPT"
  satisfies: "amp-soundcloud 1.0"
  excludes: "amp-soundcloud 0.1"
  extension_spec: {
    name: "amp-soundcloud"
    version_name: "v1.0"
    version: "1.0"
    bento_supported_version: "1.0"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # amp-soundcloud 0.1 and latest
  html_format: AMP
  tag_name: "SCRIPT"
  satisfies: "amp-soundcloud 0.1"
  excludes: "amp-soundcloud 1.0"
  extension_spec: {
    name: "amp-soundcloud"
    version_name: "v0.1"
    version: "0.1"
    version: "latest"
    requires_usage: EXEMPTED
    deprecated_allow_duplicates: true
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-soundcloud>
  html_format: AMP
  tag_name: "AMP-SOUNDCLOUD"
  requires_extension: "amp-soundcloud"
  attrs: {
    name: "data-color"
    value_regex_casei: "([0-9a-f]{3}){1,2}"
  }
  attrs: {
    name: "data-playlistid"
    mandatory_oneof: "['data-trackid', 'data-playlistid']"
    value_regex: "[0-9]+"
  }
  attrs: {
    name: "data-secret-token"
    value_regex: "[A-Za-z0-9_-]+"
  }
  attrs: {
    name: "data-trackid"
    mandatory_oneof: "['data-trackid', 'data-playlistid']"
    value_regex: "[0-9]+"
  }
  attrs: {
    name: "data-visual"
    value_casei: "false"
    value_casei: "true"
  }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: INTRINSIC
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-date-picker"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}

tags: {
  html_format: AMP
  tag_name: "AMP-DATE-PICKER"
  spec_name: "amp-date-picker[type=single][mode=static]"
  requires_extension: "amp-date-picker"
  attrs: {
    name: "mode"
    value_casei: "static"
  }
  attrs: {
    name: "type"
    value_casei: "single"
  }
  attr_lists: "amp-date-picker-common-attributes"
  attr_lists: "amp-date-picker-single-type-attributes"
  attr_lists: "amp-date-picker-static-mode-attributes"
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: INTRINSIC
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}

tags: {
  html_format: AMP
  tag_name: "AMP-DATE-PICKER"
  spec_name: "amp-date-picker[type=single][mode=overlay]"
  requires_extension: "amp-date-picker"
  attrs: {
    name: "mode"
    mandatory: true
    value_casei: "overlay"
    dispatch_key: NAME_VALUE_DISPATCH
  }
  attrs: {
    name: "type"
    value_casei: "single"
  }
  attr_lists: "amp-date-picker-common-attributes"
  attr_lists: "amp-date-picker-overlay-mode-attributes"
  attr_lists: "amp-date-picker-single-type-attributes"
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: CONTAINER
    supported_layouts: NODISPLAY
  }
}

tags: {
  html_format: AMP
  tag_name: "AMP-DATE-PICKER"
  spec_name: "amp-date-picker[type=range][mode=static]"
  requires_extension: "amp-date-picker"
  attrs: {
    name: "mode"
    value_casei: "static"
  }
  attrs: {
    name: "type"
    mandatory: true
    value_casei: "range"
  }
  attr_lists: "amp-date-picker-common-attributes"
  attr_lists: "amp-date-picker-range-type-attributes"
  attr_lists: "amp-date-picker-static-mode-attributes"
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: INTRINSIC
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}

tags: {
  html_format: AMP
  tag_name: "AMP-DATE-PICKER"
  spec_name: "amp-date-picker[type=range][mode=overlay]"
  requires_extension: "amp-date-picker"
  attrs: {
    name: "mode"
    mandatory: true
    value_casei: "overlay"
    dispatch_key: NAME_VALUE_DISPATCH
  }
  attrs: {
    name: "type"
    mandatory: true
    value_casei: "range"
  }
  attr_lists: "amp-date-picker-common-attributes"
  attr_lists: "amp-date-picker-overlay-mode-attributes"
  attr_lists: "amp-date-picker-range-type-attributes"
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: CONTAINER
    supported_layouts: NODISPLAY
  }
}

attr_lists: {
  name: "amp-date-picker-common-attributes"
  attrs: {
    name: "allow-blocked-end-date"
    value: ""
  }
  attrs: {
    name: "allow-blocked-ranges"
    value: ""
  }
  attrs: { name: "blocked" }
  attrs: {
    name: "day-size"
    value_regex: "[0-9]+"
  }
  attrs: {
    name: "first-day-of-week"
    value_regex: "[0-6]"
  }
  attrs: { name: "format" }
  attrs: { name: "highlighted" }
  attrs: { name: "locale" }
  attrs: { name: "max" }
  attrs: { name: "min" }
  attrs: { name: "month-format" }
  attrs: {
    name: "number-of-months"
    value_regex: "[0-9]+"
  }
  attrs: {
    name: "open-after-clear"
    value: ""
  }
  attrs: {
    name: "open-after-select"
    value: ""
  }
  attrs: {
    name: "hide-keyboard-shortcuts-panel"
    value: ""
  }
  attrs: {
    name: "src"
    value_url: {
      protocol: "https"
      allow_relative: false
    }
    disallowed_value_regex: "__amp_source_origin"
  }
  attrs: { name: "week-day-format" }
  # amp-bind
  attrs: { name: "[src]" }
  attrs: { name: "[max]" }
  attrs: { name: "[min]" }
}

attr_lists: {
  name: "amp-date-picker-range-type-attributes"
  attrs: { name: "end-date" }
  attrs: { name: "end-input-selector" }
  attrs: {
    name: "maximum-nights"
    value_regex: "[0-9]+"
  }
  attrs: {
    name: "minimum-nights"
    value_regex: "[0-9]+"
  }
  attrs: { name: "start-date" }
  attrs: { name: "start-input-selector" }

}

attr_lists: {
  name: "amp-date-picker-single-type-attributes"
  attrs: { name: "date" }
  attrs: { name: "input-selector" }
}

attr_lists: {
  name: "amp-date-picker-static-mode-attributes"
  attrs: {
    name: "fullscreen"
    value: ""
  }
}

attr_lists: {
  name: "amp-date-picker-overlay-mode-attributes"
  attrs: {
    name: "touch-keyboard-editable"
    value: ""
  }
}

# HTML5, 4.11.3 The template element
# The template element is also defined at
# extensions/amp-mustache/validator-amp-mustache.protoascii
tags: {
  html_format: AMP
  tag_name: "TEMPLATE"
  spec_name: "amp-date-picker > template [date-template]"
  mandatory_parent: "AMP-DATE-PICKER"
  requires_extension: "amp-mustache"
  attrs: {
    name: "date-template"
    mandatory: true
    value: ""
    dispatch_key: NAME_DISPATCH
  }
  attrs: {
    name: "default"
  }
  attrs: {
    name: "dates"
  }
  attrs: {
    name: "type"
    mandatory: true
    value: "amp-mustache"
  }
}
tags: {
  html_format: AMP
  tag_name: "TEMPLATE"
  spec_name: "amp-date-picker > template [info-template]"
  mandatory_parent: "AMP-DATE-PICKER"
  requires_extension: "amp-mustache"
  attrs: {
    name: "info-template"
    mandatory: true
    dispatch_key: NAME_DISPATCH
  }
  attrs: {
    name: "type"
    mandatory: true
    value: "amp-mustache"
  }
}
tags: {  # amp-vimeo
  html_format: AMP
  tag_name: "SCRIPT"
  satisfies: "amp-vimeo 0.1"
  excludes: "amp-vimeo 1.0"
  extension_spec: {
    name: "amp-vimeo"
    version_name: "v0.1"
    version: "0.1"
    version: "latest"
    bento_supported_version: "1.0"
    requires_usage: EXEMPTED
    deprecated_allow_duplicates: true
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # amp-vimeo 1.0
  html_format: AMP
  tag_name: "SCRIPT"
  satisfies: "amp-vimeo 1.0"
  excludes: "amp-vimeo 0.1"
  extension_spec: {
    name: "amp-vimeo"
    version_name: "v1.0"
    version: "1.0"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-vimeo>
  html_format: AMP
  tag_name: "AMP-VIMEO"
  requires_extension: "amp-vimeo"
  attrs: {
    name: "autoplay"
    value: ""
  }
  attrs: {
    name: "data-videoid"
    mandatory: true
    value_regex: "[0-9]+"
  }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-facebook-like
  html_format: AMP
  tag_name: "SCRIPT"
  satisfies: "amp-facebook-like 0.1"
  excludes: "amp-facebook 1.0"
  extension_spec: {
    name: "amp-facebook-like"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-facebook-like>
  html_format: AMP
  tag_name: "AMP-FACEBOOK-LIKE"
  requires_extension: "amp-facebook-like"
  requires: "amp-facebook-like 0.1"
  # The amp-facebook-strict attr_list is defined in the amp-facebook protoascii
  attr_lists: "amp-facebook-strict"
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-imgur
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-imgur"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-imgur>
  html_format: AMP
  tag_name: "AMP-IMGUR"
  requires_extension: "amp-imgur"
  attrs: {
    name: "data-imgur-id"
    mandatory: true
  }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-carousel
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-carousel"
    version: "0.1"
    version: "0.2"
    version: "latest"
    requires_usage: EXEMPTED
    deprecated_allow_duplicates: true
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # amp-carousel for AMP4EMAIL
  html_format: AMP4EMAIL
  tag_name: "SCRIPT"
  spec_name: "SCRIPT[custom-element=amp-carousel] (AMP4EMAIL)"
  extension_spec: {
    name: "amp-carousel"
    # AMP4EMAIL doesn't allow version: "latest".
    version: "0.1"
    version: "0.2"
  }
  attr_lists: "common-extension-attrs"
}
attr_lists: {
  name: "amp-carousel-common"
  attrs: {
    disabled_by: "amp4email"
    name: "arrows"
    value: ""
  }
  attrs: {
    name: "autoplay"
    value_regex: "(|[0-9]+)"
  }
  attrs: { name: "controls" }
  attrs: {
    name: "delay"
    value_regex: "[0-9]+"
  }
  attrs: {
    disabled_by: "amp4email"
    name: "dots"
    value: ""
  }
  attrs: {
    name: "loop"
    value: ""
  }
  attrs: {
    name: "slide"
    value_regex: "[0-9]+"
  }
  attrs: {
    name: "type"
    value: "carousel"
    value: "slides"
  }
  # <amp-bind>
  attrs: { name: "[slide]" }
}
# There are 2 variants here depending on the presence of the `lightbox`
# attribute:
#     - lightbox is only allowed in AMP html format.
#     - lightbox implies additional reference_point requirements of the
#       amp-lightbox children.
tags: {  # <amp-carousel>
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "AMP-CAROUSEL"
  spec_name: "AMP-CAROUSEL"
  requires_extension: "amp-carousel"
  attr_lists: "amp-carousel-common"
  attr_lists: "extended-amp-global"
  spec_url: "https://amp.dev/documentation/components/amp-carousel/"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: INTRINSIC
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # <amp-carousel lightbox>
  html_format: AMP
  tag_name: "AMP-CAROUSEL"
  spec_name: "AMP-CAROUSEL lightbox"
  requires_extension: "amp-carousel"
  requires_extension: "amp-lightbox-gallery"
  attrs: {
    name: "lightbox"
    mandatory: true
  }
  attr_lists: "amp-carousel-common"
  attr_lists: "extended-amp-global"
  spec_url: "https://amp.dev/documentation/components/amp-carousel/"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: INTRINSIC
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
  reference_points: {
    tag_spec_name: "AMP-CAROUSEL lightbox [lightbox-exclude]"
  }
  reference_points: {
    tag_spec_name: "AMP-CAROUSEL lightbox [child]"
  }
}
tags: {
  html_format: AMP
  tag_name: "$REFERENCE_POINT"
  spec_name: "AMP-CAROUSEL lightbox [lightbox-exclude]"
  descriptive_name: "amp-carousel lightbox [lightbox-exclude] child"
  attrs: {
    name: "lightbox-exclude"
    mandatory: true
  }
}
tags: {
  html_format: AMP
  tag_name: "$REFERENCE_POINT"
  spec_name: "AMP-CAROUSEL lightbox [child]"
  descriptive_name: "amp-carousel lightbox [lightbox-thumbnail-id] child"
  attrs: {
    name: "lightbox-thumbnail-id"
    value_regex_casei: "^[a-z][a-z\\d_-]*"
  }
}
tags: {  # amp-consent
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-consent"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # amp-consent (json)
  html_format: AMP
  tag_name: "SCRIPT"
  spec_name: "amp-consent extension .json script"
  requires_extension: "amp-consent"
  mandatory_parent: "AMP-CONSENT"
  unique: true
  satisfies: "amp-consent extension .json script"
  attrs: {
    name: "type"
    mandatory: true
    value_casei: "application/json"
    dispatch_key: NAME_VALUE_PARENT_DISPATCH
  }
  attr_lists: "nonce-attr"
  cdata: {
    disallowed_cdata_regex: {
      regex: "<!--"
      error_message: "html comments"
    }
  }
}
tags: {  # <amp-consent>
  html_format: AMP
  tag_name: "AMP-CONSENT"
  requires_extension: "amp-consent"
  unique: true
  requires: "amp-consent extension .json script"
  excludes: "amp-consent [type]"
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: NODISPLAY
  }
}

tags: {  # <amp-consent> (type)
  html_format: AMP
  tag_name: "AMP-CONSENT"
  spec_name: "amp-consent [type]"
  requires_extension: "amp-consent"
  unique: true
  requires: "meta name=amp-consent-blocking"
  requires: "amp-consent extension .json script"
  satisfies: "amp-consent [type]"
  attrs: {
    name: "type"
    mandatory: true
  }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: NODISPLAY
  }
}
tags: {  # amp-ooyala-player
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-ooyala-player"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-ooyala-player>
  html_format: AMP
  tag_name: "AMP-OOYALA-PLAYER"
  requires_extension: "amp-ooyala-player"
  attrs: {
    name: "data-embedcode"
    mandatory: true
  }
  attrs: {
    name: "data-pcode"
    mandatory: true
  }
  attrs: {
    name: "data-playerid"
    mandatory: true
  }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FLEX_ITEM
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-dailymotion 1.0
  html_format: AMP
  tag_name: "SCRIPT"
  satisfies: "amp-dailymotion 1.0"
  excludes: "amp-dailymotion 0.1"
  extension_spec: {
    name: "amp-dailymotion"
    version_name: "v1.0"
    version: "1.0"
    bento_supported_version: "1.0"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # amp-dailymotion 0.1 and latest
  html_format: AMP
  tag_name: "SCRIPT"
  satisfies: "amp-dailymotion 0.1"
  excludes: "amp-dailymotion 1.0"
  extension_spec: {
    name: "amp-dailymotion"
    version_name: "v0.1"
    version: "0.1"
    version: "latest"
    requires_usage: EXEMPTED
    deprecated_allow_duplicates: true
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-dailymotion>
  html_format: AMP
  tag_name: "AMP-DAILYMOTION"
  requires_extension: "amp-dailymotion"
  attrs: { name: "autoplay" }
  attrs: {
    name: "data-endscreen-enable"
    value: "false"
    value: "true"
  }
  attrs: {
    name: "data-info"
    value: "false"
    value: "true"
  }
  attrs: {
    name: "data-mute"
    value: "false"
    value: "true"
  }
  attrs: {
    name: "data-sharing-enable"
    value: "false"
    value: "true"
  }
  attrs: {
    name: "data-start"
    value_regex: "[0-9]+"
  }
  attrs: {
    name: "data-ui-highlight"
    value_regex_casei: "([0-9a-f]{3}){1,2}"
  }
  attrs: {
    name: "data-ui-logo"
    value: "false"
    value: "true"
  }
  attrs: {
    name: "data-videoid"
    mandatory: true
    value_regex_casei: "[a-z0-9]+"
  }
  attrs: {
    name: "dock"
    requires_extension: "amp-video-docking"
  }
  attr_lists: "extended-amp-global"
  spec_url: "https://amp.dev/documentation/components/amp-dailymotion/"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-story-interactive
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-story-interactive"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-story-interactive-quiz>
  html_format: AMP
  tag_name: "AMP-STORY-INTERACTIVE-QUIZ"
  requires_extension: "amp-story-interactive"
  mandatory_ancestor: "AMP-STORY-GRID-LAYER"
  attr_lists: "interactive-options-text-attrs"
  attr_lists: "interactive-options-confetti-attrs"
  attr_lists: "interactive-shared-configs-attrs"
  attrs: {
    name: "option-1-correct"
    mandatory_oneof: "['option-1-correct', 'option-2-correct', 'option-3-correct', 'option-4-correct']"
  }
  attrs: {
    name: "option-2-correct"
    mandatory_oneof: "['option-1-correct', 'option-2-correct', 'option-3-correct', 'option-4-correct']"
  }
  attrs: {
    name: "option-3-correct"
    mandatory_oneof: "['option-1-correct', 'option-2-correct', 'option-3-correct', 'option-4-correct']"
    trigger: {
      also_requires_attr: "option-3-text"
    }
  }
  attrs: {
    name: "option-4-correct"
    mandatory_oneof: "['option-1-correct', 'option-2-correct', 'option-3-correct', 'option-4-correct']"
    trigger: {
      also_requires_attr: "option-4-text"
    }
  }
}
tags: {  # <amp-story-interactive-poll>
  html_format: AMP
  tag_name: "AMP-STORY-INTERACTIVE-POLL"
  requires_extension: "amp-story-interactive"
  mandatory_ancestor: "AMP-STORY-GRID-LAYER"
  attr_lists: "interactive-options-text-attrs"
  attr_lists: "interactive-options-confetti-attrs"
  attr_lists: "interactive-options-results-category-attrs"
  attr_lists: "interactive-shared-configs-attrs"
}
tags: {  # <amp-story-interactive-binary-poll>
  html_format: AMP
  tag_name: "AMP-STORY-INTERACTIVE-BINARY-POLL"
  requires_extension: "amp-story-interactive"
  mandatory_ancestor: "AMP-STORY-GRID-LAYER"
  attr_lists: "interactive-shared-configs-attrs"
  attrs: {
    name: "option-1-text"
    mandatory: true
  }
  attrs: {
    name: "option-2-text"
    mandatory: true
  }
  attrs: {
    name: "option-1-confetti"
  }
  attrs: {
    name: "option-2-confetti"
  }
}
tags: {  # <amp-story-interactive-results>
  html_format: AMP
  tag_name: "AMP-STORY-INTERACTIVE-RESULTS"
  requires_extension: "amp-story-interactive"
  mandatory_ancestor: "AMP-STORY-GRID-LAYER"
  attrs: {
    name: "option-1-results-category"
    mandatory: true
  }
  attrs: {
    name: "option-2-results-category"
    mandatory: true
  }
  attrs: {
    name: "option-3-results-category"
  }
  attrs: {
    name: "option-4-results-category"
    trigger: {
      also_requires_attr: "option-3-results-category"
    }
  }
  attrs: {
    name: "option-1-image"
  }
  attrs: {
    name: "option-2-image"
  }
  attrs: {
    name: "option-3-image"
    trigger: {
      also_requires_attr: "option-3-results-category"
    }
  }
  attrs: {
    name: "option-4-image"
    trigger: {
      also_requires_attr: "option-4-results-category"
    }
  }
  attrs: {
    name: "option-1-text"
  }
  attrs: {
    name: "option-2-text"
  }
  attrs: {
    name: "option-3-text"
    trigger: {
      also_requires_attr: "option-3-results-category"
    }
  }
  attrs: {
    name: "option-4-text"
    trigger: {
      also_requires_attr: "option-4-results-category"
    }
  }
  attrs: {
    name: "option-1-results-threshold"
    value_regex: "\\d+(\\.\\d+)?"
  }
  attrs: {
    name: "option-2-results-threshold"
    value_regex: "\\d+(\\.\\d+)?"
  }
  attrs: {
    name: "option-3-results-threshold"
    value_regex: "\\d+(\\.\\d+)?"
    trigger: {
      also_requires_attr: "option-3-results-category"
    }
  }
  attrs: {
    name: "option-4-results-threshold"
    value_regex: "\\d+(\\.\\d+)?"
    trigger: {
      also_requires_attr: "option-4-results-category"
    }
  }
  attrs: {
    name: "prompt-text"
  }
  attrs: {
    name: "theme"
    value: "light"
    value: "dark"
  }
  attrs: {
    name: "chip-style"
    value: "flat"
    value: "transparent"
  }
}
tags: {  # <amp-story-interactive-img-quiz>
  html_format: AMP
  tag_name: "AMP-STORY-INTERACTIVE-IMG-QUIZ"
  requires_extension: "amp-story-interactive"
  mandatory_ancestor: "AMP-STORY-GRID-LAYER"
  attr_lists: "interactive-options-img-attrs"
  attr_lists: "interactive-options-confetti-attrs"
  attr_lists: "interactive-shared-configs-attrs"
  attrs: {
    name: "option-1-correct"
    mandatory_oneof: "['option-1-correct', 'option-2-correct', 'option-3-correct', 'option-4-correct']"
  }
  attrs: {
    name: "option-2-correct"
    mandatory_oneof: "['option-1-correct', 'option-2-correct', 'option-3-correct', 'option-4-correct']"
  }
  attrs: {
    name: "option-3-correct"
    mandatory_oneof: "['option-1-correct', 'option-2-correct', 'option-3-correct', 'option-4-correct']"
    trigger: {
      also_requires_attr: "option-3-image"
    }
  }
  attrs: {
    name: "option-4-correct"
    mandatory_oneof: "['option-1-correct', 'option-2-correct', 'option-3-correct', 'option-4-correct']"
    trigger: {
      also_requires_attr: "option-4-image"
    }
  }
}
tags: {  # <amp-story-interactive-img-poll>
  html_format: AMP
  tag_name: "AMP-STORY-INTERACTIVE-IMG-POLL"
  requires_extension: "amp-story-interactive"
  mandatory_ancestor: "AMP-STORY-GRID-LAYER"
  attr_lists: "interactive-options-img-attrs"
  attr_lists: "interactive-options-confetti-attrs"
  attr_lists: "interactive-shared-configs-attrs"
  attrs: {
    name: "option-1-results-category"
    trigger: {
      also_requires_attr: "option-2-results-category"
    }
  }
  attrs: {
    name: "option-2-results-category"
    trigger: {
      also_requires_attr: "option-1-results-category"
    }
  }
  attrs: {
    name: "option-3-results-category"
    trigger: {
      also_requires_attr: "option-2-results-category"
      also_requires_attr: "option-3-image"
    }
  }
  attrs: {
    name: "option-4-results-category"
    trigger: {
      also_requires_attr: "option-3-results-category"
      also_requires_attr: "option-4-image"
    }
  }
}

attr_lists: {
  name: "interactive-shared-configs-attrs"
  attrs: {
    name: "id"
    mandatory: true
  }
  attrs: {
    name: "prompt-text"
  }
  attrs: {
    name: "endpoint"
    mandatory: true
    value_url: {
      protocol: "https"
      allow_relative: false
      allow_empty: false
    }
  }
  attrs: {
    name: "theme"
    value: "light"
    value: "dark"
  }
  attrs: {
    name: "chip-style"
    value: "shadow"
    value: "flat"
    value: "transparent"
  }
  attrs: {
    name: "prompt-size"
    value: "small"
    value: "medium"
    value: "large"
  }
}
attr_lists: {
  name: "interactive-options-text-attrs"
  attrs: {
    name: "option-1-text"
    mandatory: true
  }
  attrs: {
    name: "option-2-text"
    mandatory: true
  }
  attrs: {
    name: "option-3-text"
  }
  attrs: {
    name: "option-4-text"
    trigger: {
      also_requires_attr: "option-3-text"
    }
  }
}
attr_lists: {
  name: "interactive-options-confetti-attrs"
  attrs: {
    name: "option-1-confetti"
  }
  attrs: {
    name: "option-2-confetti"
  }
  attrs: {
    name: "option-3-confetti"
  }
  attrs: {
    name: "option-4-confetti"
  }
}
attr_lists: {
  name: "interactive-options-results-category-attrs"
  attrs: {
    name: "option-1-results-category"
    trigger: {
      also_requires_attr: "option-2-results-category"
    }
  }
  attrs: {
    name: "option-2-results-category"
    trigger: {
      also_requires_attr: "option-1-results-category"
    }
  }
  attrs: {
    name: "option-3-results-category"
    trigger: {
      also_requires_attr: "option-2-results-category"
      also_requires_attr: "option-3-text"
    }
  }
  attrs: {
    name: "option-4-results-category"
    trigger: {
      also_requires_attr: "option-3-results-category"
      also_requires_attr: "option-4-text"
    }
  }
}
attr_lists: {
  name: "interactive-options-img-attrs"
  attrs: {
    name: "option-1-image"
    mandatory: true
    value_url: {
      protocol: "http"
      protocol: "https"
    }
  }
  attrs: {
    name: "option-2-image"
    mandatory: true
    value_url: {
      protocol: "http"
      protocol: "https"
    }
  }
  attrs: {
    name: "option-3-image"
    trigger: {
      also_requires_attr: "option-3-image-alt"
    }
    value_url: {
      protocol: "http"
      protocol: "https"
    }
  }
  attrs: {
    name: "option-4-image"
    trigger: {
      also_requires_attr: "option-3-image"
      also_requires_attr: "option-4-image-alt"
    }
    value_url: {
      protocol: "http"
      protocol: "https"
    }
  }
  attrs: {
    name: "option-1-image-alt"
    mandatory: true
  }
  attrs: {
    name: "option-2-image-alt"
    mandatory: true
  }
  attrs: {
    name: "option-3-image-alt"
    trigger: {
      also_requires_attr: "option-3-image"
    }
  }
  attrs: {
    name: "option-4-image-alt"
    trigger: {
      also_requires_attr: "option-4-image"
    }
  }
}
tags: {  # amp-brid-player
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-brid-player"
    version: "0.1"
    version: "latest"
    requires_usage: EXEMPTED
    deprecated_allow_duplicates: true
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-brid-player>
  html_format: AMP
  tag_name: "AMP-BRID-PLAYER"
  requires_extension: "amp-brid-player"
  attrs: { name: "autoplay" }
  attrs: {
    name: "data-dynamic"
    value_regex: "[a-z]+"
  }
  attrs: {
    name: "data-outstream"
    mandatory_oneof: "['data-carousel', 'data-outstream', 'data-playlist', 'data-video']"
    value_regex: "[0-9]+"
  }
  attrs: {
    name: "data-partner"
    mandatory: true
    value_regex: "[0-9]+"
  }
  attrs: {
    name: "data-player"
    mandatory: true
    value_regex: "[0-9]+"
  }
  attrs: {
    name: "data-playlist"
    mandatory_oneof: "['data-carousel', 'data-outstream', 'data-playlist', 'data-video']"
    value_regex: ".+"
  }
  attrs: {
    name: "data-video"
    mandatory_oneof: "['data-carousel', 'data-outstream', 'data-playlist', 'data-video']"
    value_regex: "[0-9]+"
  }
  attrs: {
    name: "data-carousel"
    mandatory_oneof: "['data-carousel', 'data-outstream', 'data-playlist', 'data-video']"
    value_regex: "[0-9]+"
  }
  attrs: {
    name: "dock"
    requires_extension: "amp-video-docking"
  }
  attr_lists: "extended-amp-global"
  spec_url: "https://amp.dev/documentation/components/amp-brid-player/"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-redbull-player
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-redbull-player"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-redbull-player>
  html_format: AMP
  tag_name: "AMP-REDBULL-PLAYER"
  requires_extension: "amp-redbull-player"
  attrs: {
    name: "data-param-videoid"
    mandatory: true
  }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: RESPONSIVE
    supported_layouts: FILL
    supported_layouts: FLEX_ITEM
    supported_layouts: FLUID
    supported_layouts: INTRINSIC
  }
}
tags: {  # amp-list
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-list"
    version: "0.1"
    version: "latest"
    requires_usage: EXEMPTED
    deprecated_allow_duplicates: true
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # amp-list
  html_format: AMP4EMAIL
  tag_name: "SCRIPT"
  spec_name: "SCRIPT[custom-element=amp-list] (AMP4EMAIL)"
  extension_spec: {
    name: "amp-list"
    # AMP4EMAIL doesn't allow version: "latest".
    version: "0.1"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-list> with mandatory src and/or [src] attr
  html_format: AMP
  tag_name: "AMP-LIST"
  requires_extension: "amp-list"
  attrs: {
    name: "auto-resize"
    value: ""
    deprecation: "replacement-to-be-determined-at-a-later-date"
    deprecation_url: "https://github.com/ampproject/amphtml/issues/18849"
  }
  attrs: {
    name: "binding"
    value: "always"
    value: "no"
    value: "refresh"
  }
  attrs: { name: "credentials" }
  attrs: {
    name: "data-amp-bind-src"
    mandatory_anyof: "['src','[src]','data-amp-bind-src']"
  }
  attrs: {
    name: "diffable"
    value: ""
  }
  attrs: { name: "items" }
  attrs: {
    name: "load-more"
    value: "auto"
    value: "manual"
   }
  attrs: {
    name: "load-more-bookmark"
    trigger: {
    also_requires_attr: "load-more"
    }
  }
  attrs: { name: "max-items" }
  attrs: {
    name: "reset-on-refresh"
    value: ""
    value: "always"
    value: "fetch"
  }
  attrs: { name: "single-item" }
  attrs: {
    name: "src"
    mandatory_anyof: "['src','[src]','data-amp-bind-src']"
    value_url: {
      protocol: "https"
      protocol: "amp-state"
      protocol: "amp-script"
      allow_relative: true  # Will be set to false at a future date.
    }
    disallowed_value_regex: "__amp_source_origin"
  }
  attrs: {
    name: "template"
    value_oneof_set: TEMPLATE_IDS
  }
  attrs: { name: "xssi-prefix" }
  # <amp-bind>
  attrs: {
    name: "[is-layout-container]"
  }
  attrs: {
    name: "[src]"
    mandatory_anyof: "['src','[src]','data-amp-bind-src']"
  }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "DIV"
  spec_name: "AMP-LIST DIV [fetch-error]"
  mandatory_ancestor: "AMP-LIST"
  attrs: { name: "align" }
  attrs: {
    name: "fetch-error"
    mandatory: true
  }
}

tags: { # amp-list-load-more
  html_format: AMP
  tag_name: "AMP-LIST-LOAD-MORE"
  requires_extension: "amp-list"
  mandatory_parent: "AMP-LIST"
  attrs: {
    name: "load-more-button"
    value: ""
    mandatory_oneof: "['load-more-button', 'load-more-failed', 'load-more-end', 'load-more-loading']"
  }
  attrs: {
    name: "load-more-failed"
    value: ""
    mandatory_oneof: "['load-more-button', 'load-more-failed', 'load-more-end', 'load-more-loading']"
  }
  attrs: {
    name: "load-more-loading"
    value: ""
    mandatory_oneof: "['load-more-button', 'load-more-failed', 'load-more-end', 'load-more-loading']"
  }
  attrs: {
    name: "load-more-end"
    value: ""
    mandatory_oneof: "['load-more-button', 'load-more-failed', 'load-more-end', 'load-more-loading']"
  },
}

# The button element variant allowed in amp-list-load-more.
tags: {
  html_format: AMP
  requires_extension: "amp-list"
  tag_name: "BUTTON"
  spec_name: "amp-list-load-more button[load-more-clickable]"
  mandatory_parent: "AMP-LIST-LOAD-MORE"
  attrs: {
    name: "disabled"
    value: ""
  }
  attrs: {
    name: "load-more-clickable"
    mandatory: true
    dispatch_key: NAME_DISPATCH
    value: ""
  }
  attrs: {
    name: "role"
    implicit: true
  }
  attrs: {
    name: "tabindex"
    implicit: true
  }
  attrs: { name: "type" }
  attrs: { name: "value" }
  attr_lists: "name-attr"
}

# AMP4EMAIL disallows mustache in src attribute.
tags: {  # <amp-list>
  html_format: AMP4EMAIL
  tag_name: "AMP-LIST"
  spec_name: "AMP-LIST (AMP4EMAIL)"
  requires_extension: "amp-list"
  disallowed_ancestor: "AMP-LIST"
  disallowed_ancestor: "AMP-STATE"
  disallowed_ancestor: "TEMPLATE"
  attrs: {
    name: "binding"
    value: "always"
    value: "no"
    value: "refresh"
    value: "refresh-evaluate" # Experimental.
  }
  attrs: {
    name: "diffable"
    value: ""
  }
  attrs: { name: "items" }
  attrs: { name: "max-items" }
  attrs: { name: "single-item" }
  attrs: {
    name: "src"
    mandatory: true
    value_url: {
      protocol: "https"
      allow_relative: false
    }
    disallowed_value_regex: "__amp_source_origin|"
        "{{|}}"    # Mustache is disallowed in src.
  }
  attrs: {
    name: "template"
    value_oneof_set: TEMPLATE_IDS
  }
  attrs: { name: "xssi-prefix" }
  # <amp-bind>
  attrs: {
    name: "[is-layout-container]"
  }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: CONTAINER # Experimental, email-only.
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
# Specific URL to reference for violations having to do with mustache
# templates. These are specific to any particular tag, so must live at
# the top level of this rules file.
template_spec_url: "https://amp.dev/documentation/components/amp-mustache"

tags: {  # amp-mustache
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-mustache"
    extension_type: CUSTOM_TEMPLATE
    version: "0.1"
    version: "0.2"
    version: "latest"
    deprecated_version: "0.1"
    requires_usage: EXEMPTED
    deprecated_allow_duplicates: true
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # amp-mustache
  html_format: AMP4ADS
  tag_name: "SCRIPT"
  spec_name: "SCRIPT[custom-template=amp-mustache] (AMP4ADS)"
  extension_spec: {
    name: "amp-mustache"
    extension_type: CUSTOM_TEMPLATE
    version: "0.1"
    version: "0.2"
    version: "latest"
    deprecated_version: "0.1"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # amp-mustache
  html_format: AMP4EMAIL
  tag_name: "SCRIPT"
  spec_name: "SCRIPT[custom-template=amp-mustache] (AMP4EMAIL)"
  extension_spec: {
    name: "amp-mustache"
    extension_type: CUSTOM_TEMPLATE
    # AMP4EMAIL doesn't allow version: "latest".
    version: "0.1"
    version: "0.2"
    deprecated_version: "0.1"
  }
  attr_lists: "common-extension-attrs"
}
# Templates using script[type=text/plain].
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "SCRIPT"
  spec_name: "SCRIPT type=text/plain"
  disallowed_ancestor: "TEMPLATE"
  disallowed_ancestor: "AMP-DATE-PICKER"
  disallowed_ancestor: "FORM DIV [submit-success][template]"
  disallowed_ancestor: "FORM DIV [submit-error][template]"
  disallowed_ancestor: "FORM DIV [submitting][template]"
  disallowed_ancestor: "FORM DIV [verify-error][template]"
  requires_extension: "amp-mustache"
  attrs: {
    name: "id"
    add_value_to_set: TEMPLATE_IDS
    # When updating this disallowed_value_regex, also update elsewhere in this
    # file, and in mandatory-id-attr and $GLOBAL_ATTRS in
    # validator-main.protoascii, and validator-amp-script.protoascii.
    disallowed_value_regex: "(^|\\s)("  # Values are space separated
        "__amp_\\S*|"
        "__count__|"
        "__defineGetter__|"
        "__defineSetter__|"
        "__lookupGetter__|"
        "__lookupSetter__|"
        "__noSuchMethod__|"
        "__parent__|"
        "__proto__|"
        "__AMP_\\S*|"
        "\\$p|"
        "\\$proxy|"
        "acceptCharset|"
        "addEventListener|"
        "appendChild|"
        "assignedSlot|"
        "attachShadow|"
        "AMP|"
        "baseURI|"
        "checkValidity|"
        "childElementCount|"
        "childNodes|"
        "classList|"
        "className|"
        "clientHeight|"
        "clientLeft|"
        "clientTop|"
        "clientWidth|"
        "compareDocumentPosition|"
        "computedName|"
        "computedRole|"
        "contentEditable|"
        "createShadowRoot|"
        "enqueAction|"
        "firstChild|"
        "firstElementChild|"
        "getAnimations|"
        "getAttribute|"
        "getAttributeNS|"
        "getAttributeNode|"
        "getAttributeNodeNS|"
        "getBoundingClientRect|"
        "getClientRects|"
        "getDestinationInsertionPoints|"
        "getElementsByClassName|"
        "getElementsByTagName|"
        "getElementsByTagNameNS|"
        "getRootNode|"
        "hasAttribute|"
        "hasAttributeNS|"
        "hasAttributes|"
        "hasChildNodes|"
        "hasPointerCapture|"
        "i-amphtml-\\S*|"
        "innerHTML|"
        "innerText|"
        "inputMode|"
        "insertAdjacentElement|"
        "insertAdjacentHTML|"
        "insertAdjacentText|"
        "isContentEditable|"
        "isDefaultNamespace|"
        "isEqualNode|"
        "isSameNode|"
        "lastChild|"
        "lastElementChild|"
        "lookupNamespaceURI|"
        "namespaceURI|"
        "nextElementSibling|"
        "nextSibling|"
        "nodeName|"
        "nodeType|"
        "nodeValue|"
        "offsetHeight|"
        "offsetLeft|"
        "offsetParent|"
        "offsetTop|"
        "offsetWidth|"
        "outerHTML|"
        "outerText|"
        "ownerDocument|"
        "parentElement|"
        "parentNode|"
        "previousElementSibling|"
        "previousSibling|"
        "querySelector|"
        "querySelectorAll|"
        "releasePointerCapture|"
        "removeAttribute|"
        "removeAttributeNS|"
        "removeAttributeNode|"
        "removeChild|"
        "removeEventListener|"
        "replaceChild|"
        "reportValidity|"
        "requestPointerLock|"
        "scrollHeight|"
        "scrollIntoView|"
        "scrollIntoViewIfNeeded|"
        "scrollLeft|"
        "scrollWidth|"
        "setAttribute|"
        "setAttributeNS|"
        "setAttributeNode|"
        "setAttributeNodeNS|"
        "setPointerCapture|"
        "shadowRoot|"
        "styleMap|"
        "tabIndex|"
        "tagName|"
        "textContent|"
        "toString|"
        "valueOf|"
        "(webkit|ms|moz|o)dropzone|"
        "(webkit|moz|ms|o)MatchesSelector|"
        "(webkit|moz|ms|o)RequestFullScreen|"
        "(webkit|moz|ms|o)RequestFullscreen"
        ")(\\s|$)"
  }
  attrs: {
    name: "type"
    mandatory: true
    value_casei: "text/plain"
  }
  attrs: {
    name: "template"
    mandatory: true
    value: "amp-mustache"
    dispatch_key: NAME_VALUE_DISPATCH
  }
  attr_lists: "nonce-attr"
  cdata: {
    disallowed_cdata_regex: {
      regex: "<!--"
      error_message: "html comments"
    }
  }
}
tags: {
  # The AMP4EMAIL script tag spec is identical to the one above except that it
  # should not allow script templates within the form 'submitting' div. There is
  # additional latency in rendering A4E templates, which reduces the time
  # available to render the template during the submitting state.
  html_format: AMP4EMAIL
  tag_name: "SCRIPT"
  spec_name: "SCRIPT type=text/plain (AMP4EMAIL)"
  # <script> tags may not be nested inside other <script> or <template> tags.
  disallowed_ancestor: "TEMPLATE (AMP4EMAIL)"
  disallowed_ancestor: "AMP-DATE-PICKER"
  disallowed_ancestor: "FORM DIV [submit-success][template]"
  disallowed_ancestor: "FORM DIV [submit-error][template]"
  disallowed_ancestor: "FORM DIV [submitting][template]"
  disallowed_ancestor: "FORM DIV [verify-error][template]"
  # AMP4EMAIL addition. See the comment for AMP4EMAIL for the spec named
  # "FORM DIV [submitting][template]".
  disallowed_ancestor: "FORM DIV [submitting]"
  requires_extension: "amp-mustache"
  attrs: {
    name: "id"
    add_value_to_set: TEMPLATE_IDS
    # When updating this disallowed_value_regex, also update elsewhere in this
    # file, and in mandatory-id-attr and $GLOBAL_ATTRS in
    # validator-main.protoascii, and validator-amp-script.protoascii.
    disallowed_value_regex: "(^|\\s)("  # Values are space separated
        "__amp_\\S*|"
        "__count__|"
        "__defineGetter__|"
        "__defineSetter__|"
        "__lookupGetter__|"
        "__lookupSetter__|"
        "__noSuchMethod__|"
        "__parent__|"
        "__proto__|"
        "__AMP_\\S*|"
        "\\$p|"
        "\\$proxy|"
        "acceptCharset|"
        "addEventListener|"
        "appendChild|"
        "assignedSlot|"
        "attachShadow|"
        "AMP|"
        "baseURI|"
        "checkValidity|"
        "childElementCount|"
        "childNodes|"
        "classList|"
        "className|"
        "clientHeight|"
        "clientLeft|"
        "clientTop|"
        "clientWidth|"
        "compareDocumentPosition|"
        "computedName|"
        "computedRole|"
        "contentEditable|"
        "createShadowRoot|"
        "enqueAction|"
        "firstChild|"
        "firstElementChild|"
        "getAnimations|"
        "getAttribute|"
        "getAttributeNS|"
        "getAttributeNode|"
        "getAttributeNodeNS|"
        "getBoundingClientRect|"
        "getClientRects|"
        "getDestinationInsertionPoints|"
        "getElementsByClassName|"
        "getElementsByTagName|"
        "getElementsByTagNameNS|"
        "getRootNode|"
        "hasAttribute|"
        "hasAttributeNS|"
        "hasAttributes|"
        "hasChildNodes|"
        "hasPointerCapture|"
        "i-amphtml-\\S*|"
        "innerHTML|"
        "innerText|"
        "inputMode|"
        "insertAdjacentElement|"
        "insertAdjacentHTML|"
        "insertAdjacentText|"
        "isContentEditable|"
        "isDefaultNamespace|"
        "isEqualNode|"
        "isSameNode|"
        "lastChild|"
        "lastElementChild|"
        "lookupNamespaceURI|"
        "namespaceURI|"
        "nextElementSibling|"
        "nextSibling|"
        "nodeName|"
        "nodeType|"
        "nodeValue|"
        "offsetHeight|"
        "offsetLeft|"
        "offsetParent|"
        "offsetTop|"
        "offsetWidth|"
        "outerHTML|"
        "outerText|"
        "ownerDocument|"
        "parentElement|"
        "parentNode|"
        "previousElementSibling|"
        "previousSibling|"
        "querySelector|"
        "querySelectorAll|"
        "releasePointerCapture|"
        "removeAttribute|"
        "removeAttributeNS|"
        "removeAttributeNode|"
        "removeChild|"
        "removeEventListener|"
        "replaceChild|"
        "reportValidity|"
        "requestPointerLock|"
        "scrollHeight|"
        "scrollIntoView|"
        "scrollIntoViewIfNeeded|"
        "scrollLeft|"
        "scrollWidth|"
        "setAttribute|"
        "setAttributeNS|"
        "setAttributeNode|"
        "setAttributeNodeNS|"
        "setPointerCapture|"
        "shadowRoot|"
        "styleMap|"
        "tabIndex|"
        "tagName|"
        "textContent|"
        "toString|"
        "valueOf|"
        "(webkit|ms|moz|o)dropzone|"
        "(webkit|moz|ms|o)MatchesSelector|"
        "(webkit|moz|ms|o)RequestFullScreen|"
        "(webkit|moz|ms|o)RequestFullscreen"
        ")(\\s|$)"
  }
  attrs: {
    name: "type"
    mandatory: true
    value_casei: "text/plain"
  }
  attrs: {
    name: "template"
    mandatory: true
    value: "amp-mustache"
    dispatch_key: NAME_VALUE_DISPATCH
  }
  attr_lists: "nonce-attr"
  cdata: {
    disallowed_cdata_regex: {
      regex: "<!--"
      error_message: "html comments"
    }
  }
}
# HTML5, 4.11.3 The template element.
tags: {
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "TEMPLATE"
  mandatory_ancestor: "BODY"
  # <template> tags may not be nested inside other <template> tags.
  disallowed_ancestor: "TEMPLATE"
  # <templates> tags inside <amp-date-picker> have additional requirements
  # as specified in the validator-amp-date-picker.protoascii rule file.
  disallowed_ancestor: "AMP-DATE-PICKER"
  # <templates> tags inside <amp-story-auto-ads> have additional requirements
  # as specified in the <amp-story-auto-ads> rule file.
  disallowed_ancestor: "AMP-STORY-AUTO-ADS"
  disallowed_ancestor: "FORM DIV [submit-success][template]"
  disallowed_ancestor: "FORM DIV [submit-error][template]"
  disallowed_ancestor: "FORM DIV [submitting][template]"
  disallowed_ancestor: "FORM DIV [verify-error][template]"
  requires_extension: "amp-mustache"
  attrs: {
    name: "id"
    add_value_to_set: TEMPLATE_IDS
    # When updating this disallowed_value_regex, also update elsewhere in this
    # file, and in mandatory-id-attr and $GLOBAL_ATTRS in
    # validator-main.protoascii, and validator-amp-script.protoascii.
    disallowed_value_regex: "(^|\\s)("  # Values are space separated
        "__amp_\\S*|"
        "__count__|"
        "__defineGetter__|"
        "__defineSetter__|"
        "__lookupGetter__|"
        "__lookupSetter__|"
        "__noSuchMethod__|"
        "__parent__|"
        "__proto__|"
        "__AMP_\\S*|"
        "\\$p|"
        "\\$proxy|"
        "acceptCharset|"
        "addEventListener|"
        "appendChild|"
        "assignedSlot|"
        "attachShadow|"
        "AMP|"
        "baseURI|"
        "checkValidity|"
        "childElementCount|"
        "childNodes|"
        "classList|"
        "className|"
        "clientHeight|"
        "clientLeft|"
        "clientTop|"
        "clientWidth|"
        "compareDocumentPosition|"
        "computedName|"
        "computedRole|"
        "contentEditable|"
        "createShadowRoot|"
        "enqueAction|"
        "firstChild|"
        "firstElementChild|"
        "getAnimations|"
        "getAttribute|"
        "getAttributeNS|"
        "getAttributeNode|"
        "getAttributeNodeNS|"
        "getBoundingClientRect|"
        "getClientRects|"
        "getDestinationInsertionPoints|"
        "getElementsByClassName|"
        "getElementsByTagName|"
        "getElementsByTagNameNS|"
        "getRootNode|"
        "hasAttribute|"
        "hasAttributeNS|"
        "hasAttributes|"
        "hasChildNodes|"
        "hasPointerCapture|"
        "i-amphtml-\\S*|"
        "innerHTML|"
        "innerText|"
        "inputMode|"
        "insertAdjacentElement|"
        "insertAdjacentHTML|"
        "insertAdjacentText|"
        "isContentEditable|"
        "isDefaultNamespace|"
        "isEqualNode|"
        "isSameNode|"
        "lastChild|"
        "lastElementChild|"
        "lookupNamespaceURI|"
        "namespaceURI|"
        "nextElementSibling|"
        "nextSibling|"
        "nodeName|"
        "nodeType|"
        "nodeValue|"
        "offsetHeight|"
        "offsetLeft|"
        "offsetParent|"
        "offsetTop|"
        "offsetWidth|"
        "outerHTML|"
        "outerText|"
        "ownerDocument|"
        "parentElement|"
        "parentNode|"
        "previousElementSibling|"
        "previousSibling|"
        "querySelector|"
        "querySelectorAll|"
        "releasePointerCapture|"
        "removeAttribute|"
        "removeAttributeNS|"
        "removeAttributeNode|"
        "removeChild|"
        "removeEventListener|"
        "replaceChild|"
        "reportValidity|"
        "requestPointerLock|"
        "scrollHeight|"
        "scrollIntoView|"
        "scrollIntoViewIfNeeded|"
        "scrollLeft|"
        "scrollWidth|"
        "setAttribute|"
        "setAttributeNS|"
        "setAttributeNode|"
        "setAttributeNodeNS|"
        "setPointerCapture|"
        "shadowRoot|"
        "styleMap|"
        "tabIndex|"
        "tagName|"
        "textContent|"
        "toString|"
        "valueOf|"
        "(webkit|ms|moz|o)dropzone|"
        "(webkit|moz|ms|o)MatchesSelector|"
        "(webkit|moz|ms|o)RequestFullScreen|"
        "(webkit|moz|ms|o)RequestFullscreen"
        ")(\\s|$)"
  }
  attrs: {
    name: "type"
    mandatory: true
    value: "amp-mustache"
  }
}
tags: {
  # The AMP4EMAIL template tag spec is identical to the one above except that it
  # should not allow templates within the form 'submitting' div. There is
  # additional latency in rendering A4E templates, which reduces the time
  # available to render the template during the submitting state.
  html_format: AMP4EMAIL
  tag_name: "TEMPLATE"
  spec_name: "TEMPLATE (AMP4EMAIL)"
  mandatory_ancestor: "BODY"
  # <template> tags may not be nested inside other <template> tags.
  disallowed_ancestor: "TEMPLATE (AMP4EMAIL)"
  # <templates> tags inside <amp-date-picker> have additional requirements
  # as specified in the validator-amp-date-picker.protoascii rule file.
  disallowed_ancestor: "AMP-DATE-PICKER"
  disallowed_ancestor: "FORM DIV [submit-success][template]"
  disallowed_ancestor: "FORM DIV [submit-error][template]"
  disallowed_ancestor: "FORM DIV [submitting][template]"
  disallowed_ancestor: "FORM DIV [verify-error][template]"
  # AMP4EMAIL addition. See the comment for AMP4EMAIL for the spec named
  # "FORM DIV [submitting][template]".
  disallowed_ancestor: "FORM DIV [submitting]"
  requires_extension: "amp-mustache"
  attrs: {
    name: "id"
    add_value_to_set: TEMPLATE_IDS
    # When updating this disallowed_value_regex, also update elsewhere in this
    # file, and in mandatory-id-attr and $GLOBAL_ATTRS in
    # validator-main.protoascii, and validator-amp-script.protoascii.
    disallowed_value_regex: "(^|\\s)("  # Values are space separated
        "__amp_\\S*|"
        "__count__|"
        "__defineGetter__|"
        "__defineSetter__|"
        "__lookupGetter__|"
        "__lookupSetter__|"
        "__noSuchMethod__|"
        "__parent__|"
        "__proto__|"
        "__AMP_\\S*|"
        "\\$p|"
        "\\$proxy|"
        "acceptCharset|"
        "addEventListener|"
        "appendChild|"
        "assignedSlot|"
        "attachShadow|"
        "AMP|"
        "baseURI|"
        "checkValidity|"
        "childElementCount|"
        "childNodes|"
        "classList|"
        "className|"
        "clientHeight|"
        "clientLeft|"
        "clientTop|"
        "clientWidth|"
        "compareDocumentPosition|"
        "computedName|"
        "computedRole|"
        "contentEditable|"
        "createShadowRoot|"
        "enqueAction|"
        "firstChild|"
        "firstElementChild|"
        "getAnimations|"
        "getAttribute|"
        "getAttributeNS|"
        "getAttributeNode|"
        "getAttributeNodeNS|"
        "getBoundingClientRect|"
        "getClientRects|"
        "getDestinationInsertionPoints|"
        "getElementsByClassName|"
        "getElementsByTagName|"
        "getElementsByTagNameNS|"
        "getRootNode|"
        "hasAttribute|"
        "hasAttributeNS|"
        "hasAttributes|"
        "hasChildNodes|"
        "hasPointerCapture|"
        "i-amphtml-\\S*|"
        "innerHTML|"
        "innerText|"
        "inputMode|"
        "insertAdjacentElement|"
        "insertAdjacentHTML|"
        "insertAdjacentText|"
        "isContentEditable|"
        "isDefaultNamespace|"
        "isEqualNode|"
        "isSameNode|"
        "lastChild|"
        "lastElementChild|"
        "lookupNamespaceURI|"
        "namespaceURI|"
        "nextElementSibling|"
        "nextSibling|"
        "nodeName|"
        "nodeType|"
        "nodeValue|"
        "offsetHeight|"
        "offsetLeft|"
        "offsetParent|"
        "offsetTop|"
        "offsetWidth|"
        "outerHTML|"
        "outerText|"
        "ownerDocument|"
        "parentElement|"
        "parentNode|"
        "previousElementSibling|"
        "previousSibling|"
        "querySelector|"
        "querySelectorAll|"
        "releasePointerCapture|"
        "removeAttribute|"
        "removeAttributeNS|"
        "removeAttributeNode|"
        "removeChild|"
        "removeEventListener|"
        "replaceChild|"
        "reportValidity|"
        "requestPointerLock|"
        "scrollHeight|"
        "scrollIntoView|"
        "scrollIntoViewIfNeeded|"
        "scrollLeft|"
        "scrollWidth|"
        "setAttribute|"
        "setAttributeNS|"
        "setAttributeNode|"
        "setAttributeNodeNS|"
        "setPointerCapture|"
        "shadowRoot|"
        "styleMap|"
        "tabIndex|"
        "tagName|"
        "textContent|"
        "toString|"
        "valueOf|"
        "(webkit|ms|moz|o)dropzone|"
        "(webkit|moz|ms|o)MatchesSelector|"
        "(webkit|moz|ms|o)RequestFullScreen|"
        "(webkit|moz|ms|o)RequestFullscreen"
        ")(\\s|$)"
  }
  attrs: {
    name: "type"
    mandatory: true
    value: "amp-mustache"
  }
}
tags: {  # amp-lightbox 1.0
  html_format: AMP
  tag_name: "SCRIPT"
  satisfies: "amp-lightbox 1.0"
  excludes: "amp-lightbox 0.1"
  extension_spec: {
    name: "amp-lightbox"
    version_name: "v1.0"
    version: "1.0"
    bento_supported_version: "1.0"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # amp-lightbox 0.1 and latest
  html_format: AMP
  tag_name: "SCRIPT"
  satisfies: "amp-lightbox 0.1"
  excludes: "amp-lightbox 1.0"
  extension_spec: {
    name: "amp-lightbox"
    version_name: "v0.1"
    version: "0.1"
    version: "latest"
    requires_usage: EXEMPTED
    deprecated_allow_duplicates: true
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # amp-lightbox
  html_format: AMP4ADS
  tag_name: "SCRIPT"
  spec_name: "SCRIPT[custom-element=amp-lightbox] (AMP4ADS)"
  extension_spec: {
    name: "amp-lightbox"
    version_name: "v0.1"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # amp-lightbox
  html_format: AMP4EMAIL
  tag_name: "SCRIPT"
  spec_name: "SCRIPT[custom-element=amp-lightbox] (AMP4EMAIL)"
  extension_spec: {
    name: "amp-lightbox"
    version_name: "v0.1"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
  deprecation: "amp-lightbox cannot be properly positioned in emails and will soon be invalid in AMP4EMAIL."
  deprecation_url: "https://github.com/ampproject/amphtml/issues/23170"
}
tags: {  # <amp-lightbox>
  html_format: AMP
  html_format: AMP4EMAIL
  tag_name: "AMP-LIGHTBOX"
  requires_extension: "amp-lightbox"
  attrs: {
    name: "animate-in" # 0.1 only
    value_casei: "fade-in"
    value_casei: "fly-in-bottom"
    value_casei: "fly-in-top"
  }
  attrs: {
    disabled_by: "amp4email"
    name: "animation" # 1.0 only
    value_casei: "fade-in"
    value_casei: "fly-in-bottom"
    value_casei: "fly-in-top"
  }
  attrs: { name: "controls" }
  attrs: { name: "from" }
  attrs: {
    name: "scrollable" # 0.1 only
    disabled_by: "amp4email"
  }
  # <amp-bind>
  attrs: { name: "[open]" }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: NODISPLAY
  }
}
tags: {   # <amp-lightbox close-button> in AMP4ADS.
  html_format: AMP4ADS
  tag_name: "AMP-LIGHTBOX"
  spec_name: "amp-lightbox [AMP4ADS]"
  requires_extension: "amp-lightbox"
  attrs: {
    name: "animate-in"
    value_casei: "fade-in"
    value_casei: "fly-in-bottom"
    value_casei: "fly-in-top"
  }
  attrs: {
    name: "close-button"
    # Require `close-button` since we can't rely on the lightbox content
    # containing a UI affordance to close it, effectively hijacking the
    # document otherwise.
    mandatory: true
  }
  attrs: { name: "controls" }
  attrs: { name: "from" }

  # Never allow `scrollable` as it would break layout with close button and
  # async iframe interaction.

  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: NODISPLAY
  }
}
tags: {  # amp-addthis
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    version: "0.1"
    version: "latest"
    name: "amp-addthis"
  }
  attr_lists: "common-extension-attrs"
}

tags: {  # <amp-addthis>
  html_format: AMP
  tag_name: "AMP-ADDTHIS"
  requires_extension: "amp-addthis"
  attrs: {
    name: "data-product-code"
    mandatory_oneof: "['data-product-code', 'data-widget-id']"
  }
  attrs: {
    name: "data-share-media"
    value_url: {
      protocol: "http"
      protocol: "https"
      allow_empty: true
    }
  }
  attrs: {
    name: "data-share-url"
    value_url: {
      protocol: "http"
      protocol: "https"
      allow_empty: true
    }
  }
  attrs: {
    name: "data-widget-id"
    trigger: {
      also_requires_attr: "data-pub-id"
    }
    mandatory_oneof: "['data-product-code', 'data-widget-id']"
  }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-dynamic-css-classes
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-dynamic-css-classes"
    version: "0.1"
    version: "latest"
    deprecated_allow_duplicates: true
    requires_usage: NONE
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # amp-bind
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-bind"
    version: "0.1"
    version: "latest"
    # amp-bind has no associated tag which indicates usage of the extension.
    # TODO(gregable): Implement a mechanism to associate attributes with
    # extension usage and then set this to EXEMPTED or ERROR.
    requires_usage: NONE
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # amp-bind
  html_format: AMP4EMAIL
  tag_name: "SCRIPT"
  spec_name: "SCRIPT[custom-element=amp-bind] (AMP4EMAIL)"
  extension_spec: {
    name: "amp-bind"
    # AMP4EMAIL doesn't allow version: "latest"
    version: "0.1"
    # amp-bind has no associated tag which indicates usage of the extension.
    # TODO(gregable): Implement a mechanism to associate attributes with
    # extension usage and then set this to EXEMPTED or ERROR.
    requires_usage: NONE
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-state> (json)
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "SCRIPT"
  spec_name: "amp-bind extension .json script"
  requires_extension: "amp-bind"
  mandatory_parent: "AMP-STATE"
  attrs: {
    name: "type"
    mandatory: true
    value_casei: "application/json"
    dispatch_key: NAME_VALUE_PARENT_DISPATCH
  }
  attr_lists: "nonce-attr"
  cdata: {
    max_bytes: 100000
    max_bytes_spec_url: "https://amp.dev/documentation/components/amp-bind#state"
    disallowed_cdata_regex: {
      regex: "<!--"
      error_message: "html comments"
    }
  }
  spec_url: "https://amp.dev/documentation/components/amp-bind/"
}
tags: {  # <amp-state>
  html_format: AMP
  tag_name: "AMP-STATE"
  spec_name: "amp-state"
  requires_extension: "amp-bind"
  attrs: {
    name: "credentials"
  }
  attrs: {
    name: "overridable"
  }
  attrs: {
    name: "src"
    value_url: {
      protocol: "https"
      allow_relative: true  # Will be set to false at a future date.
    }
    disallowed_value_regex: "__amp_source_origin"
  }
  attr_lists: "mandatory-id-attr"
  # <amp-bind>
  attrs: { name: "[src]" }
  child_tags: {
    first_child_tag_name_oneof: "SCRIPT"
  }
  spec_url: "https://amp.dev/documentation/components/amp-bind/"
}
# AMP4ADS and AMP4EMAIL enforces the the same restrictions on the 'src'
# attribute of AMP-IMG and AMP-LIST on the src attribute of AMP-STATE. Use of
# 'credential' is disallowed.
tags: {  # <amp-state>
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "AMP-STATE"
  spec_name: "amp-state (AMP4EMAIL)"
  requires_extension: "amp-bind"
  disallowed_ancestor: "AMP-LIST"
  disallowed_ancestor: "AMP-STATE"
  disallowed_ancestor: "TEMPLATE"
  attr_lists: "mandatory-id-attr"
  child_tags: {
    first_child_tag_name_oneof: "SCRIPT"
  }
  spec_url: "https://amp.dev/documentation/components/amp-bind/"
}
tags: {  # <amp-bind-macro>
  html_format: AMP
  html_format: AMP4EMAIL
  tag_name: "AMP-BIND-MACRO"
  requires_extension: "amp-bind"
  attrs: {
    name: "arguments"
  }
  attrs: {
    name: "expression"
    mandatory: true
  }
  attr_lists: "mandatory-id-attr"
  spec_url: "https://amp.dev/documentation/components/amp-bind/"
}
tags: {  # amp-action-macro
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-action-macro"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-action-macro>
  html_format: AMP
  tag_name: "AMP-ACTION-MACRO"
  requires_extension: "amp-action-macro"
  attrs: {
    name: "arguments"
  }
  attrs: {
    name: "execute"
    mandatory: true
  }
  attr_lists: "mandatory-id-attr"
  spec_url: "https://amp.dev/documentation/components/amp-action-macro/"
}
tags: {  # amp-gist
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-gist"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-gist>
  html_format: AMP
  tag_name: "AMP-GIST"
  requires_extension: "amp-gist"
  attrs: {
    name: "data-gistid"
    mandatory: true
  }
  attr_lists: "extended-amp-global"
  spec_url: "https://amp.dev/documentation/components/amp-gist/"
  amp_layout: {
    supported_layouts: FIXED_HEIGHT
  }
}
tags: {  # amp-autocomplete
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-autocomplete"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # amp-autocomplete
  html_format: AMP4EMAIL
  tag_name: "SCRIPT"
  spec_name: "SCRIPT[custom-element=amp-autocomplete] (AMP4EMAIL)"
  extension_spec: {
    name: "amp-autocomplete"
    # AMP4EMAIL doesn't allow version: "latest".
    version: "0.1"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-autocomplete>
  html_format: AMP
  tag_name: "AMP-AUTOCOMPLETE"
  spec_name: "amp-autocomplete"
  requires_extension: "amp-autocomplete"
  attrs: {
    name: "filter"
    value_casei: "custom"
    value_casei: "fuzzy"
    value_casei: "none"
    value_casei: "prefix"
    value_casei: "substring"
    value_casei: "token-prefix"
    trigger: {
      if_value_regex: "custom"
      also_requires_attr: "filter-expr"
    }
    mandatory: true
  }
  attrs: {
    name: "filter-expr"
    requires_extension: "amp-bind"
  }
  attrs: { name: "filter-value" }
  attrs: { name: "highlight-user-entry" }
  attrs: { name: "inline" }
  attrs: { name: "items" }
  attrs: { name: "max-entries" }
  attrs: { name: "max-items" }
  attrs: { name: "min-characters" }
  attrs: { name: "prefetch" }
  attrs: {
    name: "query"
    trigger: {
      also_requires_attr: "src"
    }
  }
  attrs: {
    name: "src"
    value_url: {
      protocol: "https"
      allow_relative: true
    }
  }
  attrs: { name: "submit-on-enter" }
  attrs: {
    name: "suggest-first"
  }
  attrs: { name: "template" }
  # amp-bind
  attrs: {
    name: "[src]"
  }
  attr_lists: "extended-amp-global"
  spec_url: "https://amp.dev/documentation/components/amp-autocomplete/"
  amp_layout: {
    supported_layouts: CONTAINER
  }
}
# AMP4EMAIL disallows mustache in src attribute, filter attribute.
tags: {  # <amp-autocomplete>
  html_format: AMP4EMAIL
  tag_name: "AMP-AUTOCOMPLETE"
  spec_name: "AMP-AUTOCOMPLETE (AMP4EMAIL)"
  requires_extension: "amp-autocomplete"
  disallowed_ancestor: "AMP-AUTOCOMPLETE"
  disallowed_ancestor: "AMP-STATE"
  disallowed_ancestor: "TEMPLATE"
  attrs: { name: "highlight-user-entry" }
  attrs: { name: "inline" }
  attrs: { name: "items" }
  attrs: { name: "max-items" }
  attrs: { name: "min-characters" }
  attrs: { name: "prefetch" }
  attrs: {
    name: "query"
    trigger: {
      also_requires_attr: "src"
    }
  }
  attrs: { name: "submit-on-enter" }
  attrs: {
    name: "suggest-first"
  }
  attrs: {
    name: "src"
    mandatory: true
    value_url: {
      protocol: "https"
      allow_relative: false
    }
    disallowed_value_regex: "__amp_source_origin|"
        "{{|}}"    # Mustache is disallowed in src.
  }
  attrs: {
    name: "template"
    value_oneof_set: TEMPLATE_IDS
  }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: CONTAINER
  }
}
tags: {  # <amp-autocomplete> > <input>
  html_format: AMP
  tag_name: "INPUT"
  spec_name: "amp-autocomplete > input"
  mandatory_parent: "AMP-AUTOCOMPLETE"
  requires_extension: "amp-autocomplete"
  requires_extension: "amp-form"
  attrs: {
    name: "type"
    mandatory: true
    value_casei: "search"
    value_casei: "text"
  }
}
tags: {  # amp-autocomplete JSON
  html_format: AMP
  tag_name: "SCRIPT"
  spec_name: "amp-autocomplete JSON"
  requires_extension: "amp-autocomplete"
  mandatory_parent: "AMP-AUTOCOMPLETE"
  attrs: {
    name: "type"
    mandatory: true
    value_casei: "application/json"
    dispatch_key: NAME_VALUE_PARENT_DISPATCH
  }
  attr_lists: "nonce-attr"
  cdata: {
    disallowed_cdata_regex: {
      regex: "<!--"
      error_message: "html comments"
    }
  }
}
tags: {  # amp-story-auto-analytics
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-story-auto-analytics"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-story-auto-analytics>
  html_format: AMP
  tag_name: "AMP-STORY-AUTO-ANALYTICS"
  requires_extension: "amp-story-auto-analytics"
  attrs: {
    name: "gtag-id"
    mandatory: true
    value_regex: "[A-Z]{1,2}-[A-Z0-9-]+"
  }
}
tags: {  # amp-beopinion
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-beopinion"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-beopinion>
  html_format: AMP
  tag_name: "AMP-BEOPINION"
  requires_extension: "amp-beopinion"
  attrs: {
    name: "data-account"
    value_regex_casei: "[0-9a-f]{24}"
    mandatory: true
  }
  attrs: {
    name: "data-content"
    value_regex_casei: "[0-9a-f]{24}"
  }
  attrs: {
    name: "data-my-content"
    value: "0"
    value: "1"
  }
  attrs: {
    name: "data-name"
  }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: INTRINSIC
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-access-poool
  html_format: AMP
  tag_name: "SCRIPT"
  requires_extension: "amp-access"
  extension_spec: {
    name: "amp-access-poool"
    version: "0.1"
    version: "latest"
    requires_usage: NONE
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # amp-font
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-font"
    version: "0.1"
    version: "latest"
    requires_usage: EXEMPTED
    deprecated_allow_duplicates: true
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-font>
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "AMP-FONT"
  requires_extension: "amp-font"
  attrs: {
    name: "font-family"
    mandatory: true
  }
  attrs: { name: "font-style" }
  attrs: { name: "font-variant" }
  attrs: { name: "font-weight" }
  attrs: { name: "on-error-add-class" }
  attrs: { name: "on-error-remove-class" }
  attrs: { name: "on-load-add-class" }
  attrs: { name: "on-load-remove-class" }
  attrs: {
    name: "timeout"
    value_regex: "[0-9]+"
  }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: NODISPLAY
  }
}
tags: {  # amp-hulu
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-hulu"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-hulu>
  html_format: AMP
  tag_name: "AMP-HULU"
  requires_extension: "amp-hulu"
  attrs: {
    name: "data-eid"
    mandatory: true
  }
  attr_lists: "extended-amp-global"
  spec_url: "https://amp.dev/documentation/components/amp-hulu/"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-accordion for websites
  html_format: AMP
  tag_name: "SCRIPT"
  satisfies: "amp-accordion 1.0"
  excludes: "amp-accordion 0.1"
  extension_spec: {
    name: "amp-accordion"
    version_name: "v1.0"
    version: "1.0"
    bento_supported_version: "1.0"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # amp-accordion for ads
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "SCRIPT"
  satisfies: "amp-accordion 0.1"
  excludes: "amp-accordion 1.0"
  extension_spec: {
    name: "amp-accordion"
    version_name: "v0.1"
    version: "0.1"
    version: "latest"
    requires_usage: EXEMPTED
    deprecated_allow_duplicates: true
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # amp-accordion
  html_format: AMP4EMAIL
  tag_name: "SCRIPT"
  spec_name: "SCRIPT[custom-element=amp-accordion] (AMP4EMAIL)"
  extension_spec: {
    name: "amp-accordion"
    # AMP4EMAIL doesn't allow version: "latest".
    version: "0.1"
    requires_usage: EXEMPTED
    deprecated_allow_duplicates: true
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-accordion>
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "AMP-ACCORDION"
  requires_extension: "amp-accordion"
  attrs: { name: "animate" value: "" }
  attrs: {
    # session-states are always disabled in AMP4EMAIL
    disabled_by: "amp4email"
    name: "disable-session-states"
    value: ""
  }
  attrs: { name: "expand-single-section" value: "" }
  attr_lists: "extended-amp-global"
  child_tags: {
    child_tag_name_oneof: "SECTION"
  }
  spec_url: "https://amp.dev/documentation/components/amp-accordion/"
  amp_layout: {
    supported_layouts: CONTAINER
  }
}
tags: {  # <amp-accordion> > <section>
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "SECTION"
  spec_name: "amp-accordion > section"
  descriptive_name: "amp-accordion > section"
  mandatory_parent: "AMP-ACCORDION"
  attrs: {
    # amp-access is disabled in AMP4EMAIL
    disabled_by: "amp4email"
    name: "access-hide"
    value: ""
  }
  attrs: { name: "expanded" value: "" }
  # amp-bind
  attrs: { # binding to this attribute in 1.0 performs no action (see #33493)
    name: "[data-expand]"
  }
  # amp-bind
  attrs: {
    # this attribute is used in 1.0 only
    # this is disabled in AMP4EMAIL which only uses 0.1
    disabled_by: "amp4email"
    name: "[expanded]"
  }
  child_tags: {
    mandatory_num_child_tags: 2
    first_child_tag_name_oneof: "H1"
    first_child_tag_name_oneof: "H2"
    first_child_tag_name_oneof: "H3"
    first_child_tag_name_oneof: "H4"
    first_child_tag_name_oneof: "H5"
    first_child_tag_name_oneof: "H6"
    first_child_tag_name_oneof: "HEADER"
  }
}
tags: {  # amp-selector 1.0
  html_format: AMP
  tag_name: "SCRIPT"
  satisfies: "amp-selector 1.0"
  excludes: "amp-selector 0.1"
  extension_spec: {
    name: "amp-selector"
    version_name: "v1.0"
    version: "1.0"
    bento_supported_version: "1.0"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # amp-selector 0.1 and latest
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "SCRIPT"
  satisfies: "amp-selector 0.1"
  excludes: "amp-selector 1.0"
  extension_spec: {
    name: "amp-selector"
    version_name: "v0.1"
    version: "0.1"
    version: "latest"
    requires_usage: EXEMPTED
  }
  attr_lists: "common-extension-attrs"
}

tags: {
  html_format: AMP4EMAIL
  tag_name: "SCRIPT"
  spec_name: "SCRIPT[custom-element=amp-selector] (AMP4EMAIL)"
  extension_spec: {
    name: "amp-selector"
    # AMP4EMAIL doesn't allow version: "latest".
    version_name: "v0.1"
    version: "0.1"
    requires_usage: EXEMPTED
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-selector> for AMP (autoplay attribute allowed)
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "AMP-SELECTOR"
  disallowed_ancestor: "AMP-SELECTOR"
  requires_extension: "amp-selector"
  attrs: {
    name: "disabled"
    value: ""
  }
  attrs: { name: "form" }
  attrs: {
    name: "keyboard-select-mode"
    value_casei: "focus"
    value_casei: "none"
    value_casei: "select"
  }
  attrs: {
    name: "multiple"
    value: ""
  }
  # <amp-bind>
  attrs: { name: "[disabled]" }
  attrs: { name: "[selected]" }
  reference_points: {
    tag_spec_name: "AMP-SELECTOR option"
  }
  reference_points: {
    tag_spec_name: "AMP-SELECTOR child"
  }
  attr_lists: "extended-amp-global"
  attr_lists: "name-attr"
  amp_layout {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
    supported_layouts: CONTAINER
  }
}
# Reference Points apply only to direct children, and all direct children must
# match exactly one reference point. These two criteria don't fit naturally
# with <amp-selector> rules which apply to all descendant tags and don't
# require that all tags match the rule.
# Our appraoch here is two define two reference points. One is a child which
# has no additional requirements, so it always can match. The other is a child
# which has the amp-selector option attributes. The first of these can
# recursively contain either reference point beneath it.
# One small drawback here is that order matters. The list of reference points
# must first match against 'option' before 'child'. Since 'child' will
# always match, we want to prefer 'option' when both of them match.
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "$REFERENCE_POINT"
  spec_name: "AMP-SELECTOR option"
  descriptive_name : "amp-selector [option] descendant"
  attrs: {
    name: "disabled"
    value: ""
  }
  attrs: {
    name: "option"
    mandatory: true
  }
  attrs: {
    name: "selected"
    value: ""
  }
  spec_url: "https://amp.dev/documentation/components/amp-selector/"
}
tags: {
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "$REFERENCE_POINT"
  spec_name: "AMP-SELECTOR child"
  descriptive_name : "amp-selector child"
  # This is used recursively so that the "AMP-SELECTOR option" can be any
  # depth below the main <amp-sepector>:
  reference_points: {
    tag_spec_name: "AMP-SELECTOR option"
  }
  reference_points: {
    tag_spec_name: "AMP-SELECTOR child"
  }
}
# Specific script tags for custom elements and runtime imports.
tags: {  # amp-geo
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-geo"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-geo>
  html_format: AMP
  tag_name: "AMP-GEO"
  requires_extension: "amp-geo"
  attr_lists: "extended-amp-global"
  unique: true
  child_tags: {
    first_child_tag_name_oneof: "SCRIPT"
  }
  amp_layout: {
    supported_layouts: NODISPLAY
  }
}
tags: {  # amp-geo (json)
  html_format: AMP
  tag_name: "SCRIPT"
  spec_name: "amp-geo extension .json script"
  requires_extension: "amp-geo"
  mandatory_parent: "AMP-GEO"
  attrs: {
    name: "type"
    mandatory: true
    value_casei: "application/json"
    dispatch_key: NAME_VALUE_PARENT_DISPATCH
  }
  attr_lists: "nonce-attr"
  cdata: {
    disallowed_cdata_regex: {
      regex: "<!--"
      error_message: "html comments"
    }
  }
  spec_url: "https://amp.dev/documentation/components/amp-geo/"
}
tags: {  # amp-video 1.0
  html_format: AMP
  tag_name: "SCRIPT"
  satisfies: "amp-video 1.0"
  excludes: "amp-video 0.1"
  extension_spec: {
    name: "amp-video"
    version_name: "v1.0"
    version: "1.0"
    bento_supported_version: "1.0"
  }
  attr_lists: "common-extension-attrs"
}

tags: {  # amp-video 0.1
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "SCRIPT"
  satisfies: "amp-video 0.1"
  excludes: "amp-video 1.0"
  extension_spec: {
    name: "amp-video"
    version: "0.1"
    version: "latest"
    version_name: "v0.1"
    requires_usage: NONE
  }
  attr_lists: "common-extension-attrs"
}

attr_lists: {
  name: "amp-video-common"
  attrs: { name: "album" }
  attrs: { name: "alt" }
  attrs: { name: "artist" }
  attrs: { name: "artwork" }
  attrs: { name: "attribution" }
  attrs: {
    name: "autoplay"
    value: ""
  }
  attrs: {
    name: "controls"
    value: ""
  }
  attrs: { name: "controlslist" }
  attrs: { name: "crossorigin" }
  attrs: {
    name: "disableremoteplayback"
    value: ""
  }
  attrs: {
    name: "dock"
    requires_extension: "amp-video-docking"
  }
  attrs: {
    name: "loop"
    value: ""
  }
  attrs: {
    name: "muted"
    value: ""
  }
  attrs: {
    name: "noaudio"
    value: ""
  }
  attrs: { name: "object-fit" }
  attrs: { name: "object-position" }
  attrs: { name: "placeholder" }
  attrs: {
    name: "preload"
    value: "auto"
    value: "metadata"
    value: "none"
    value: ""
  }
  attrs: {
    name: "rotate-to-fullscreen"
    value: ""
  }
  attrs: {
    name: "src"
    value_url: {
      protocol: "https"
      allow_relative: true  # Will be set to false at a future date.
    }
    disallowed_value_regex: "__amp_source_origin"
  }
  # <amp-bind>
  attrs: { name: "[album]" }
  attrs: { name: "[alt]" }
  attrs: { name: "[artist]" }
  attrs: { name: "[artwork]" }
  attrs: { name: "[attribution]" }
  attrs: { name: "[controls]" }
  attrs: { name: "[controlslist]" }
  attrs: { name: "[loop]" }
  attrs: { name: "[poster]" }
  attrs: { name: "[preload]" }
  attrs: { name: "[src]" }
  attrs: { name: "[title]" }
}

tags: {  # <amp-video> not in amp-story.
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "AMP-VIDEO"
  # There is an alternate spec for amp-video in amp-story.
  disallowed_ancestor: "AMP-STORY"
  requires_extension: "amp-video"
  attrs: { name: "poster" }
  attr_lists: "extended-amp-global"
  attr_lists: "amp-video-common"
  attr_lists: "lightboxable-elements"
  spec_url: "https://amp.dev/documentation/components/amp-video/"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: INTRINSIC
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}

tags: {  # <amp-video> in amp-story-page-attachment (same rules as regular AMPHTML).
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "AMP-VIDEO"
  spec_name: "amp-story >> amp-story-page-attachment >> amp-video"
  mandatory_ancestor: "AMP-STORY-PAGE-ATTACHMENT"
  requires_extension: "amp-video"
  attrs: { name: "poster" }
  attr_lists: "extended-amp-global"
  attr_lists: "amp-video-common"
  attr_lists: "lightboxable-elements"
  spec_url: "https://amp.dev/documentation/components/amp-video/"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: INTRINSIC
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}

tags: {  # <amp-video> in amp-story
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "AMP-VIDEO"
  spec_name: "amp-story >> amp-video"
  mandatory_ancestor: "AMP-STORY"
  requires_extension: "amp-video"
  attrs: {
    name: "autoplay"
    value: ""
    mandatory: true
  }
  attrs: {
    name: "controls"
    value: ""
    deprecation: "- no replacement"
    deprecation_url: "https://github.com/ampproject/amphtml/issues/23798"
  }
  attrs: {
    name: "[controls]"
    deprecation: "- no replacement"
    deprecation_url: "https://github.com/ampproject/amphtml/issues/23798"
  }
  attrs: {
    name: "poster"
    mandatory: true
  }
  attrs: {
    name: "cache"
    value: "google"
  }
  attrs: {
    name: "captions-id"
    requires_extension: "amp-story-captions"
  }
  attrs: {
    name: "volume"
    # Volume must be in the range [0, 1].
    value_regex: "^(0(\\.0*)?|(0?\\.[0-9]+)?|1(\\.0*)?)$"
  }
  attr_lists: "extended-amp-global"
  attr_lists: "amp-video-common"
  spec_url: "https://amp.dev/documentation/components/amp-video/"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-video-iframe
  html_format: AMP  # Iframes not allowed in ads.
  tag_name: "SCRIPT"
  satisfies: "amp-video-iframe 1.0"
  excludes: "amp-video-iframe 0.1"
  extension_spec: {
    name: "amp-video-iframe"
    version_name: "v1.0"
    version: "1.0"
    bento_supported_version: "1.0"
  }
  attr_lists: "common-extension-attrs"
}

tags: {  # amp-video-iframe
  html_format: AMP  # Iframes not allowed in ads.
  tag_name: "SCRIPT"
  satisfies: "amp-video-iframe 0.1"
  excludes: "amp-video-iframe 1.0"
  extension_spec: {
    name: "amp-video-iframe"
    version_name: "v0.1"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}

attr_lists: {
  name: "amp-video-iframe-common"
  attrs: { name: "album" }
  attrs: { name: "alt" }
  attrs: { name: "artist" }
  attrs: { name: "artwork" }
  attrs: { name: "attribution" }
  attrs: {
    name: "autoplay"
    value: ""
  }
  attrs: {
    name: "dock"
    requires_extension: "amp-video-docking"
  }
  attrs: {
    name: "implements-media-session"
    value: ""
  }
  attrs: {
    name: "implements-rotate-to-fullscreen"
    value: ""
  }
  attrs: { name: "poster" }
  attrs: { name: "referrerpolicy" }
  attrs: {
    name: "rotate-to-fullscreen"
    value: ""
  }
  attrs: {
    name: "src"
    mandatory: true
    value_url: {
      protocol: "https"
    }
    disallowed_value_regex: "__amp_source_origin"
  }
  # <amp-bind>
  attrs: { name: "[src]" }
}

tags: {  # <amp-video-iframe>
  html_format: AMP
  disabled_by: "transformed"
  tag_name: "AMP-VIDEO-IFRAME"
  requires_extension: "amp-video-iframe"
  attr_lists: "extended-amp-global"
  attr_lists: "amp-video-iframe-common"
  attr_lists: "lightboxable-elements"
  spec_url: "https://amp.dev/documentation/components/amp-video-iframe/"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: INTRINSIC
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}

tags: {  # <amp-video-iframe> (transformed)
  html_format: AMP
  enabled_by: "transformed"
  tag_name: "AMP-VIDEO-IFRAME"
  spec_name: "AMP-VIDEO-IFRAME (transformed)"
  requires_extension: "amp-video-iframe"
  attr_lists: "extended-amp-global"
  attr_lists: "amp-video-iframe-common"
  attr_lists: "lightboxable-elements"
  spec_url: "https://amp.dev/documentation/components/amp-video-iframe/"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: INTRINSIC
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-reddit
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-reddit"
    version: "0.1"
    version: "latest"
    deprecated_allow_duplicates: true
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-reddit>
  html_format: AMP
  tag_name: "AMP-REDDIT"
  requires_extension: "amp-reddit"
  attrs: {
    name: "data-embedlive"
    value_casei: "false"
    value_casei: "true"
  }
  attrs: {
    name: "data-embedparent"
    value_casei: "false"
    value_casei: "true"
  }
  attrs: {
    name: "data-embedtype"
    mandatory: true
    value_casei: "comment"
    value_casei: "post"
  }
  attrs: {
    name: "data-src"
    mandatory: true
  }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-ad-custom
  html_format: AMP  # AMP only as ads are not allowed inside AMP Ads
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-ad-custom"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-ad-custom>
  html_format: AMP  # AMP only as ads are not allowed inside AMP Ads
  tag_name: "AMP-AD-CUSTOM"
  requires_extension: "amp-ad-custom"
  # If modifying disallowed_ancestors, then please also edit
  # extensions/amp-auto-ads/*/placement.js
  disallowed_ancestor: "AMP-APP-BANNER"
  attrs: {
    name: "src"
    mandatory: true
    value_url: {
      protocol: "https"
      allow_relative: false
    }
    disallowed_value_regex: "__amp_source_origin"
  }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: FLUID
    supported_layouts: INTRINSIC
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-megaphone
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-megaphone"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}

attr_lists: {
  name: "amp-megaphone-common"
  attrs: {
    name: "data-light"
    value: ""
  }
  attrs: {
    name: "data-sharing"
    value: ""
  }
}

tags: {  # <amp-megaphone> for playlists
  html_format: AMP
  tag_name: "AMP-MEGAPHONE"
  requires_extension: "amp-megaphone"
  spec_name: "amp-megaphone [data-playlist]"

  attrs: {
    name: "data-playlist"
    mandatory: true
    value_regex: "[A-Za-z0-9]+"
    dispatch_key: NAME_DISPATCH
  }

  attrs: {
    name: "data-episodes"
    value_regex: "[0-9]+"
  }

  attr_lists: "amp-megaphone-common"
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
  }
}

tags: {  # <amp-megaphone> for episodes
  html_format: AMP
  tag_name: "AMP-MEGAPHONE"
  requires_extension: "amp-megaphone"
  spec_name: "amp-megaphone [data-episode]"
  attrs: {
    name: "data-episode"
    mandatory: true
    value_regex: "[A-Za-z0-9]+"
    dispatch_key: NAME_DISPATCH
  }
  attrs: {
    name: "data-start"
    value_regex: "\\d+(\\.\\d+)?"
  }
  attrs: {
    name: "data-tile"
    value: ""
  }

  attr_lists: "amp-megaphone-common"
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
  }
}
tags: {  # amp-brightcove 1.0
  html_format: AMP
  tag_name: "SCRIPT"
  satisfies: "amp-brightcove 1.0"
  excludes: "amp-brightcove 0.1"
  extension_spec: {
    name: "amp-brightcove"
    version_name: "v1.0"
    version: "1.0"
    bento_supported_version: "1.0"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # amp-brightcove 0.1 and latest
  html_format: AMP
  tag_name: "SCRIPT"
  satisfies: "amp-brightcove 0.1"
  excludes: "amp-brightcove 1.0"
  extension_spec: {
    name: "amp-brightcove"
    version_name: "v0.1"
    version: "0.1"
    version: "latest"
    requires_usage: EXEMPTED
    deprecated_allow_duplicates: true
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-brightcove>
  html_format: AMP
  tag_name: "AMP-BRIGHTCOVE"
  requires_extension: "amp-brightcove"
  attrs: {
    name: "autoplay"
    value: ""
  }
  attrs: {
    name: "data-account"
    mandatory: true
  }
  attrs: {
    name: "dock"
    requires_extension: "amp-video-docking"
  }
  # <amp-bind>
  attrs: { name: "[data-account]" }
  attrs: { name: "[data-embed]" }
  attrs: { name: "[data-player-id]" }
  attrs: { name: "[data-player]" }
  attrs: { name: "[data-playlist-id]" }
  attrs: { name: "[data-video-id]" }
  attrs: { name: "[data-referrer]" }
  attr_lists: "extended-amp-global"
  spec_url: "https://amp.dev/documentation/components/amp-brightcove/"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-fit-text 1.0
  html_format: AMP
  tag_name: "SCRIPT"
  satisfies: "amp-fit-text 1.0"
  excludes: "amp-fit-text 0.1"
  extension_spec: {
    name: "amp-fit-text"
    version_name: "v1.0"
    version: "1.0"
    bento_supported_version: "1.0"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # amp-fit-text 0.1 and latest
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "SCRIPT"
  satisfies: "amp-fit-text 0.1"
  excludes: "amp-fit-text 1.0"
  extension_spec: {
    name: "amp-fit-text"
    version_name: "v0.1"
    version: "0.1"
    version: "latest"
    requires_usage: EXEMPTED
    deprecated_allow_duplicates: true
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # amp-fit-text (AMP4EMAIL)
  html_format: AMP4EMAIL
  tag_name: "SCRIPT"
  spec_name: "SCRIPT[custom-element=amp-fit-text] (AMP4EMAIL)"
  extension_spec: {
    name: "amp-fit-text"
    # AMP4EMAIL doesn't allow version: "latest".
    version_name: "v0.1"
    version: "0.1"
    requires_usage: EXEMPTED
    deprecated_allow_duplicates: true
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-fit-text>
  html_format: AMP
  html_format: AMP4ADS
  html_format: AMP4EMAIL
  tag_name: "AMP-FIT-TEXT"
  requires_extension: "amp-fit-text"
  attrs: { name: "max-font-size" }
  attrs: { name: "min-font-size" }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: INTRINSIC
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-animation
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-animation"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-animation> (json)
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "SCRIPT"
  spec_name: "amp-animation extension .json script"
  mandatory_parent: "AMP-ANIMATION"
  requires_extension: "amp-animation"
  satisfies: "amp-animation extension .json script"
  attrs: {
    name: "type"
    mandatory: true
    value_casei: "application/json"
    dispatch_key: NAME_VALUE_PARENT_DISPATCH
  }
  attr_lists: "nonce-attr"
  cdata: {
    disallowed_cdata_regex: {
      regex: "<!--"
      error_message: "html comments"
    }
  }
}
tags: {  # <amp-animation>
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "AMP-ANIMATION"
  requires_extension: "amp-animation"
  requires: "amp-animation extension .json script"
  attrs: {
    name: "trigger"
    value: "visibility"
  }
  child_tags: {
    mandatory_num_child_tags: 1
    child_tag_name_oneof: "SCRIPT"
  }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: NODISPLAY
  }
}
tags: {  # amp-live-list
  html_format: AMP
  tag_name: "SCRIPT"
  mandatory_parent: "HEAD"
  unique_warning: true
  extension_spec: {
    name: "amp-live-list"
    version: "0.1"
    version: "latest"
    requires_usage: EXEMPTED
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-live-list>
  html_format: AMP
  tag_name: "AMP-LIVE-LIST"
  requires_extension: "amp-live-list"
  attrs: {
    name: "data-max-items-per-page"
    mandatory: true
    value_regex: "\\d+"
  }
  attrs: {
    name: "data-poll-interval"
    value_regex: "\\d{5,}"
  }
  attrs: {
    name: "disabled"
    value: ""
  }
  attrs: {
    name: "sort"
    value: "ascending"
  }
  attr_lists: "mandatory-id-attr"
  reference_points: {
    tag_spec_name: "AMP-LIVE-LIST [update]"
    mandatory: true
    unique: true
  }
  reference_points: {
    tag_spec_name: "AMP-LIVE-LIST [items]"
    mandatory: true
    unique: true
  }
  reference_points: {
    tag_spec_name: "AMP-LIVE-LIST [pagination]"
    unique: true
  }
  amp_layout: {
    supported_layouts: CONTAINER
    supported_layouts: FIXED_HEIGHT
  }
}
tags: {
  html_format: AMP
  tag_name: "$REFERENCE_POINT"
  spec_name : "AMP-LIVE-LIST [update]"
  descriptive_name : "amp-live-list [update] child"
  attrs: {
    name: "update"
    mandatory: true
  }
  spec_url: "https://amp.dev/documentation/components/amp-live-list/#update"
}
tags: {
  html_format: AMP
  tag_name: "$REFERENCE_POINT"
  spec_name: "AMP-LIVE-LIST [items]"
  descriptive_name : "amp-live-list [items] child"
  attrs: {
    name: "items"
    mandatory: true
  }
  reference_points: {
    tag_spec_name: "AMP-LIVE-LIST [items] item"
  }
  spec_url: "https://amp.dev/documentation/components/amp-live-list/#items"
}
tags: {
  html_format: AMP
  tag_name: "$REFERENCE_POINT"
  spec_name : "AMP-LIVE-LIST [pagination]"
  descriptive_name : "amp-live-list [pagination] child"
  attrs: {
    name: "pagination"
    mandatory: true
  }
  spec_url: "https://amp.dev/documentation/components/amp-live-list/#pagination"
}
tags: {
  html_format: AMP
  tag_name: "$REFERENCE_POINT"
  spec_name : "AMP-LIVE-LIST [items] item"
  descriptive_name : "amp-live-list [data-sort-time] child"
  attrs: {
    name: "data-sort-time"
    mandatory: true
  }
  attrs: { name: "data-tombstone" }
  attrs: { name: "data-update-time" }
  attr_lists: "mandatory-id-attr"
  spec_url: "https://amp.dev/documentation/components/amp-live-list/#items"
}
tags: {  # amp-lightbox-gallery
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-lightbox-gallery"
    version: "0.1"
    version: "1.0"
    version: "latest"
    bento_supported_version: "1.0"
    requires_usage: NONE
  }
  attr_lists: "common-extension-attrs"
}
attr_lists: {
  name: "lightboxable-elements"
  attrs: { name: "lightbox" }
  attrs: {
    name: "lightbox-thumbnail-id"
    value_regex_casei: "^[a-z][a-z\\d_-]*"
  }
}
tags: {  # amp-social-share 1.0
  html_format: AMP
  tag_name: "SCRIPT"
  satisfies: "amp-social-share 1.0"
  excludes: "amp-social-share 0.1"
  extension_spec: {
    name: "amp-social-share"
    version_name: "v1.0"
    version: "1.0"
    bento_supported_version: "1.0"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # amp-social-share 0.1 and latest
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "SCRIPT"
  satisfies: "amp-social-share 0.1"
  excludes: "amp-social-share 1.0"
  extension_spec: {
    name: "amp-social-share"
    version_name: "v0.1"
    version: "0.1"
    version: "latest"
    requires_usage: EXEMPTED
    deprecated_allow_duplicates: true
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-social-share>
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "AMP-SOCIAL-SHARE"
  requires_extension: "amp-social-share"
  attrs: {
    name: "data-share-endpoint"
    value_url: {
      protocol: "ftp"
      protocol: "http"
      protocol: "https"
      protocol: "mailto"
      # Allowlisting additional commonly observed third party
      # protocols which should be safe
      # Blackberry messenger
      # (http://devblog.blackberry.com/2015/02/cross-platform-sharing-with-bbm/)
      protocol: "bbmi"
      protocol: "fb-me"
      protocol: "fb-messenger"
      protocol: "intent"
      # Line messenger (https://media.line.me/howto/en/)
      protocol: "line"
      protocol: "skype"
      protocol: "sms"
      protocol: "snapchat"
      protocol: "tel"
      protocol: "tg"
      protocol: "threema"
      protocol: "viber"
      protocol: "wh"
      protocol: "whatsapp"
      allow_relative: false
    }
    disallowed_value_regex: "__amp_source_origin"
  }
  attrs: {
    name: "type"
    mandatory: true
  }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: CONTAINER
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-truncate-text
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-truncate-text"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-truncate-text>
  html_format: AMP
  tag_name: "AMP-TRUNCATE-TEXT"
  requires_extension: "amp-truncate-text"
  attr_lists: "extended-amp-global"
  attrs: {
    name: "overflow-style"
    value: "right"
    value: "default"
  }
  spec_url: "https://amp.dev/documentation/components/amp-truncate-text/"
  amp_layout: {
    supported_layouts: CONTAINER
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: INTRINSIC
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-ad-exit
  html_format: AMP4ADS
  tag_name: "SCRIPT"
  extension_spec {
    name: "amp-ad-exit"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-ad-exit>
  html_format: AMP4ADS
  tag_name: "AMP-AD-EXIT"
  requires_extension: "amp-ad-exit"
  requires: "amp-ad-exit configuration JSON"
  attr_lists: "extended-amp-global"
  attr_lists: "mandatory-id-attr"
  child_tags: {
    mandatory_num_child_tags: 1
    child_tag_name_oneof: "SCRIPT"
  }
  spec_url: "https://amp.dev/documentation/components/amp-ad-exit/"
  amp_layout {
    supported_layouts: NODISPLAY
    supported_layouts: CONTAINER  # To allow an unspecified layout (container is default).
  }
}
tags: {  # amp-ad-exit config JSON
  html_format: AMP4ADS
  tag_name: "SCRIPT"
  spec_name: "amp-ad-exit configuration JSON"
  satisfies: "amp-ad-exit configuration JSON"
  requires_extension: "amp-ad-exit"
  mandatory_parent: "AMP-AD-EXIT"
  attrs: {
    name: "type"
    mandatory: true
    value: "application/json"
    dispatch_key: NAME_VALUE_PARENT_DISPATCH
  }
  attr_lists: "nonce-attr"
  spec_url: "https://amp.dev/documentation/components/amp-ad-exit/"
}
tags: {  # amp-kaltura-player
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-kaltura-player"
    version: "0.1"
    version: "latest"
    requires_usage: EXEMPTED
    deprecated_allow_duplicates: true
  }
  attr_lists: "common-extension-attrs"
}
# amp-kaltura-player either comes with a video-id attribute, or with
# a data-videoid attribute.
tags: {  # <amp-kaltura-player>
  html_format: AMP
  tag_name: "AMP-KALTURA-PLAYER"
  requires_extension: "amp-kaltura-player"
  attrs: {
    name: "data-partner"
    mandatory: true
  }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-nexxtv-player
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-nexxtv-player"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-nexxtv-player>
  html_format: AMP
  tag_name: "AMP-NEXXTV-PLAYER"
  requires_extension: "amp-nexxtv-player"
  attrs: {
    name: "data-client"
    mandatory: true
  }
  attrs: {
    name: "data-mediaid"
    mandatory: true
    value_regex: "[^=/?:]+"
  }
  attrs: {
    name: "data-mode"
    value: "api"
    value: "static"
  }
  attrs: {
    name: "data-streamtype"
    value: "album"
    value: "audio"
    value: "audioalbum"
    value: "collection"
    value: "live"
    value: "playlist"
    value: "playlist-marked"
    value: "radio"
    value: "set"
    value: "video"
  }
  attrs: {
    name: "data-exit-mode"
    value: "load"
    value: "loop"
    value: "replay"
  }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # embedly-card
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-embedly-card"
    version: "0.1"
    version: "1.0"
    version: "latest"
    bento_supported_version: "1.0"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-embedly-card>
  html_format: AMP
  tag_name: "AMP-EMBEDLY-CARD"
  requires_extension: "amp-embedly-card"
  attrs: {
    name: "data-url"
    mandatory: true
    value_url: {
      protocol: "https"
      allow_relative: false
    }
  }
  attr_lists: "extended-amp-global"
  spec_url: "https://amp.dev/documentation/components/amp-embedly-card/"
  amp_layout: {
    supported_layouts: RESPONSIVE
  }
}

tags: {  # <amp-embedly-key>
  html_format: AMP
  tag_name: "AMP-EMBEDLY-KEY"
  requires_extension: "amp-embedly-card"
  unique: true
  attrs: {
    name: "value"
    mandatory: true
  }
  amp_layout: {
    supported_layouts: NODISPLAY
  }
}
tags: {  # amp-story
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-story"
    version: "1.0"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-story>
  html_format: AMP
  tag_name: "AMP-STORY"
  requires_extension: "amp-story"
  mandatory_parent: "BODY"
  # Mandate that at least one of the children is an amp-story-page.
  # TODO(gregable): This global requires/satisfies approach only works because
  # there is only one <amp-story standalone> in a document. We really want this
  # requirement to be expressed on the <amp-story> children, however.
  requires: "amp-story-page"
  attrs: {
    name: "background-audio"
    value_url: {
      protocol: "http"
      protocol: "https"
    }
  }
  attrs: {
    name: "entity"
  }
  attrs: {
    name: "entity-logo-src"
    value_url: {
      protocol: "http"
      protocol: "https"
    }
  }
  attrs: {
    name: "entity-url"
    value_url: {
      protocol: "http"
      protocol: "https"
    }
  }
  attrs: {
    name: "poster-landscape-src"
    value_url: {
      protocol: "http"
      protocol: "https"
    }
  }
  attrs: {
    name: "poster-portrait-src"
    mandatory: true
    value_url: {
      protocol: "http"
      protocol: "https"
    }
  }
  attrs: {
    name: "poster-square-src"
    value_url: {
      protocol: "http"
      protocol: "https"
    }
  }
  attrs: {
    name: "publisher"
    mandatory: true
  }
  attrs: {
    name: "publisher-logo-src"
    mandatory: true
    value_url: {
      protocol: "http"
      protocol: "https"
    }
  }
  attrs: {
    name: "standalone"
    mandatory: true
    value: ""
  }
  attrs: {
    name: "supports-landscape"
    value: ""
  }
  attrs: {
    name: "title"
    mandatory: true
  }
  attrs: {
    name: "live-story"
    value: ""
  }
  attrs: {
    name: "live-story-disabled"
    value: ""
  }
  siblings_disallowed: true
  child_tags: {
    mandatory_min_num_child_tags: 1
    child_tag_name_oneof: "AMP-ANALYTICS"
    child_tag_name_oneof: "AMP-CONSENT"
    child_tag_name_oneof: "AMP-GEO"
    child_tag_name_oneof: "AMP-PIXEL"
    child_tag_name_oneof: "AMP-SIDEBAR"
    child_tag_name_oneof: "AMP-STORY-AUTO-ADS"
    child_tag_name_oneof: "AMP-STORY-AUTO-ANALYTICS"
    child_tag_name_oneof: "AMP-STORY-BOOKEND"
    child_tag_name_oneof: "AMP-STORY-PAGE"
    child_tag_name_oneof: "AMP-STORY-SOCIAL-SHARE"
  }
}
tags: {  # <amp-story-page>
  html_format: AMP
  tag_name: "AMP-STORY-PAGE"
  requires_extension: "amp-story"
  mandatory_parent: "AMP-STORY"
  satisfies: "amp-story-page"
  attrs: { name: "auto-advance-after" }
  attrs: {
    name: "background-audio"
    value_url: {
      protocol: "http"
      protocol: "https"
    }
  }
  attrs: { name: "next-page-no-ad" }
  attr_lists: "mandatory-id-attr"
  child_tags: {
    child_tag_name_oneof: "AMP-ANALYTICS"
    child_tag_name_oneof: "AMP-PIXEL"
    child_tag_name_oneof: "AMP-STORY-ANIMATION"
    child_tag_name_oneof: "AMP-STORY-AUTO-ANALYTICS"
    child_tag_name_oneof: "AMP-STORY-CTA-LAYER"
    child_tag_name_oneof: "AMP-STORY-GRID-LAYER"
    child_tag_name_oneof: "AMP-STORY-PAGE-ATTACHMENT"
    child_tag_name_oneof: "AMP-STORY-PAGE-OUTLINK"
    child_tag_name_oneof: "AMP-STORY-SHOPPING-ATTACHMENT"
    mandatory_min_num_child_tags: 1
  }
}
tags: {  # <amp-story-grid-layer>
  html_format: AMP
  tag_name: "AMP-STORY-GRID-LAYER"
  mandatory_ancestor: "AMP-STORY-PAGE"
  attrs: {
    name: "anchor"
    value_regex: "top|bottom|left|right|(top|bottom)[ -](left|right)|(left|right)[ -](top|bottom)"
  }
  attrs: {
    name: "aspect-ratio"
    value_regex: "\\d+:\\d+"
  }
  attrs: {
    name: "position"
    value: "landscape-half-left"
    value: "landscape-half-right"
  }
  attrs: {
    name: "preset"
    value: "2021-background"
    value: "2021-foreground"
  }
  attrs: {
    name: "template"
    mandatory: true
    value: "fill"
    value: "horizontal"
    value: "thirds"
    value: "vertical"
  }
  descendant_tag_list: "amp-story-grid-layer-allowed-descendants"
  reference_points: {
    tag_spec_name: "AMP-STORY-GRID-LAYER default"
  }
  reference_points: {
    tag_spec_name: "AMP-STORY-GRID-LAYER animate-in"
  }
}
tags: {
  html_format: AMP
  tag_name: "$REFERENCE_POINT"
  spec_name: "AMP-STORY-GRID-LAYER default"
  descriptive_name: "amp-story-grid-layer child"
  attrs: {
    name: "align-content"
    value: "center"
    value: "end"
    value: "space-around"
    value: "space-between"
    value: "space-evenly"
    value: "start"
    value: "stretch"
  }
  attrs: {
    name: "target"
    value: "_blank"
  }
  attrs: {
    name: "data-tooltip-icon"
    value_url: {
      protocol: "http"
      protocol: "https"
      protocol: "data"
    }
  }
  attrs: {
    name: "align-items"
    value: "center"
    value: "end"
    value: "start"
    value: "stretch"
  }
  attrs: {
    name: "align-self"
    value: "center"
    value: "end"
    value: "start"
    value: "stretch"
  }
  attrs: {
    name: "animate-in"
    value: "drop"
    value: "fade-in"
    value: "fly-in-bottom"
    value: "fly-in-left"
    value: "fly-in-right"
    value: "fly-in-top"
    value: "pan-down"
    value: "pan-left"
    value: "pan-right"
    value: "pan-up"
    value: "pulse"
    value: "rotate-in-left"
    value: "rotate-in-right"
    value: "scale-fade-down"
    value: "scale-fade-up"
    value: "twirl-in"
    value: "whoosh-in-left"
    value: "whoosh-in-right"
    value: "zoom-in"
    value: "zoom-out"
  }
  attrs: { name: "animate-in-after" }
  attrs: { name: "animate-in-delay" }
  attrs: { name: "animate-in-duration" }
  attrs: { name: "animate-in-timing-function" }
  attrs: { name: "grid-area" }
  attrs: {
    name: "interactive"
    value: ""
  }
  attrs: {
    name: "scale-end"
    value_regex: "[0-9]+([.][0-9]+)?"
  }
  attrs: {
    name: "scale-start"
    value_regex: "[0-9]+([.][0-9]+)?"
  }
  attrs: {
    name: "translate-x"
    value_regex_casei: "[0-9]+px"
  }
  attrs: {
    name: "translate-y"
    value_regex_casei: "[0-9]+px"
  }
  attrs: {
    name: "pan-scaling-factor"
    # Allow float number such as "12.3", ".1", or "5."
    # Note that string with only decimal point such as "." is not allowed.
    value_regex_casei: "^([0-9]*[.]?[0-9]+)|([0-9]+[.]?[0-9]*)$"
  }
  attrs: {
    name: "justify-content"
    value: "center"
    value: "end"
    value: "space-around"
    value: "space-between"
    value: "space-evenly"
    value: "start"
    value: "stretch"
  }
  attrs: {
    name: "justify-items"
    value: "center"
    value: "end"
    value: "start"
    value: "stretch"
  }
  attrs: {
    name: "justify-self"
    value: "center"
    value: "end"
    value: "start"
    value: "stretch"
  }
  reference_points: {
    tag_spec_name: "AMP-STORY-GRID-LAYER animate-in"
  }
  spec_url: "https://amp.dev/documentation/components/amp-story/"
}
tags: {
  html_format: AMP
  tag_name: "$REFERENCE_POINT"
  spec_name: "AMP-STORY-GRID-LAYER animate-in"
  descriptive_name: "amp-story-grid-layer [animate-in] child"
  # Attribute grid-area is not allowed in this tag. That's what makes this
  # reference point different than the grid-area reference point.
  attrs: {
    name: "animate-in"
    value: "drop"
    value: "fade-in"
    value: "fly-in-bottom"
    value: "fly-in-left"
    value: "fly-in-right"
    value: "fly-in-top"
    value: "pan-down"
    value: "pan-left"
    value: "pan-right"
    value: "pan-up"
    value: "pulse"
    value: "rotate-in-left"
    value: "rotate-in-right"
    value: "scale-fade-down"
    value: "scale-fade-up"
    value: "twirl-in"
    value: "whoosh-in-left"
    value: "whoosh-in-right"
    value: "zoom-in"
    value: "zoom-out"
  }
  attrs: {
    name: "target"
    value: "_blank"
  }
  attrs: {
    name: "data-tooltip-icon"
    value_url: {
      protocol: "http"
      protocol: "https"
      protocol: "data"
    }
  }
  attrs: { name: "animate-in-after" }
  attrs: { name: "animate-in-delay" }
  attrs: { name: "animate-in-duration" }
  attrs: { name: "animate-in-timing-function" }
  attrs: {
    name: "interactive"
    value: ""
  }
  attrs: {
    name: "scale-end"
    value_regex: "[0-9]+([.][0-9]+)?"
  }
  attrs: {
    name: "scale-start"
    value_regex: "[0-9]+([.][0-9]+)?"
  }
  attrs: {
    name: "translate-x"
    value_regex_casei: "[0-9]+px"
  }
  attrs: {
    name: "translate-y"
    value_regex_casei: "[0-9]+px"
  }
  attrs: {
    name: "pan-scaling-factor"
    # Allow float number such as "12.3", ".1", or "5."
    # Note that string with only decimal point such as "." is not allowed.
    value_regex_casei: "^([0-9]*[.]?[0-9]+)|([0-9]+[.]?[0-9]*)$"
  }
  reference_points: {
    tag_spec_name: "AMP-STORY-GRID-LAYER animate-in"
  }
  spec_url: "https://amp.dev/documentation/components/amp-story/"
}
tags: {  # <amp-story-bookend>
  html_format: AMP
  tag_name: "AMP-STORY-BOOKEND"
  mandatory_ancestor: "AMP-STORY"
  mandatory_last_child: true
  descendant_tag_list: "amp-story-bookend-allowed-descendants"
  attrs: {
    name: "layout"
    mandatory: true
    value: "nodisplay"
  }
  attrs: {
    name: "src"
    value_url: {
      protocol: "http"
      protocol: "https"
    }
  }
}
descendant_tag_list: {
  name: "amp-story-bookend-allowed-descendants"
  tag: "SCRIPT"
}
tags: {  # amp-story-bookend (json)
  html_format: AMP
  tag_name: "SCRIPT"
  spec_name: "amp-story-bookend extension .json script"
  requires_extension: "amp-story"
  mandatory_parent: "AMP-STORY-BOOKEND"
  unique: true
  mandatory_last_child: true
  siblings_disallowed: true
  attrs: {
    name: "type"
    mandatory: true
    value_casei: "application/json"
    dispatch_key: NAME_VALUE_PARENT_DISPATCH
  }
  attr_lists: "nonce-attr"
}
tags: {  # <amp-story-social-share>
  html_format: AMP
  tag_name: "AMP-STORY-SOCIAL-SHARE"
  mandatory_ancestor: "AMP-STORY"
  mandatory_last_child: true
  descendant_tag_list: "amp-story-social-share-allowed-descendants"
  attrs: {
    name: "layout"
    mandatory: true
    value: "nodisplay"
  }
  attrs: {
    name: "src"
    value_url: {
      protocol: "http"
      protocol: "https"
    }
  }
}
descendant_tag_list: {
  name: "amp-story-social-share-allowed-descendants"
  tag: "SCRIPT"
}
tags: {  # amp-story-social-share (json)
  html_format: AMP
  tag_name: "SCRIPT"
  spec_name: "amp-story-social-share extension .json script"
  requires_extension: "amp-story"
  mandatory_parent: "AMP-STORY-SOCIAL-SHARE"
  unique: true
  mandatory_last_child: true
  siblings_disallowed: true
  attrs: {
    name: "type"
    mandatory: true
    value_casei: "application/json"
    dispatch_key: NAME_VALUE_PARENT_DISPATCH
  }
  attr_lists: "nonce-attr"
}
tags: {  # amp-story-consent (json)
  html_format: AMP
  tag_name: "SCRIPT"
  spec_name: "amp-story-consent extension .json script"
  requires_extension: "amp-consent"
  requires_extension: "amp-story"
  mandatory_parent: "AMP-STORY-CONSENT"
  unique: true
  satisfies: "amp-story-consent extension .json script"
  attrs: {
    name: "type"
    mandatory: true
    value_casei: "application/json"
    dispatch_key: NAME_VALUE_PARENT_DISPATCH
  }
  attr_lists: "nonce-attr"
  cdata: {
    disallowed_cdata_regex: {
      regex: "<!--"
      error_message: "html comments"
    }
  }
}
tags: {  # <amp-story-consent>
  html_format: AMP
  tag_name: "AMP-STORY-CONSENT"
  requires_extension: "amp-consent"
  requires_extension: "amp-story"
  mandatory_parent: "AMP-CONSENT"
  requires: "amp-story-consent extension .json script"
  attr_lists: "mandatory-id-attr"
  child_tags: {
    mandatory_num_child_tags: 1
    child_tag_name_oneof: "SCRIPT"
  }
  amp_layout: {
    supported_layouts: NODISPLAY
  }
}
tags: {  # <amp-story-cta-layer>
  html_format: AMP
  tag_name: "AMP-STORY-CTA-LAYER"
  mandatory_ancestor: "AMP-STORY-PAGE"
  descendant_tag_list: "amp-story-cta-layer-allowed-descendants"
  mandatory_last_child: true
  reference_points: {
    tag_spec_name: "AMP-STORY-CTA-LAYER animate-in"
  }
}
tags: {  # amp-experiment (json)
  html_format: AMP
  tag_name: "SCRIPT"
  spec_name: "amp-experiment story extension .json script"
  mandatory_parent: "AMP-EXPERIMENT"
  attrs: {
    name: "type"
    mandatory: true
    value_casei: "application/json"
    dispatch_key: NAME_VALUE_PARENT_DISPATCH
  }
  attr_lists: "nonce-attr"
  cdata: {
    max_bytes: 15000
    max_bytes_spec_url: "https://amp.dev/documentation/components/amp-experiment/#configuration"
    disallowed_cdata_regex: {
      regex: "<!--"
      error_message: "html comments"
    }
  }
  spec_url: "https://amp.dev/documentation/components/amp-experiment/"
}
tags: {
  html_format: AMP
  tag_name: "$REFERENCE_POINT"
  spec_name: "AMP-STORY-CTA-LAYER animate-in"
  descriptive_name: "amp-story-cta-layer [animate-in] child"
  attrs: {
    name: "animate-in"
    value: "drop"
    value: "fade-in"
    value: "fly-in-bottom"
    value: "fly-in-left"
    value: "fly-in-right"
    value: "fly-in-top"
    value: "pan-down"
    value: "pan-left"
    value: "pan-right"
    value: "pan-up"
    value: "pulse"
    value: "rotate-in-left"
    value: "rotate-in-right"
    value: "scale-fade-down"
    value: "scale-fade-up"
    value: "twirl-in"
    value: "whoosh-in-left"
    value: "whoosh-in-right"
    value: "zoom-in"
    value: "zoom-out"
  }
  attrs: { name: "animate-in-after" }
  attrs: { name: "animate-in-delay" }
  attrs: { name: "animate-in-duration" }
  attrs: { name: "animate-in-timing-function" }
  attrs: {
    name: "scale-end"
    value_regex: "[0-9]+([.][0-9]+)?"
  }
  attrs: {
    name: "scale-start"
    value_regex: "[0-9]+([.][0-9]+)?"
  }
  attrs: {
    name: "translate-x"
    value_regex_casei: "[0-9]+px"
  }
  attrs: {
    name: "translate-y"
    value_regex_casei: "[0-9]+px"
  }
  attrs: {
    name: "pan-scaling-factor"
    # Allow float number such as "12.3", ".1", or "5."
    # Note that string with only decimal point such as "." is not allowed.
    value_regex_casei: "^([0-9]*[.]?[0-9]+)|([0-9]+[.]?[0-9]*)$"
  }
  reference_points: {
    tag_spec_name: "AMP-STORY-CTA-LAYER animate-in"
  }
  spec_url: "https://amp.dev/documentation/components/amp-story/"
}
descendant_tag_list: {
  name: "amp-story-cta-layer-allowed-descendants"
  tag: "A"
  tag: "ABBR"
  tag: "ADDRESS"
  tag: "AMP-CALL-TRACKING"
  tag: "AMP-DATE-COUNTDOWN"
  tag: "AMP-DATE-DISPLAY"
  tag: "AMP-FIT-TEXT"
  tag: "AMP-FONT"
  tag: "AMP-IMG"
  tag: "AMP-TIMEAGO"
  tag: "B"
  tag: "BDI"
  tag: "BDO"
  tag: "BLOCKQUOTE"
  tag: "BR"
  tag: "BUTTON"
  tag: "CAPTION"
  tag: "CITE"
  tag: "CIRCLE"
  tag: "CLIPPATH"
  tag: "CODE"
  tag: "DATA"
  tag: "DEFS"
  tag: "DEL"
  tag: "DESC"
  tag: "DFN"
  tag: "DIV"
  tag: "ELLIPSE"
  tag: "EM"
  tag: "FECOLORMATRIX"
  tag: "FECOMPOSITE"
  tag: "FEBLEND"
  tag: "FEFLOOD"
  tag: "FEGAUSSIANBLUR"
  tag: "FEMERGE"
  tag: "FEMERGENODE"
  tag: "FEOFFSET"
  tag: "FIGCAPTION"
  tag: "FIGURE"
  tag: "FILTER"
  tag: "FOOTER"
  tag: "G"
  tag: "GLYPH"
  tag: "GLYPHREF"
  tag: "H1"
  tag: "H2"
  tag: "H3"
  tag: "H4"
  tag: "H5"
  tag: "H6"
  tag: "HEADER"
  tag: "HGROUP"
  tag: "HKERN"
  tag: "HR"
  tag: "I"
  tag: "IMG"  # Only allowed when document is transformed AMP
  tag: "I-AMPHTML-SIZER"  # Only allowed when document is transformed AMP
  tag: "IMAGE"
  tag: "INS"
  tag: "KBD"
  tag: "LI"
  tag: "LINE"
  tag: "LINEARGRADIENT"
  tag: "MAIN"
  tag: "MARKER"
  tag: "MARK"
  tag: "MASK"
  tag: "METADATA"
  tag: "NAV"
  tag: "NOSCRIPT"
  tag: "OL"
  tag: "P"
  tag: "PATH"
  tag: "PATTERN"
  tag: "PRE"
  tag: "POLYGON"
  tag: "POLYLINE"
  tag: "RADIALGRADIENT"
  tag: "Q"
  tag: "RECT"
  tag: "RP"
  tag: "RT"
  tag: "RTC"
  tag: "RUBY"
  tag: "S"
  tag: "SAMP"
  tag: "SECTION"
  tag: "SMALL"
  tag: "SOLIDCOLOR"
  tag: "SPAN"
  tag: "STOP"
  tag: "STRONG"
  tag: "SUB"
  tag: "SUP"
  tag: "SVG"
  tag: "SWITCH"
  tag: "SYMBOL"
  tag: "TEXT"
  tag: "TEXTPATH"
  tag: "TREF"
  tag: "TSPAN"
  tag: "TITLE"
  tag: "TIME"
  tag: "TR"
  tag: "U"
  tag: "UL"
  tag: "USE"
  tag: "VAR"
  tag: "VIEW"
  tag: "VKERN"
  tag: "WBR"
}
descendant_tag_list: {
  name: "amp-story-grid-layer-allowed-descendants"
  tag: "A" # `show-tooltip` attribute is allowlisted in validator-main.protoascii.
  tag: "ABBR"
  tag: "ADDRESS"
  tag: "AMP-ANALYTICS"
  tag: "AMP-AUDIO"
  tag: "AMP-DATE-COUNTDOWN"
  tag: "AMP-DATE-DISPLAY"
  tag: "AMP-EXPERIMENT"
  tag: "AMP-FIT-TEXT"
  tag: "AMP-FONT"
  tag: "AMP-GIST"
  tag: "AMP-IMG"
  tag: "AMP-INSTALL-SERVICEWORKER"
  tag: "AMP-LIST"
  tag: "AMP-LIVE-LIST"
  tag: "AMP-PIXEL"
  tag: "AMP-RENDER"
  tag: "AMP-STATE"
  tag: "AMP-STORY-360"
  tag: "AMP-STORY-AUTO-ANALYTICS"
  tag: "AMP-STORY-CAPTIONS"
  tag: "AMP-STORY-INTERACTIVE-BINARY-POLL"
  tag: "AMP-STORY-INTERACTIVE-IMG-POLL"
  tag: "AMP-STORY-INTERACTIVE-IMG-QUIZ"
  tag: "AMP-STORY-INTERACTIVE-POLL"
  tag: "AMP-STORY-INTERACTIVE-QUIZ"
  tag: "AMP-STORY-INTERACTIVE-RESULTS"
  tag: "AMP-STORY-PANNING-MEDIA"
  tag: "AMP-STORY-SHOPPING-TAG"
  tag: "AMP-TIMEAGO"
  tag: "AMP-TWITTER"
  tag: "AMP-VIDEO"
  tag: "ARTICLE"
  tag: "ASIDE"
  tag: "B"
  tag: "BDI"
  tag: "BDO"
  tag: "BLOCKQUOTE"
  tag: "BR"
  tag: "CAPTION"
  tag: "CIRCLE"
  tag: "CITE"
  tag: "CLIPPATH"
  tag: "CODE"
  tag: "COL"
  tag: "COLGROUP"
  tag: "DATA"
  tag: "DD"
  tag: "DEFS"
  tag: "DEL"
  tag: "DESC"
  tag: "DFN"
  tag: "DIV"
  tag: "DL"
  tag: "DT"
  tag: "ELLIPSE"
  tag: "EM"
  tag: "FECOLORMATRIX"
  tag: "FECOMPOSITE"
  tag: "FEBLEND"
  tag: "FEFLOOD"
  tag: "FEGAUSSIANBLUR"
  tag: "FEMERGE"
  tag: "FEMERGENODE"
  tag: "FEOFFSET"
  tag: "FIGCAPTION"
  tag: "FIGURE"
  tag: "FILTER"
  tag: "FOOTER"
  tag: "G"
  tag: "GLYPH"
  tag: "GLYPHREF"
  tag: "H1"
  tag: "H2"
  tag: "H3"
  tag: "H4"
  tag: "H5"
  tag: "H6"
  tag: "HEADER"
  tag: "HGROUP"
  tag: "HKERN"
  tag: "HR"
  tag: "I"
  tag: "IMAGE"
  tag: "IMG"  # Only allowed when document is transformed AMP
  tag: "I-AMPHTML-SIZER"  # Only allowed when document is transformed AMP
  tag: "INS"
  tag: "KBD"
  tag: "LI"
  tag: "LINE"
  tag: "LINEARGRADIENT"
  tag: "MAIN"
  tag: "MARK"
  tag: "MARKER"
  tag: "MASK"
  tag: "METADATA"
  tag: "NAV"
  tag: "NOSCRIPT"
  tag: "OL"
  tag: "P"
  tag: "PATH"
  tag: "PATTERN"
  tag: "POLYGON"
  tag: "POLYLINE"
  tag: "PRE"
  tag: "Q"
  tag: "RADIALGRADIENT"
  tag: "RECT"
  tag: "RP"
  tag: "RT"
  tag: "RTC"
  tag: "RUBY"
  tag: "S"
  tag: "SAMP"
  tag: "SCRIPT"
  tag: "SECTION"
  tag: "SMALL"
  tag: "SOLIDCOLOR"
  tag: "SOURCE"
  tag: "SPAN"
  tag: "STOP"
  tag: "STRONG"
  tag: "SUB"
  tag: "SUP"
  tag: "SVG"
  tag: "SWITCH"
  tag: "SYMBOL"
  tag: "TABLE"
  tag: "TBODY"
  tag: "TD"
  tag: "TEMPLATE"
  tag: "TEXT"
  tag: "TEXTPATH"
  tag: "TFOOT"
  tag: "TH"
  tag: "THEAD"
  tag: "TIME"
  tag: "TITLE"
  tag: "TR"
  tag: "TRACK"
  tag: "TREF"
  tag: "TSPAN"
  tag: "U"
  tag: "UL"
  tag: "USE"
  tag: "VAR"
  tag: "VIEW"
  tag: "VKERN"
  tag: "WBR"
}
# <amp-story-page-attachment> with href.
# Legacy version of <amp-story-page-outlink>.
tags: {
  html_format: AMP
  tag_name: "AMP-STORY-PAGE-ATTACHMENT"
  spec_name: "amp-story-page-attachment[href]"
  mandatory_ancestor: "AMP-STORY-PAGE"
  mandatory_last_child: true
  attrs: {
    name: "cta-text"
  }
  attrs: {
    name: "href"
    mandatory: true
    value_url: {
      protocol: "http"
      protocol: "https"
    }
  }
  attrs: {
    name: "layout"
    mandatory: true
    value: "nodisplay"
  }
  attrs: {
    name: "theme"
    value: "dark"
    value: "light"
  }
  attrs: {
    name: "title"
  }
  child_tags: {
    mandatory_num_child_tags: 0
  }
}
tags: {  # <amp-story-page-attachment> with no href
  html_format: AMP
  tag_name: "AMP-STORY-PAGE-ATTACHMENT"
  spec_name: "amp-story-page-attachment"
  mandatory_ancestor: "AMP-STORY-PAGE"
  descendant_tag_list: "amp-story-page-attachment-allowed-descendants"
  mandatory_last_child: true
  attrs: {
    name: "cta-text"
  }
  attrs: {
    name: "title"
  }
  attrs: {
    name: "cta-image"
    value_url: {
      protocol: "http"
      protocol: "https"
    }
  }
  attrs: {
    name: "cta-image-2"
    value_url: {
      protocol: "http"
      protocol: "https"
    }
  }
  attrs: {
    name: "layout"
    mandatory: true
    value: "nodisplay"
  }
  attrs: {
    name: "theme"
    value: "dark"
    value: "light"
  }
}
tags: {
  html_format: AMP
  tag_name: "AMP-STORY-PAGE-OUTLINK"
  spec_name: "amp-story-page-outlink"
  mandatory_ancestor: "AMP-STORY-PAGE"
  mandatory_last_child: true
  attrs: {
    name: "cta-accent-color"
  }
  attrs: {
    name: "cta-accent-element"
    value: "background"
    value: "text"
  }
  attrs: {
    name: "cta-image"
    value_url: {
      protocol: "http"
      protocol: "https"
    }
  }
  attrs: {
    name: "layout"
    mandatory: true
    value: "nodisplay"
  }
  attrs: {
    name: "theme"
    value: "custom"
    value: "dark"
    value: "light"
  }
  child_tags: {
    mandatory_num_child_tags: 1
    child_tag_name_oneof: "A"
  }
}
tags: {  # <amp-story-animation> <script>
  html_format: AMP
  tag_name: "SCRIPT"
  spec_name: "amp-story-animation json script"
  mandatory_parent: "AMP-STORY-ANIMATION"
  satisfies: "amp-story-animation json script"
  attrs: {
    name: "type"
    mandatory: true
    value_casei: "application/json"
    dispatch_key: NAME_VALUE_PARENT_DISPATCH
  }
  attr_lists: "nonce-attr"
  cdata: {
    disallowed_cdata_regex: {
      regex: "<!--"
      error_message: "html comments"
    }
  }
}
tags: {  # <amp-story-animation>
  # No amp_layout since this doesn't have a custom element implementation.
  html_format: AMP
  tag_name: "AMP-STORY-ANIMATION"
  requires_extension: "amp-story"
  requires: "amp-story-animation json script"
  mandatory_parent: "AMP-STORY-PAGE"
  attrs: { name: "animate-in-after" }
  attrs: {
    name: "trigger"
    value: "visibility"
    mandatory: true
  }
  attr_lists: "extended-amp-global"
  child_tags: {
    mandatory_num_child_tags: 1
    child_tag_name_oneof: "SCRIPT"
  }
  amp_layout: {
    supported_layouts: NODISPLAY
  }
}
# AMP Story metadata, name=amp-story-generator-name
tags: {
  html_format: AMP
  tag_name: "META"
  spec_name: "meta name=amp-story-generator-name"
  mandatory_parent: "HEAD"
  unique: true
  attrs: {
    name: "content"
    mandatory: true
  }
  attrs: {
    name: "name"
    mandatory: true
    value_casei: "amp-story-generator-name"
  }
}
# AMP Story metadata, name=amp-story-generator-version
tags: {
  html_format: AMP
  tag_name: "META"
  spec_name: "meta name=amp-story-generator-version"
  mandatory_parent: "HEAD"
  unique: true
  attrs: {
    name: "content"
    mandatory: true
  }
  attrs: {
    name: "name"
    mandatory: true
    value_casei: "amp-story-generator-version"
  }
}
descendant_tag_list {
  # Allowlisting as many components as possible, unless they could result in a
  # bad UX (ie: modal in a modal with amp-lightbox).
  name: "amp-story-page-attachment-allowed-descendants"
  tag: "A"
  tag: "ABBR"
  tag: "ADDRESS"
  tag: "AMP-3D-GLTF"
  tag: "AMP-3Q-PLAYER"
  tag: "AMP-ACCORDION"
  tag: "AMP-AUDIO"
  tag: "AMP-BEOPINION"
  tag: "AMP-BODYMOVIN-ANIMATION"
  tag: "AMP-BRID-PLAYER"
  tag: "AMP-BRIGHTCOVE"
  tag: "AMP-BYSIDE-CONTENT"
  tag: "AMP-CALL-TRACKING"
  tag: "AMP-CAROUSEL"
  tag: "AMP-DAILYMOTION"
  tag: "AMP-DATE-COUNTDOWN"
  tag: "AMP-DATE-DISPLAY"
  tag: "AMP-EMBEDLY-CARD"
  tag: "AMP-FACEBOOK"
  tag: "AMP-FACEBOOK-COMMENTS"
  tag: "AMP-FACEBOOK-LIKE"
  tag: "AMP-FACEBOOK-PAGE"
  tag: "AMP-FIT-TEXT"
  tag: "AMP-FX-COLLECTION"
  tag: "AMP-FX-FLYING-CARPET"
  tag: "AMP-GFYCAT"
  tag: "AMP-GIST"
  tag: "AMP-GOOGLE-DOCUMENT-EMBED"
  tag: "AMP-HULU"
  tag: "AMP-IMA-VIDEO"
  tag: "AMP-IMAGE-SLIDER"
  tag: "AMP-IMG"
  tag: "AMP-IMGUR"
  tag: "AMP-INSTAGRAM"
  tag: "AMP-IZLESENE"
  tag: "AMP-JWPLAYER"
  tag: "AMP-KALTURA-PLAYER"
  tag: "AMP-LIST"
  tag: "AMP-LIVE-LIST"
  tag: "AMP-MATHML"
  tag: "AMP-MEGAPHONE"
  tag: "AMP-MOWPLAYER"
  tag: "AMP-NEXXTV-PLAYER"
  tag: "AMP-O2-PLAYER"
  tag: "AMP-OOYALA-PLAYER"
  tag: "AMP-PAN-ZOOM"
  tag: "AMP-PINTEREST"
  tag: "AMP-PLAYBUZZ"
  tag: "AMP-POWR-PLAYER"
  tag: "AMP-REACH-PLAYER"
  tag: "AMP-REDDIT"
  tag: "AMP-RENDER"
  tag: "AMP-RIDDLE-QUIZ"
  tag: "AMP-SOUNDCLOUD"
  tag: "AMP-SELECTOR"
  tag: "AMP-SPRINGBOARD-PLAYER"
  tag: "AMP-TIMEAGO"
  tag: "AMP-TWITTER"
  tag: "AMP-VIDEO"
  tag: "AMP-VIDEO-IFRAME"
  tag: "AMP-VIMEO"
  tag: "AMP-VINE"
  tag: "AMP-VIQEO-PLAYER"
  tag: "AMP-VK"
  tag: "AMP-WISTIA-PLAYER"
  tag: "AMP-YOTPO"
  tag: "AMP-YOUTUBE"
  tag: "ARTICLE"
  tag: "ASIDE"
  tag: "B"
  tag: "BDI"
  tag: "BDO"
  tag: "BLOCKQUOTE"
  tag: "BR"
  tag: "BUTTON"
  tag: "CAPTION"
  tag: "CIRCLE"
  tag: "CITE"
  tag: "CLIPPATH"
  tag: "CODE"
  tag: "COL"
  tag: "COLGROUP"
  tag: "DATA"
  tag: "DATALIST"
  tag: "DD"
  tag: "DEFS"
  tag: "DEL"
  tag: "DESC"
  tag: "DFN"
  tag: "DIV"
  tag: "DL"
  tag: "DT"
  tag: "ELLIPSE"
  tag: "EM"
  tag: "FECOLORMATRIX"
  tag: "FECOMPOSITE"
  tag: "FEBLEND"
  tag: "FEFLOOD"
  tag: "FEGAUSSIANBLUR"
  tag: "FEMERGE"
  tag: "FEMERGENODE"
  tag: "FEOFFSET"
  tag: "FIGCAPTION"
  tag: "FIELDSET"
  tag: "FIGURE"
  tag: "FILTER"
  tag: "FORM"
  tag: "FOOTER"
  tag: "G"
  tag: "GLYPH"
  tag: "GLYPHREF"
  tag: "H1"
  tag: "H2"
  tag: "H3"
  tag: "H4"
  tag: "H5"
  tag: "H6"
  tag: "HEADER"
  tag: "HGROUP"
  tag: "HKERN"
  tag: "HR"
  tag: "I"
  tag: "IMAGE"
  tag: "IMG"  # Only allowed when document is transformed AMP
  tag: "INPUT"
  tag: "I-AMPHTML-SIZER"  # Only allowed when document is transformed AMP
  tag: "INS"
  tag: "KBD"
  tag: "LABEL"
  tag: "LEGEND"
  tag: "LI"
  tag: "LINE"
  tag: "LINEARGRADIENT"
  tag: "MAIN"
  tag: "MARK"
  tag: "MARKER"
  tag: "MASK"
  tag: "METADATA"
  tag: "METER"
  tag: "NAV"
  tag: "OL"
  tag: "OPTGROUP"
  tag: "OPTION"
  tag: "OUTPUT"
  tag: "P"
  tag: "PATH"
  tag: "PATTERN"
  tag: "POLYGON"
  tag: "POLYLINE"
  tag: "PRE"
  tag: "PROGRESS"
  tag: "Q"
  tag: "RADIALGRADIENT"
  tag: "RECT"
  tag: "RP"
  tag: "RT"
  tag: "RTC"
  tag: "RUBY"
  tag: "S"
  tag: "SAMP"
  tag: "SECTION"
  tag: "SELECT"
  tag: "SMALL"
  tag: "SOLIDCOLOR"
  tag: "SOURCE"
  tag: "SPAN"
  tag: "STOP"
  tag: "STRONG"
  tag: "SUB"
  tag: "SUP"
  tag: "SVG"
  tag: "SWITCH"
  tag: "SYMBOL"
  tag: "TABLE"
  tag: "TBODY"
  tag: "TD"
  tag: "TEMPLATE"
  tag: "TEXT"
  tag: "TEXTAREA"
  tag: "TEXTPATH"
  tag: "TFOOT"
  tag: "TH"
  tag: "THEAD"
  tag: "TIME"
  tag: "TITLE"
  tag: "TR"
  tag: "TRACK"
  tag: "TREF"
  tag: "TSPAN"
  tag: "U"
  tag: "UL"
  tag: "USE"
  tag: "VAR"
  tag: "VIEW"
  tag: "VKERN"
  tag: "WBR"
}
tags: {  # amp-ima-video
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-ima-video"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-ima-video>
  html_format: AMP
  tag_name: "AMP-IMA-VIDEO"
  requires_extension: "amp-ima-video"
  attrs: {
    name: "autoplay"
    value: ""
  }
  # data-* is generally allowed, but it's not generally mandatory.
  attrs: {
    name: "data-src"
    value_url: {
      protocol: "https"
      allow_relative: true  # Will be set to false at a future date.
    }
    disallowed_value_regex: "__amp_source_origin"
  }
  attrs: {
    name: "data-tag"
    mandatory: true
    value_url: {
      protocol: "https"
      allow_relative: true  # Will be set to false at a future date.
    }
  }
  attrs: {
    name: "dock"
    requires_extension: "amp-video-docking"
  }
  attrs: {
    name: "rotate-to-fullscreen"
    value: ""
  }
  attr_lists: "extended-amp-global"
  spec_url: "https://amp.dev/documentation/components/amp-ima-video/"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-install-serviceworker
  html_format: AMP  # Ads cannot install serviceworkers
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-install-serviceworker"
    version: "0.1"
    version: "latest"
    requires_usage: EXEMPTED
    deprecated_allow_duplicates: true
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-install-serviceworker>
  html_format: AMP  # Ads cannot install serviceworkers
  tag_name: "AMP-INSTALL-SERVICEWORKER"
  requires_extension: "amp-install-serviceworker"
  attrs: {
    name: "data-iframe-src"
    value_url: {
      protocol: "https"
      allow_relative: true  # Will be set to false at a future date.
    }
    disallowed_value_regex: "__amp_source_origin"
  }
  attrs: {
    name: "src"
    mandatory: true
    value_url: {
      protocol: "https"
      allow_relative: true  # Will be set to false at a future date.
    }
    disallowed_value_regex: "__amp_source_origin"
  }
  amp_layout: {
    supported_layouts: NODISPLAY
  }
}
tags: {  # amp-video-docking
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-video-docking"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # amp-form
  # Accepted form elements can be found in validator-main.protoascii
  # under section "4.10 Forms"
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-form"
    version: "0.1"
    version: "latest"
    deprecated_allow_duplicates: true
    requires_usage: EXEMPTED
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # amp-form
  html_format: AMP4EMAIL
  tag_name: "SCRIPT"
  spec_name: "SCRIPT[custom-element=amp-form] (AMP4EMAIL)"
  extension_spec: {
    name: "amp-form"
    # AMP4EMAIL doesn't allow version: "latest".
    version: "0.1"
    deprecated_allow_duplicates: true
    requires_usage: EXEMPTED
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # amp-connatix-player
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-connatix-player"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-connatix-player>
  html_format: AMP
  tag_name: "AMP-CONNATIX-PLAYER"
  requires_extension: "amp-connatix-player"
  attr_lists: "extended-amp-global"
  attrs: {
    name: "data-player-id"
    mandatory: true
  }
  spec_url: "https://amp.dev/documentation/components/amp-connatix-player/"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-onetap-google
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-onetap-google"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}

tags: {  # <amp-onetap-google>
  html_format: AMP
  tag_name: "AMP-ONETAP-GOOGLE"
  requires_extension: "amp-onetap-google"
  unique: true
  # data-* is generally allowed, but it's not generally mandatory.
  attrs: {
    name: "data-src"
    mandatory: true,
    value_url: {
      protocol: "https"
    }
  }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: NODISPLAY
  }
}
tags: {  # amp-access-fewcents
  html_format: AMP
  tag_name: "SCRIPT"
  requires_extension: "amp-access"
  extension_spec: {
    name: "amp-access-fewcents"
    version: "0.1"
    requires_usage: NONE
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # amp-subscriptions
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-subscriptions"
    version: "0.1"
    version: "latest"
    requires_usage: NONE
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # amp-subscriptions (json)
  html_format: AMP
  tag_name: "SCRIPT"
  spec_name: "amp-subscriptions extension .json script"
  unique: true
  mandatory_parent: "HEAD"
  requires_extension: "amp-subscriptions"
  attrs: {
    name: "id"
    mandatory: true
    value: "amp-subscriptions"
    dispatch_key: NAME_VALUE_DISPATCH
  }
  attrs: {
    name: "type"
    mandatory: true
    value_casei: "application/json"
  }
  attr_lists: "nonce-attr"
  cdata: {
    disallowed_cdata_regex: {
      regex: "<!--"
      error_message: "html comments"
    }
  }
}
tags: {  # amp-subscriptions-google
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-subscriptions-google"
    version: "0.1"
    version: "latest"
    requires_usage: NONE
  }
  requires_extension: "amp-subscriptions"
  attr_lists: "common-extension-attrs"
}
tags: {  # <script cryptokeys sha-256-hash>
  html_format: AMP
  tag_name: "SCRIPT"
  spec_name: "cryptokeys .json script"
  unique: true
  mandatory_parent: "HEAD"
  requires_extension: "amp-subscriptions"
  attrs: {
    name: "cryptokeys"
    mandatory: true
    value: ""
    dispatch_key: NAME_VALUE_DISPATCH
  }
  attrs: {
    name: "sha-256-hash"
    mandatory: true
  }
  attrs: {
    name: "type"
    mandatory: true
    value_casei: "application/json"
  }
}
tags: {  # <section subscriptions-section="content" swg_amp_cache_nonce="NONCE">
  html_format: AMP
  tag_name: "SECTION"
  spec_name: "subscriptions-section content swg_amp_cache_nonce"
  requires: "span swg_amp_cache_nonce"
  satisfies: "subscriptions-section content swg_amp_cache_nonce"
  mandatory_ancestor: "BODY"
  attrs: {
    name: "encrypted"
    mandatory: true
    dispatch_key: NAME_DISPATCH
  }
  attrs: {
    name: "subscriptions-section"
    value_casei: "content"
  }
  attrs: {
    name: "swg_amp_cache_nonce"
    mandatory: true
  }
}
tags: {  # <script type="application/octet-stream" ciphertext>
  html_format: AMP
  tag_name: "SCRIPT"
  spec_name: "subscriptions script ciphertext"
  mandatory_parent: "subscriptions-section content swg_amp_cache_nonce"
  mandatory_ancestor: "BODY"
  attrs: {
    name: "ciphertext"
    dispatch_key: NAME_DISPATCH
    mandatory: true
  }
  attrs: {
    name: "type"
    value_casei: "application/octet-stream"
    mandatory: true
  }
  cdata: {
    disallowed_cdata_regex: {
      regex: "<!--"
      error_message: "html comments"
    }
  }
}
tags: {  # <span swg_amp_cache_nonce="NONCE">
  html_format: AMP
  tag_name: "SPAN"
  spec_name: "span swg_amp_cache_nonce"
  requires: "subscriptions-section content swg_amp_cache_nonce"
  satisfies: "span swg_amp_cache_nonce"
  mandatory_ancestor: "BODY"
  requires_extension: "amp-subscriptions"
  attrs: {
    name: "swg_amp_cache_nonce"
    mandatory: true
    dispatch_key: NAME_DISPATCH
  }
}
# related attributes are listed in validator-main.protoascii
tags: {  # amp-story-shopping
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-story-shopping"
    version: "0.1"
    version: "latest"
    requires_usage: EXEMPTED
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-story-shopping-tag>
html_format: AMP
  tag_name: "AMP-STORY-SHOPPING-TAG"
  requires_extension: "amp-story-shopping"
  mandatory_ancestor: "AMP-STORY-GRID-LAYER"
  spec_url: "https://amp.dev/documentation/components/amp-story-shopping/"
  amp_layout: {
    supported_layouts: CONTAINER
  }
  attrs: {
    name: "data-product-id"
    mandatory: true
  }
}
tags: {  # <amp-story-shopping-attachment>
  html_format: AMP
  tag_name: "AMP-STORY-SHOPPING-ATTACHMENT"
  requires_extension: "amp-story-shopping"
  mandatory_last_child: true
  spec_url: "https://amp.dev/documentation/components/amp-story-shopping/"
  attrs: {
    name: "src"
    value_url: {
      protocol: "https"
      allow_relative: true
    }
  }
  attrs: {
    name: "theme"
    value: "dark"
    value: "light"
  }
  attrs: {
    name: "cta-text"
  }
  child_tags: {
    child_tag_name_oneof: "SCRIPT"
    mandatory_min_num_child_tags: 1
  }
  amp_layout: {
    supported_layouts: CONTAINER
  }
}
tags: { # amp-story-shopping-attachment
  html_format: AMP
  tag_name: "SCRIPT"
  spec_name: "amp-story-shopping-attachment config script"
  mandatory_parent: "AMP-STORY-SHOPPING-ATTACHMENT"
  requires_extension: "amp-story-shopping"
  attrs: {
    name: "type"
    mandatory: true
    value_casei: "application/json"
    dispatch_key: NAME_VALUE_PARENT_DISPATCH
  }
  attr_lists: "nonce-attr"
  cdata: {
    disallowed_cdata_regex: {
      regex: "<!--"
      error_message: "html comments"
    }
  }
  spec_url: "https://amp.dev/documentation/components/amp-story-shopping/"
}
tags: {  # amp-story-subscriptions
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-story-subscriptions"
    version: "0.1"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-story-subscriptions>
  html_format: AMP
  tag_name: "AMP-STORY-SUBSCRIPTIONS"
  requires_extension: "amp-story-subscriptions"
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: CONTAINER
  }
}
tags: {  # amp-powr-player
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-powr-player"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-powr-player>
  html_format: AMP
  tag_name: "AMP-POWR-PLAYER"
  requires_extension: "amp-powr-player"
  attrs: { name: "autoplay" }
  attrs: {
    name: "data-account"
    mandatory: true
    value_regex: "[0-9a-zA-Z-]+"
  }
  attrs: {
    name: "data-player"
    mandatory: true
    value_regex: "[0-9a-zA-Z-]+"
  }
  attrs: { name: "[data-referrer]" }
  attrs: {
    name: "data-terms"
    mandatory_oneof: "['data-video', 'data-terms']"
  }
  attrs: {
    name: "data-video"
    mandatory_oneof: "['data-video', 'data-terms']"
    value_regex: "[0-9a-zA-Z-]+"
  }
  attr_lists: "extended-amp-global"
  spec_url: "https://amp.dev/documentation/components/amp-powr-player/"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-link-rewriter
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-link-rewriter"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
  satisfies: "amp-link-rewriter"
  excludes: "amp-skimlinks"
  excludes: "amp-smartlinks"
}
tags: {  # amp-link-rewriter (json)
  html_format: AMP
  tag_name: "SCRIPT"
  spec_name: "amp-link-rewriter extension .json script"
  requires_extension: "amp-link-rewriter"
  mandatory_parent: "AMP-LINK-REWRITER"
  attrs: {
    name: "type"
    mandatory: true
    value_casei: "application/json"
    dispatch_key: NAME_VALUE_PARENT_DISPATCH
  }
  attr_lists: "nonce-attr"
  cdata: {
    disallowed_cdata_regex: {
      regex: "<!--"
      error_message: "html comments"
    }
  }
}
tags: {  # <amp-link-rewriter>
  html_format: AMP
  tag_name: "AMP-LINK-REWRITER"
  unique: true
  requires_extension: "amp-link-rewriter"
  child_tags: {
    mandatory_num_child_tags: 1
    first_child_tag_name_oneof: "SCRIPT"
  }
  amp_layout: {
    supported_layouts: NODISPLAY
  }
}
tags: {  # amp-anim
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-anim"
    version: "0.1"
    version: "latest"
    requires_usage: EXEMPTED
    deprecated_allow_duplicates: true
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # amp-anim
  html_format: AMP4EMAIL
  tag_name: "SCRIPT"
  spec_name: "amp-anim extension script (AMP4EMAIL)"
  extension_spec: {
    name: "amp-anim"
    # AMP4EMAIL doesn't allow version: "latest".
    version: "0.1"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-anim>
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "AMP-ANIM"
  requires_extension: "amp-anim"
  attrs: { name: "alt" }
  attrs: { name: "attribution" }
  attrs: { name: "object-fit" }
  attrs: { name: "object-position" }
  attr_lists: "extended-amp-global"
  attr_lists: "mandatory-src-or-srcset"
  spec_url: "https://amp.dev/documentation/components/amp-anim/"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: INTRINSIC
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
# See the restrictions on mandatory-src-amp4email, as well as the removal of
# `object-fit` and `object-position`.
tags: {  # <amp-anim>
  html_format: AMP4EMAIL
  tag_name: "AMP-ANIM"
  spec_name: "AMP-ANIM (AMP4EMAIL)"
  requires_extension: "amp-anim"
  attrs: { name: "alt" }
  attrs: { name: "attribution" }
  attr_lists: "extended-amp-global"
  attr_lists: "mandatory-src-amp4email"
  spec_url: "https://amp.dev/documentation/components/amp-anim/"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # <script custom-element="amp-sticky-ad">
  html_format: AMP  # Ads are not allowed inside ads.
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-app-banner"
    version: "0.1"
    version: "latest"
    deprecated_allow_duplicates: true
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-app-banner>
  html_format: AMP
  tag_name: "AMP-APP-BANNER"
  mandatory_parent: "BODY"
  requires_extension: "amp-app-banner"
  requires: "amp-app-banner data source"
  # The "amp-app-banner button[open-button]" tag is in
  # validator-main.protoascii and in turn has an "AMP-APP-BANNER"
  # mandatory_parent.
  requires: "amp-app-banner button[open-button]"
  attr_lists: "extended-amp-global"
  attr_lists: "mandatory-id-attr"
  unique: true
  spec_url: "https://amp.dev/documentation/components/amp-app-banner/"
  amp_layout: {
    supported_layouts: NODISPLAY
  }
}
tags: {  # amp-call-tracking
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-call-tracking"
    version: "0.1"
    version: "latest"
    requires_usage: EXEMPTED
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-call-tracking>
  html_format: AMP
  tag_name: "AMP-CALL-TRACKING"
  requires_extension: "amp-call-tracking"
  attrs: {
    name: "config"
    mandatory: true
    value_url: {
      protocol: "https"
      allow_relative: false
    }
    disallowed_value_regex: "__amp_source_origin"
  }
  attr_lists: "extended-amp-global"
  child_tags: {
    mandatory_num_child_tags: 1
    child_tag_name_oneof: "A"
  }
  spec_url: "https://amp.dev/documentation/components/amp-call-tracking/"
  amp_layout: {
    supported_layouts: CONTAINER
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-byside-content
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-byside-content"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-byside-content>
  html_format: AMP
  tag_name: "AMP-BYSIDE-CONTENT"
  requires_extension: "amp-byside-content"
  attrs: {
    name: "data-label"
    mandatory: true
  }
  attrs: {
    name: "data-webcare-id"
    mandatory: true
  }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-stream-gallery
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-stream-gallery"
    version: "1.0"
    version: "latest"
    bento_supported_version: "1.0"
    bento_supported_version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-stream-gallery>
  html_format: AMP
  tag_name: "AMP-STREAM-GALLERY"
  requires_extension: "amp-stream-gallery"
  attr_lists: "amp-stream-gallery-common"
  attr_lists: "extended-amp-global"
  spec_url: "https://github.com/ampproject/amphtml/blob/master/extensions/amp-stream-gallery/amp-stream-gallery.md"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: INTRINSIC
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}

# Examples for media query / value pairs:
# (min-width: 600px) and (min-height: 800px)  false, true
# (min-width: 600px) false,(min-width: 600px) true,false
# true
attr_lists: {
  name: "amp-stream-gallery-common"
  attrs: {
    name: "controls"
    # Media query / (always|auto|never)
    value_regex: "([^,]+\\s+(always|auto|never),\\s*)*(always|auto|never)"
  }
  attrs: {
    name: "extra-space"
    value: "between"
  }
  attrs: {
    name: "loop"
    # Media query / boolean pairs
    value_regex: "([^,]+\\s+(true|false),\\s*)*(true|false|^$)"
  }
  attrs: {
    name: "min-visible-count"
    # Media query / positive float pairs
    value_regex: "([^,]+\\s+(\\d+(\\.\\d+)?),\\s*)*(\\d+(\\.\\d+)?)"
  }
  attrs: {
    name: "max-visible-count"
    # Media query / positive float pairs
    value_regex: "([^,]+\\s+(\\d+(\\.\\d+)?),\\s*)*(\\d+(\\.\\d+)?)"
  }
  attrs: {
    name: "min-item-width"
    # Media query / positive integer pairs
    value_regex: "([^,]+\\s+(\\d+),\\s*)*(\\d+)"
  }
  attrs: {
    name: "max-item-width"
    # Media query / positive integer pairs
    value_regex: "([^,]+\\s+(\\d+),\\s*)*(\\d+)"
  }
  attrs: {
    name: "outset-arrows"
    # Media query / boolean pairs
    value_regex: "([^,]+\\s+(true|false),\\s*)*(true|false)"
  }
  attrs: {
    name: "peek"
    # Media query / positive float pairs
    value_regex: "([^,]+\\s+(\\d+(\\.\\d+)?),\\s*)*(\\d+(\\.\\d+)?)"
  }
  attrs: {
    name: "slide-align"
    # Media query / (start|center) pairs
    value_regex: "([^,]+\\s+(start|center),\\s*)*(start|center)"
  }
  attrs: {
    name: "snap"
    # Media query / boolean pairs
    value_regex: "([^,]+\\s+(true|false),\\s*)*(true|false)"
  }

  # amp-bind
  attrs: { name: "[controls]" }
  attrs: { name: "[extra-space]" }
  attrs: { name: "[loop]" }
  attrs: { name: "[min-visible-count]" }
  attrs: { name: "[max-visible-count]" } # 0.1 only
  attrs: { name: "[min-item-width]" }
  attrs: { name: "[max-item-width]" }
  attrs: { name: "[outset-arrows]" }
  attrs: { name: "[peek]" }
  attrs: { name: "[slide-align]" }
  attrs: { name: "[snap]" }
}
tags: {  # amp-mraid
  html_format: AMP4ADS
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-mraid"
    version: "0.1"
    version: "latest"
    extension_type: HOST_SERVICE
    requires_usage: NONE
  }
  attr_lists: "common-extension-attrs"
  attrs: {
    name: "no-fallback"
  }
}
tags: {  # amp-render
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-render"
    version: "1.0"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-render>
  html_format: AMP
  tag_name: "AMP-RENDER"
  requires_extension: "amp-render"
  attrs: {
    name: "binding"
    value: "always"
    value: "never" # alternative to "no" introduced in https://github.com/ampproject/amphtml/pull/34643
    value: "no"
    value: "refresh"
  }
  attrs: { name: "credentials" }
  attrs: {
    name: "data-amp-bind-src"
    mandatory_anyof: "['src','[src]','data-amp-bind-src']"
  }
  attrs: { name: "key" }
  attrs: {
    name: "src"
    mandatory_anyof: "['src','[src]','data-amp-bind-src']"
    value_url: {
      protocol: "amp-script"
      protocol: "amp-state"
      protocol: "https"
    }
    disallowed_value_regex: "__amp_source_origin"
  }
  attrs: {
    name: "template"
    value_oneof_set: TEMPLATE_IDS
  }
  attrs: { name: "xssi-prefix" }
  attrs: {
    name: "[src]"
    mandatory_anyof: "['src','[src]','data-amp-bind-src']"
  }
  attr_lists: "extended-amp-global"
  spec_url: "https://amp.dev/documentation/components/amp-render/"
  amp_layout: {
    supported_layouts: CONTAINER
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-sidebar
  html_format: AMP
  tag_name: "SCRIPT"
  satisfies: "amp-sidebar 1.0"
  excludes: "amp-sidebar 0.1"
  extension_spec: {
    name: "amp-sidebar"
    version_name: "v1.0"
    version: "1.0"
    bento_supported_version: "1.0"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # amp-sidebar
  html_format: AMP
  tag_name: "SCRIPT"
  satisfies: "amp-sidebar 0.1"
  excludes: "amp-sidebar 1.0"
  extension_spec: {
    name: "amp-sidebar"
    version_name: "v0.1"
    version: "0.1"
    version: "latest"
    requires_usage: EXEMPTED
    deprecated_allow_duplicates: true
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # amp-sidebar
  html_format: AMP4EMAIL
  spec_name: "SCRIPT[custom-element=amp-sidebar] (AMP4EMAIL)"
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-sidebar"
    # AMP4EMAIL doesn't allow version: "latest".
    version: "0.1"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-sidebar> not in amp-story or email
  html_format: AMP
  tag_name: "AMP-SIDEBAR"
  spec_name: "amp-sidebar"
  # There is an alternate spec for amp-sidebar in amp-story.
  disallowed_ancestor: "AMP-STORY"
  requires_extension: "amp-sidebar"
  attrs: {
    name: "side"
    value: "left"
    value: "right"
  }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: NODISPLAY
  }
  mark_descendants {
    marker: AUTOSCROLL
  }
  spec_url: "https://amp.dev/documentation/components/amp-sidebar/"
}
tags: {  # <amp-sidebar> in email
  html_format: AMP4EMAIL
  tag_name: "AMP-SIDEBAR"
  spec_name: "amp-sidebar (AMP4EMAIL)"
  requires_extension: "amp-sidebar"
  attrs: {
    name: "side"
    value: "left"
    value: "right"
  }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: NODISPLAY
  }
  spec_url: "https://amp.dev/documentation/components/amp-sidebar/"
}
tags: { # <amp-sidebar> in amp-story
  html_format: AMP
  tag_name: "AMP-SIDEBAR"
  spec_name: "amp-story >> amp-sidebar"
  requires_extension: "amp-sidebar"
  mandatory_parent: "AMP-STORY"
  amp_layout: { supported_layouts: NODISPLAY }
  mark_descendants {
    marker: AUTOSCROLL
  }
  spec_url: "https://amp.dev/documentation/components/amp-sidebar/"
  deprecation: "anchor tags or amp-story-player controls"
  deprecation_url: "https://github.com/ampproject/amphtml/issues/33293"
}
tags: {  # amp-sidebar > nav
  html_format: AMP
  html_format: AMP4EMAIL
  tag_name: "NAV"
  spec_name: "amp-sidebar > nav"
  mandatory_parent: "AMP-SIDEBAR"
  attrs: {
    name: "toolbar"
    mandatory: true
    # This tagspec sometimes produces errors for non-sidebar NAVs. This
    # dispatch key helps with this somewhat.
    dispatch_key: NAME_DISPATCH
  }
  attrs: {
    name: "toolbar-target"
    mandatory: true
  }
  child_tags: {
    mandatory_num_child_tags: 1
    child_tag_name_oneof: "OL"
    child_tag_name_oneof: "UL"
  }
}
tags: {  # amp-smartlinks
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-smartlinks"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
  satisfies: "amp-smartlinks"
  excludes: "amp-link-rewriter"
  excludes: "amp-skimlinks"
}

tags: {  # <amp-smartlinks>
  html_format: AMP
  tag_name: "AMP-SMARTLINKS"
  requires_extension: "amp-smartlinks"
  attrs: {
    name: "exclusive-links"
    value: ""
  }
  attrs: {
    name: "link-attribute"
  }
  attrs: {
    name: "link-selector"
  }
  attrs: {
    name: "linkmate"
    value: ""
  }
  attrs: {
    name: "nrtv-account-name"
    mandatory: true
  }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: NODISPLAY
  }
}
tags: {  # amp-nested-menu
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-nested-menu"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # amp-nested-menu
  html_format: AMP
  tag_name: "AMP-NESTED-MENU"
  # nested menu can be lazy loaded by sidebar.
  requires_extension: "amp-sidebar"
  mandatory_ancestor: "AMP-SIDEBAR"
  attrs: {
    name: "side"
    value: "left"
    value: "right"
  }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: FILL
  }
  descendant_tag_list: "amp-nested-menu-allowed-descendants"
  spec_url: "https://amp.dev/documentation/components/amp-nested-menu/"
}
tags: {  # <amp-nested-menu> <div amp-nested-submenu(-open/-close)>
  html_format: AMP
  tag_name: "DIV"
  spec_name: "div amp-nested-menu"
  descriptive_name: "div amp-nested-menu"
  mandatory_ancestor: "AMP-NESTED-MENU"
  # submenus inside accordion do not display correctly due to styling of <amp-accordion>.
  disallowed_ancestor: "AMP-ACCORDION"
  attrs: {
    name: "amp-nested-submenu"
    dispatch_key: NAME_VALUE_DISPATCH
    mandatory_oneof: "['amp-nested-submenu', 'amp-nested-submenu-close', 'amp-nested-submenu-open']"
  }
  attrs: {
    name: "amp-nested-submenu-close"
    dispatch_key: NAME_VALUE_DISPATCH
    mandatory_oneof: "['amp-nested-submenu', 'amp-nested-submenu-close', 'amp-nested-submenu-open']"
  }
  attrs: {
    name: "amp-nested-submenu-open"
    dispatch_key: NAME_VALUE_DISPATCH
    mandatory_oneof: "['amp-nested-submenu', 'amp-nested-submenu-close', 'amp-nested-submenu-open']"
  }
}

attr_lists {
  name: "amp-nested-menu-actions"
  attrs: {
    name: "amp-nested-submenu-close"
    mandatory_oneof: "['amp-nested-submenu-close', 'amp-nested-submenu-open']"
  }
  attrs: {
    name: "amp-nested-submenu-open"
    mandatory_oneof: "['amp-nested-submenu-close', 'amp-nested-submenu-open']"
  }
}
tags: {  # <amp-nested-menu> <button amp-nested-submenu-open/close>
  html_format: AMP
  tag_name: "BUTTON"
  spec_name: "button amp-nested-menu"
  mandatory_ancestor: "AMP-NESTED-MENU"
  attr_lists: "amp-nested-menu-actions"
}
tags: {  # <amp-nested-menu> <h2 amp-nested-submenu-open/close>
  html_format: AMP
  tag_name: "H2"
  spec_name: "h2 amp-nested-menu"
  mandatory_ancestor: "AMP-NESTED-MENU"
  attr_lists: "amp-nested-menu-actions"
}
tags: {  # <amp-nested-menu> <h3 amp-nested-submenu-open/close>
  html_format: AMP
  tag_name: "H3"
  spec_name: "h3 amp-nested-menu"
  mandatory_ancestor: "AMP-NESTED-MENU"
  attr_lists: "amp-nested-menu-actions"
}
tags: {  # <amp-nested-menu> <h4 amp-nested-submenu-open/close>
  html_format: AMP
  tag_name: "H4"
  spec_name: "h4 amp-nested-menu"
  mandatory_ancestor: "AMP-NESTED-MENU"
  attr_lists: "amp-nested-menu-actions"
}
tags: {  # <amp-nested-menu> <h5 amp-nested-submenu-open/close>
  html_format: AMP
  tag_name: "H5"
  spec_name: "h5 amp-nested-menu"
  mandatory_ancestor: "AMP-NESTED-MENU"
  attr_lists: "amp-nested-menu-actions"
}
tags: {  # <amp-nested-menu> <h6 amp-nested-submenu-open/close>
  html_format: AMP
  tag_name: "H6"
  spec_name: "h6 amp-nested-menu"
  mandatory_ancestor: "AMP-NESTED-MENU"
  attr_lists: "amp-nested-menu-actions"
}
tags: {  # <amp-nested-menu> <span amp-nested-submenu-open/close>
  html_format: AMP
  tag_name: "SPAN"
  spec_name: "span amp-nested-menu"
  mandatory_ancestor: "AMP-NESTED-MENU"
  attr_lists: "amp-nested-menu-actions"
}
descendant_tag_list {
  # Purposefully being restrictive when allowlisting child components;
  # On demand, add more components to this list after manual testing.
  name: "amp-nested-menu-allowed-descendants"
  tag: "A"
  tag: "AMP-ACCORDION"
  tag: "AMP-IMG"
  tag: "AMP-LIST"
  tag: "B"
  tag: "BR"
  tag: "BUTTON"
  tag: "CIRCLE"
  tag: "COL"
  tag: "COLGROUP"
  tag: "DIV"
  tag: "ELLIPSE"
  tag: "EM"
  tag: "FIELDSET"
  tag: "FORM"
  tag: "H1"
  tag: "H2"
  tag: "H3"
  tag: "H4"
  tag: "H5"
  tag: "H6"
  tag: "I"
  tag: "INPUT"
  tag: "LABEL"
  tag: "LI"
  tag: "LINE"
  tag: "MARK"
  tag: "NAV"
  tag: "OL"
  tag: "OPTION"
  tag: "P"
  tag: "PATH"
  tag: "POLYGON"
  tag: "POLYLINE"
  tag: "RECT"
  tag: "SECTION"
  tag: "SELECT"
  tag: "SPAN"
  tag: "STRIKE"
  tag: "STRONG"
  tag: "SUB"
  tag: "SUP"
  tag: "SVG"
  tag: "TABLE"
  tag: "TBODY"
  tag: "TD"
  tag: "TEMPLATE"
  tag: "TH"
  tag: "TIME"
  tag: "TITLE"
  tag: "TR"
  tag: "U"
  tag: "UL"
  tag: "USE"
}
#
# Copyright 2021 The AMP HTML Authors. All Rights Reserved.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#      http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS-IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the license.
#

tags: {  # amp-story-captions
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-story-captions"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-story-captions>
  html_format: AMP
  tag_name: "AMP-STORY-CAPTIONS"
  requires_extension: "amp-story-captions"
  attr_lists: "extended-amp-global"
  spec_url: "https://amp.dev/documentation/components/amp-story-captions"
  mandatory_ancestor: "AMP-STORY"
  amp_layout: {
    supported_layouts: CONTAINER
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: FLUID
    supported_layouts: INTRINSIC
    supported_layouts: RESPONSIVE
  }
  child_tags: {
    mandatory_num_child_tags: 0
  }
  attrs: {
    name: "style-preset"
    value: "default"
    value: "appear"
  }
}
tags: {  # amp-jwplayer
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-jwplayer"
    version: "0.1"
    version: "latest"
    requires_usage: EXEMPTED
    deprecated_allow_duplicates: true
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-jwplayer>
  html_format: AMP
  tag_name: "AMP-JWPLAYER"
  requires_extension: "amp-jwplayer"
  attrs: {
    name: "autoplay"
    value: ""
  }
  attrs: {
    name: "data-media-id"
    mandatory_oneof: "['data-media-id', 'data-playlist-id']"
    value_regex_casei: "[0-9a-z]{8}|outstream"
  }
  attrs: {
    name: "data-player-id"
    mandatory: true
    value_regex_casei: "[0-9a-z]{8}"
  }
  attrs: {
    name: "data-playlist-id"
    mandatory_oneof: "['data-media-id', 'data-playlist-id']"
    value_regex_casei: "[0-9a-z]{8}"
  }
  attrs: {
    name: "dock"
    requires_extension: "amp-video-docking"
  }
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
  spec_url: "https://amp.dev/documentation/components/amp-jwplayer/"
}
tags: {  # amp-viqeo-player
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-viqeo-player"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}

tags: {  # <amp-viqeo-player>
  html_format: AMP
  tag_name: "AMP-VIQEO-PLAYER"
  requires_extension: "amp-viqeo-player"
  attrs: { name: "autoplay" }
  attrs: {
    name: "data-profileid"
    value_regex: "[0-9a-f]*"
    mandatory: true
  }
  attrs: {
    name: "data-videoid"
    mandatory: true
  }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-fx-collection
  # Accepted amp-fx-collection attributes can be found in
  # validator-main.protoascii
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-fx-collection"
    version: "0.1"
    version: "latest"
    # amp-fx-parallax has no associated tag which indicates usage of the
    # extension.
    requires_usage: NONE
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # amp-o2-player
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-o2-player"
    version: "0.1"
    version: "latest"
    requires_usage: EXEMPTED
    deprecated_allow_duplicates: true
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-o2-player>
  html_format: AMP
  tag_name: "AMP-O2-PLAYER"
  requires_extension: "amp-o2-player"
  attrs: {
    name: "data-bcid"
    mandatory: true
  }
  attrs: {
    name: "data-pid"
    mandatory: true
  }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-springboard-player
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-springboard-player"
    version: "0.1"
    version: "latest"
    requires_usage: EXEMPTED
    deprecated_allow_duplicates: true
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-springboard-player>
  html_format: AMP
  tag_name: "AMP-SPRINGBOARD-PLAYER"
  requires_extension: "amp-springboard-player"
  attrs: {
    name: "data-content-id"
    mandatory: true
  }
  attrs: {
    name: "data-domain"
    mandatory: true
  }
  attrs: {
    name: "data-items"
    mandatory: true
  }
  attrs: {
    name: "data-mode"
    mandatory: true
    value_casei: "playlist"
    value_casei: "video"
  }
  attrs: {
    name: "data-player-id"
    mandatory: true
    value_regex_casei: "[a-z0-9]+"
  }
  attrs: {
    name: "data-site-id"
    mandatory: true
    value_regex: "[0-9]+"
  }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FLEX_ITEM
    supported_layouts: RESPONSIVE
  }
}
# This tag no longer exists. It has been folded into amp-carousel. See
# https://github.com/ampproject/amphtml/issues/5981
# However, some pages are still including the javascript file.
tags: {  # amp-slides
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-slides"
    version: "0.1"
    version: "latest"
    requires_usage: NONE
    deprecated_allow_duplicates: true
  }
  attr_lists: "common-extension-attrs"
  deprecation: "amp-carousel"
  deprecation_url: "https://www.ampproject.org/docs/reference/components/amp-carousel"
}
tags: {
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-script"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-script> (local script)
  html_format: AMP
  tag_name: "SCRIPT"
  spec_name: "amp-script extension local script"
  requires_extension: "amp-script"
  attrs: {
    name: "id"
    add_value_to_set: AMP_SCRIPT_IDS
    mandatory: true
    # When updating this disallowed_value_regex, also update for
    # mandatory-id-attr and $GLOBAL_ATTRS in validator-main.protoascii, and
    # validator-amp-mustache.protoascii.
    disallowed_value_regex: "(^|\\s)("  # Values are space separated
        "__amp_\\S*|"
        "__count__|"
        "__defineGetter__|"
        "__defineSetter__|"
        "__lookupGetter__|"
        "__lookupSetter__|"
        "__noSuchMethod__|"
        "__parent__|"
        "__proto__|"
        "__AMP_\\S*|"
        "\\$p|"
        "\\$proxy|"
        "acceptCharset|"
        "addEventListener|"
        "appendChild|"
        "assignedSlot|"
        "attachShadow|"
        "AMP|"
        "baseURI|"
        "checkValidity|"
        "childElementCount|"
        "childNodes|"
        "classList|"
        "className|"
        "clientHeight|"
        "clientLeft|"
        "clientTop|"
        "clientWidth|"
        "compareDocumentPosition|"
        "computedName|"
        "computedRole|"
        "contentEditable|"
        "createShadowRoot|"
        "enqueAction|"
        "firstChild|"
        "firstElementChild|"
        "getAnimations|"
        "getAttribute|"
        "getAttributeNS|"
        "getAttributeNode|"
        "getAttributeNodeNS|"
        "getBoundingClientRect|"
        "getClientRects|"
        "getDestinationInsertionPoints|"
        "getElementsByClassName|"
        "getElementsByTagName|"
        "getElementsByTagNameNS|"
        "getRootNode|"
        "hasAttribute|"
        "hasAttributeNS|"
        "hasAttributes|"
        "hasChildNodes|"
        "hasPointerCapture|"
        "i-amphtml-\\S*|"
        "innerHTML|"
        "innerText|"
        "inputMode|"
        "insertAdjacentElement|"
        "insertAdjacentHTML|"
        "insertAdjacentText|"
        "isContentEditable|"
        "isDefaultNamespace|"
        "isEqualNode|"
        "isSameNode|"
        "lastChild|"
        "lastElementChild|"
        "lookupNamespaceURI|"
        "namespaceURI|"
        "nextElementSibling|"
        "nextSibling|"
        "nodeName|"
        "nodeType|"
        "nodeValue|"
        "offsetHeight|"
        "offsetLeft|"
        "offsetParent|"
        "offsetTop|"
        "offsetWidth|"
        "outerHTML|"
        "outerText|"
        "ownerDocument|"
        "parentElement|"
        "parentNode|"
        "previousElementSibling|"
        "previousSibling|"
        "querySelector|"
        "querySelectorAll|"
        "releasePointerCapture|"
        "removeAttribute|"
        "removeAttributeNS|"
        "removeAttributeNode|"
        "removeChild|"
        "removeEventListener|"
        "replaceChild|"
        "reportValidity|"
        "requestPointerLock|"
        "scrollHeight|"
        "scrollIntoView|"
        "scrollIntoViewIfNeeded|"
        "scrollLeft|"
        "scrollWidth|"
        "setAttribute|"
        "setAttributeNS|"
        "setAttributeNode|"
        "setAttributeNodeNS|"
        "setPointerCapture|"
        "shadowRoot|"
        "styleMap|"
        "tabIndex|"
        "tagName|"
        "textContent|"
        "toString|"
        "valueOf|"
        "(webkit|ms|moz|o)dropzone|"
        "(webkit|moz|ms|o)MatchesSelector|"
        "(webkit|moz|ms|o)RequestFullScreen|"
        "(webkit|moz|ms|o)RequestFullscreen"
        ")(\\s|$)"
  }
  attrs: {
    name: "target"
    mandatory: true
    value: "amp-script"
    dispatch_key: NAME_VALUE_DISPATCH
  }
  attrs: {
    name: "type"
    mandatory: true
    value_casei: "text/plain"
  }
  attr_lists: "mandatory-id-attr"
  attr_lists: "nonce-attr"
  cdata: {
    max_bytes: 10000
    max_bytes_spec_url: "https://amp.dev/documentation/components/amp-script/#faq"
    disallowed_cdata_regex: {
      regex: "<!--"
      error_message: "html comments"
    }
  }
  spec_url: "https://amp.dev/documentation/components/amp-script/"
}
tags: {  # <amp-script>
  html_format: AMP
  tag_name: "AMP-SCRIPT"
  disallowed_ancestor: "AMP-SCRIPT"
  requires_extension: "amp-script"
  attrs: {
    # This attribute should always be invalid. See https://github.com/ampproject/amphtml/pull/27076
    name: "data-ampdevmode"
    value: "false"
    disallowed_value_regex: "false"
  }
  attrs: {
    name: "max-age"
    value_regex: "[0-9]+"
    trigger: {
      # max-age only applies to inline scripts.
      also_requires_attr: "script"
    }
  }
  attrs: {
    name: "nodom"
    value: ""
  }
  attrs: {
    name: "sandboxed"
    value: ""
  }
  attrs: { name: "sandbox" }
  attrs: {
    name: "script"
    mandatory_oneof: "['script', 'src']"
    value_oneof_set: AMP_SCRIPT_IDS
  }
  attrs: {
    name: "src"
    mandatory_oneof: "['script', 'src']"
    value_url: {
      protocol: "https"
      allow_relative: false
    }
    disallowed_value_regex: "__amp_source_origin"
  }
  attr_lists: "extended-amp-global"
  amp_layout {
    supported_layouts: CONTAINER
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: INTRINSIC
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
# HTML5, 4.8.11 The canvas element.
tags: {
  html_format: AMP
  tag_name: "CANVAS"
  attrs: { name: "height" }
  attrs: { name: "width" }
  mandatory_ancestor: "AMP-SCRIPT"
  requires_extension: "amp-script"
  spec_url: "https://amp.dev/documentation/guides-and-tutorials/learn/spec/amphtml/#html-tags"
}
tags: {  # amp-3q-player
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-3q-player"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-3q-player>
  html_format: AMP
  tag_name: "AMP-3Q-PLAYER"
  requires_extension: "amp-3q-player"
  attrs: {
    name: "autoplay"
    value: ""
  }
  attrs: {
    name: "data-id"
    mandatory: true
  }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FLEX_ITEM
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-vk
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-vk"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-vk>
  html_format: AMP
  tag_name: "AMP-VK"
  requires_extension: "amp-vk"
  attrs: {
    name: "data-embedtype"
    mandatory: true
  }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: FIXED
    supported_layouts: FLEX_ITEM
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-position-observer
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-position-observer"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-position-observer>
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "AMP-POSITION-OBSERVER"
  requires_extension: "amp-position-observer"
  attrs: {
    name: "intersection-ratios"
    # Regex ^([0]*?\.\d*$|1$|0$)|([0]*?\.\d*|1|0)\s{1}([0]*?\.\d*$|1$|0$)
    # Values such as: "0", "0.1" , "1", "0 1", "0 0.5", "0.5 1", "1 1", etc...
    value_regex: "^([0]*?\\.\\d*$|1$|0$)|([0]*?\\.\\d*|1|0)\\s{1}([0]*?\\.\\d*$|1$|0$)"
  }
  attrs: {
    name: "once"
    value: ""
  }
  attrs: { name: "target" }
  attrs: {
    name: "viewport-margins"
    # Regex: ^(\d+$|\d+px$|\d+vh$)|((\d+|\d+px|\d+vh)\s{1}(\d+$|\d+px$|\d+vh$))
    # Values such as: "100", "100px", "100vh", "100 100px", "100vh 100", "100px 100vh", etc..
    value_regex: "^(\\d+$|\\d+px$|\\d+vh$)|((\\d+|\\d+px|\\d+vh)\\s{1}(\\d+$|\\d+px$|\\d+vh$))"
  }
  attr_lists: "extended-amp-global"
  amp_layout {
    supported_layouts: NODISPLAY
  }
}
tags: {  # amp-cache-url
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-cache-url"
    version: "0.1"
    requires_usage: NONE
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # amp-yotpo
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-yotpo"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
  spec_url: "https://amp.dev/documentation/components/amp-yotpo/"
}
tags: {  # <amp-yotpo>
  html_format: AMP
  tag_name: "AMP-YOTPO"
  requires_extension: "amp-yotpo"
  attr_lists: "extended-amp-global"
  spec_url: "https://amp.dev/documentation/components/amp-yotpo/"
  attrs: {
    name: "data-app-key"
    mandatory: true
  }
  attrs: {
    name: "data-widget-type"
    mandatory: true
  }
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-twitter 1.0
  html_format: AMP
  tag_name: "SCRIPT"
  satisfies: "amp-twitter 1.0"
  excludes: "amp-twitter 0.1"
  extension_spec: {
    name: "amp-twitter"
    version_name: "v1.0"
    version: "1.0"
    bento_supported_version: "1.0"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # amp-twitter 0.1 and latest
  html_format: AMP
  tag_name: "SCRIPT"
  satisfies: "amp-twitter 0.1"
  excludes: "amp-twitter 1.0"
  extension_spec: {
    name: "amp-twitter"
    version_name: "v0.1"
    version: "0.1"
    version: "latest"
    requires_usage: EXEMPTED
    deprecated_allow_duplicates: true
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-twitter>
  html_format: AMP
  tag_name: "AMP-TWITTER"
  requires_extension: "amp-twitter"
  attrs: {
    name: "data-cards"
    trigger: {
      also_requires_attr: "data-tweetid"
    }
  }
  attrs: {
    name: "data-conversation"
    trigger: {
      also_requires_attr: "data-tweetid"
    }
  }
  attrs: {
    name: "data-limit"
    trigger: {
      also_requires_attr: "data-momentid"
    }
  }
  attrs: {
    name: "data-momentid"
    mandatory_oneof: "['data-momentid', 'data-timeline-source-type', 'data-tweetid']"
    value_regex: "\\d+"
  }
  attrs: {
    name: "data-timeline-id"
    trigger: {
      also_requires_attr: "data-timeline-source-type"
    }
    value_regex: "\\d+"
  }
  attrs: {
    name: "data-timeline-owner-screen-name"
    trigger: {
      also_requires_attr: "data-timeline-source-type"
    }
  }
  attrs: {
    name: "data-timeline-slug"
    trigger: {
      also_requires_attr: "data-timeline-source-type"
    }
  }
  attrs: {
    name: "data-timeline-source-type"
    mandatory_oneof: "['data-momentid', 'data-timeline-source-type', 'data-tweetid']"
  }
  attrs: {
    name: "data-timeline-screen-name"
    trigger: {
      also_requires_attr: "data-timeline-source-type"
    }
  }
    attrs: {
    name: "data-timeline-url"
    trigger: {
      also_requires_attr: "data-timeline-source-type"
    }
    value_url: {
      protocol: "http"
      protocol: "https"
      allow_relative: false
    }
  }
  attrs: {
    name: "data-timeline-user-id"
    trigger: {
      also_requires_attr: "data-timeline-source-type"
    }
    value_regex: "\\d+"
  }
  attrs: {
    name: "data-tweetid"
    mandatory_oneof: "['data-momentid', 'data-timeline-source-type', 'data-tweetid']"
  }
  # <amp-bind>
  attrs: {
    name: "[data-tweetid]"
  }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: INTRINSIC
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-wistia-player
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-wistia-player"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-wistia-player>
  html_format: AMP
  tag_name: "AMP-WISTIA-PLAYER"
  requires_extension: "amp-wistia-player"
  attrs: {
    name: "data-media-hashed-id"
    mandatory: true
    value_regex: "[0-9a-zA-Z]+"
  }
  attrs: {
    # Does nothing, as the player iframe implements this feature internally
    # regardless.
    # Included for consistency with other players.
    name: "rotate-to-fullscreen"
    value: ""
  }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-izlesene
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-izlesene"
    version: "0.1"
    version: "latest"
    requires_usage: EXEMPTED
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-izlesene>
  html_format: AMP
  tag_name: "AMP-IZLESENE"
  requires_extension: "amp-izlesene"
  attrs: {
    name: "data-videoid"
    mandatory: true
    value_regex: "[0-9]+"
  }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-web-push
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-web-push"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-web-push>
  html_format: AMP
  tag_name: "AMP-WEB-PUSH"
  requires_extension: "amp-web-push"
  attrs: {
    name: "helper-iframe-url"
    mandatory: true
    value_url: {
      protocol: "https"
      allow_relative: false
    }
  }
  attrs: {
    name: "id"
    mandatory: true
    value: "amp-web-push"
  }
  attrs: {
    name: "permission-dialog-url"
    mandatory: true
    value_url: {
      protocol: "https"
      allow_relative: false
    }
  }
  attrs: {
    name: "service-worker-url"
    mandatory: true
    value_url: {
      protocol: "https"
      allow_relative: false
    }
  }
  attrs: {
    name: "service-worker-scope"
    value_url: {
      protocol: "https"
    }
  }
  attr_lists: "extended-amp-global"
  spec_url: "https://amp.dev/documentation/components/amp-web-push/"
  amp_layout: {
    supported_layouts: NODISPLAY
  }
}
tags: {  # <amp-web-push-widget>
  html_format: AMP
  tag_name: "AMP-WEB-PUSH-WIDGET"
  requires_extension: "amp-web-push"
  attrs: {
    name: "visibility"
    mandatory: true
    value: "blocked"
    value: "subscribed"
    value: "unsubscribed"
  }
  attr_lists: "extended-amp-global"
  spec_url: "https://amp.dev/documentation/components/amp-web-push/"
  amp_layout: {
    supported_layouts: FIXED
  }
}
tags: {  # amp-inline-gallery
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-inline-gallery"
    version: "0.1"
    version: "1.0"
    version: "latest"
    bento_supported_version: "1.0"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-inline-gallery>
  html_format: AMP
  tag_name: "AMP-INLINE-GALLERY"
  requires_extension: "amp-inline-gallery"
  attr_lists: "extended-amp-global"
  spec_url: "https://amp.dev/documentation/components/amp-inline-gallery/"
  amp_layout: {
    supported_layouts: CONTAINER
  }
}
tags: {  # <amp-inline-gallery-pagination>
  html_format: AMP
  tag_name: "AMP-INLINE-GALLERY-PAGINATION"
  spec_name: "amp-inline-gallery-pagination"
  requires_extension: "amp-inline-gallery"
  attr_lists: "extended-amp-global"
  spec_url: "https://amp.dev/documentation/components/amp-inline-gallery/"
  mandatory_ancestor: "AMP-INLINE-GALLERY"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: INTRINSIC
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # <amp-inline-gallery-pagination inset>
  html_format: AMP
  tag_name: "AMP-INLINE-GALLERY-PAGINATION"
  spec_name: "amp-inline-gallery-pagination [inset]"
  requires_extension: "amp-inline-gallery"
  attrs: {
    name: "inset"
    mandatory: true
  }
  attr_lists: "extended-amp-global"
  spec_url: "https://amp.dev/documentation/components/amp-inline-gallery/"
  mandatory_ancestor: "AMP-INLINE-GALLERY"
  amp_layout: {
    supported_layouts: NODISPLAY
  }
}
tags: {  # <amp-inline-gallery-thumbnails>
  html_format: AMP
  tag_name: "AMP-INLINE-GALLERY-THUMBNAILS"
  requires_extension: "amp-inline-gallery"
  attrs: {
    name: "aspect-ratio-height"
    # Non-zero number
    value_regex: "\\d+(\\.\\d+)?"
    disallowed_value_regex: "^0+(\\.0+)?$"
    trigger: {
      also_requires_attr: "aspect-ratio-width"
    }
  }
  attrs: {
    name: "aspect-ratio-width" # 0.1 only
    # Non-zero number
    value_regex: "\\d+(\\.\\d+)?"
    disallowed_value_regex: "^0+(\\.0+)?$"
    trigger: {
      also_requires_attr: "aspect-ratio-height"
    }
  }
  attrs: {
    name: "aspect-ratio" # 1.0 only
    # Non-zero number
    value_regex: "\\d+(\\.\\d+)?"
    disallowed_value_regex: "^0+(\\.0+)?$"
  }
  attrs: {
    name: "loop"
    value: "true"
    value: "false"
    value: ""
  }
  attr_lists: "extended-amp-global"
  spec_url: "https://amp.dev/documentation/components/amp-inline-gallery/"
  mandatory_ancestor: "AMP-INLINE-GALLERY"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: INTRINSIC
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-orientation-observer
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-orientation-observer"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-orientation-observer>
  html_format: AMP
  tag_name: "AMP-ORIENTATION-OBSERVER"
  requires_extension: "amp-orientation-observer"
  attr_lists: "extended-amp-global"
  attrs: {
    name: "alpha-range"
    # Regex: (\d+)\s{1}(\d+)
    # Values such as: "100 100", "0 100", etc..
    value_regex: "(\\d+)\\s{1}(\\d+)"
  }
  attrs: {
    name: "beta-range"
    # Regex: (\d+)\s{1}(\d+)
    # Values such as: "100 100", "0 100", etc..
    value_regex: "(\\d+)\\s{1}(\\d+)"
  }
  attrs: {
    name: "gamma-range"
    # Regex: (\d+)\s{1}(\d+)
    # Values such as: "100 100", "0 100", etc..
    value_regex: "(\\d+)\\s{1}(\\d+)"
  }
  attrs: {
    name: "smoothing"
    value_regex: "[0-9]+|"
  }
  amp_layout {
    supported_layouts: NODISPLAY
  }
}
tags: {  # amp-auto-ads
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-auto-ads"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-auto-ads>
  html_format: AMP
  tag_name: "AMP-AUTO-ADS"
  disallowed_ancestor: "AMP-AUTO-ADS"
  requires_extension: "amp-auto-ads"
  attrs: {
    name: "type"
    mandatory: true
  }
  attr_lists: "extended-amp-global"
  spec_url: "https://amp.dev/documentation/components/amp-auto-ads/"
}
tags: {  # amp-iframe 1.0
  html_format: AMP
  tag_name: "SCRIPT"
  satisfies: "amp-iframe 1.0"
  excludes: "amp-iframe 0.1"
  extension_spec: {
    name: "amp-iframe"
    version_name: "v1.0"
    version: "1.0"
    bento_supported_version: "1.0"
  }
  attr_lists: "common-extension-attrs"
}

tags: {  # amp-iframe 0.1 and latest
  html_format: AMP  # Iframes not allowed in ads.
  tag_name: "SCRIPT"
  satisfies: "amp-iframe 0.1"
  excludes: "amp-iframe 1.0"
  extension_spec: {
    name: "amp-iframe"
    version_name: "v0.1"
    version: "0.1"
    version: "latest"
    requires_usage: EXEMPTED
    deprecated_allow_duplicates: true
  }
  attr_lists: "common-extension-attrs"
}

tags: {  # <amp-iframe>
  html_format: AMP  # Iframes not allowed in ads.
  tag_name: "AMP-IFRAME"
  requires_extension: "amp-iframe"
  attrs: { name: "allow" }
  attrs: {
    name: "allowfullscreen"
    value: ""
  }
  attrs: {
    name: "allowpaymentrequest"
    value: ""
  }
  attrs: {
    name: "allowtransparency"
    value: ""
  }
  attrs: {
    name: "frameborder"
    value: "0"
    value: "1"
  }
  attrs: { name: "referrerpolicy" }
  attrs: {
    name: "resizable"
    value: ""
  }
  attrs: { name: "sandbox" }
  attrs: {
    name: "scrolling"
    value: "auto"
    value: "no"
    value: "yes"
  }
  attrs: {
    name: "tabindex"
    value_regex: "-?\\d+"
  }
  attrs: {
    name: "src"
    mandatory_oneof: "['src', 'srcdoc']"
    value_url: {
      protocol: "data"
      protocol: "https"
      allow_relative: true  # Will be set to false at a future date.
    }
    disallowed_value_regex: "__amp_source_origin"
  }
  attrs: {
    name: "srcdoc"
    mandatory_oneof: "['src', 'srcdoc']"
  }
  # <amp-bind>
  attrs: {
    name: "[src]"
    trigger: {
      also_requires_attr: "src"
    }
  }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: INTRINSIC
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-vine
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-vine"
    version: "0.1"
    version: "latest"
    requires_usage: EXEMPTED
    deprecated_allow_duplicates: true
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-vine>
  html_format: AMP
  tag_name: "AMP-VINE"
  requires_extension: "amp-vine"
  # data-* is generally allowed, but it's not generally mandatory.
  attrs: {
    name: "data-vineid"
    mandatory: true
  }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-facebook 1.0
  html_format: AMP
  tag_name: "SCRIPT"
  # The 1.0 amp-facebook script registers all amp-facebook-* components.
  # See https://github.com/ampproject/amphtml/pull/35395 for context.
  spec_name: "amp-facebook 1.0"
  satisfies: "amp-facebook 1.0"
  excludes: "amp-facebook 0.1"
  excludes: "amp-facebook-comments 0.1"
  excludes: "amp-facebook-like 0.1"
  excludes: "amp-facebook-page 0.1"
  extension_spec: {
    name: "amp-facebook"
    version_name: "v1.0"
    version: "1.0"
    bento_supported_version: "1.0"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # amp-facebook 0.1 and latest
  html_format: AMP
  tag_name: "SCRIPT"
  satisfies: "amp-facebook 0.1"
  excludes: "amp-facebook 1.0"
  extension_spec: {
    name: "amp-facebook"
    version_name: "v0.1"
    version: "0.1"
    version: "latest"
    requires_usage: EXEMPTED
    deprecated_allow_duplicates: true
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-facebook>
  html_format: AMP
  tag_name: "AMP-FACEBOOK"
  requires_extension: "amp-facebook"
  attr_lists: "amp-facebook"
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # <amp-facebook-comments> via amp-facebook script
  html_format: AMP
  spec_name: "amp-facebook-comments 1.0"
  tag_name: "AMP-FACEBOOK-COMMENTS"
  requires_extension: "amp-facebook"
  requires: "amp-facebook 1.0"
  attr_lists: "amp-facebook"
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # <amp-facebook-like> via amp-facebook script
  html_format: AMP
  spec_name: "amp-facebook-like 1.0"
  tag_name: "AMP-FACEBOOK-LIKE"
  requires_extension: "amp-facebook"
  requires: "amp-facebook 1.0"
  attr_lists: "amp-facebook-strict"
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # <amp-facebook-page> via amp-facebook script
  html_format: AMP
  spec_name: "amp-facebook-page 1.0"
  tag_name: "AMP-FACEBOOK-PAGE"
  requires_extension: "amp-facebook"
  requires: "amp-facebook 1.0"
  attr_lists: "amp-facebook-strict"
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
attr_lists: {
  name: "amp-facebook"
  # data-* is generally allowed, but it's not generally mandatory.
  attrs: {
    name: "data-href"
    mandatory: true
  }
}
attr_lists: {
  name: "amp-facebook-strict"
  # data-* is generally allowed, but it's not generally mandatory.
  attrs: {
    name: "data-href"
    mandatory: true
    value_url: {
      protocol: "http"
      protocol: "https"
      allow_relative: false
    }
  }
}
tags: {  # amp-timeago
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-timeago"
    version: "0.1"
    version: "1.0"
    version: "latest"
    bento_supported_version: "1.0"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # amp-timeago
  html_format: AMP4EMAIL
  tag_name: "SCRIPT"
  spec_name: "SCRIPT[custom-element=amp-timeago] (AMP4EMAIL)"
  extension_spec: {
    name: "amp-timeago"
    # AMP4EMAIL doesn't allow version: "latest".
    version: "0.1"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-timeago>
  html_format: AMP
  html_format: AMP4EMAIL
  tag_name: "AMP-TIMEAGO"
  requires_extension: "amp-timeago"
  attrs: {
    name: "cutoff"
    value_regex: "\\d+"
  }
  attrs: {
    name: "datetime"
    mandatory: true
    # Regex: \d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d(:[0-5]\d(\.\d+)?)?(Z|[+-][0-1][0-9]:[0-5][0-9])
    # Values such as: 2017-04-11T00:37:33.809Z
    value_regex: "\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d(:[0-5]\\d(\\.\\d+)?)?(Z|[+-][0-1][0-9]:[0-5][0-9])"
  }
  attrs: { name: "locale" }
  # <amp-bind>
  attrs: { name: "[datetime]" }
  attrs: { name: "[title]" }
  attr_lists: "extended-amp-global"
  spec_url: "https://amp.dev/documentation/components/amp-timeago/"
  amp_layout: {
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-youtube 1.0
  html_format: AMP
  tag_name: "SCRIPT"
  satisfies: "amp-youtube 1.0"
  excludes: "amp-youtube 0.1"
  extension_spec: {
    name: "amp-youtube"
    version_name: "v1.0"
    version: "1.0"
    bento_supported_version: "1.0"
  }
  attr_lists: "common-extension-attrs"
}

tags: {  # amp-youtube 0.1 and latest
  html_format: AMP
  tag_name: "SCRIPT"
  satisfies: "amp-youtube 0.1"
  excludes: "amp-youtube 1.0"
  extension_spec: {
    name: "amp-youtube"
    version_name: "v0.1"
    version: "0.1"
    version: "latest"
    requires_usage: EXEMPTED
    deprecated_allow_duplicates: true
  }
  attr_lists: "common-extension-attrs"
}

tags: {  # <amp-youtube>
  html_format: AMP
  tag_name: "AMP-YOUTUBE"
  requires_extension: "amp-youtube"
  attrs: { name: "autoplay" }
  attrs: { name: "loop" }
  attrs: {
    name: "credentials"
    value_casei: "include"
    value_casei: "omit"
  }
  attrs: {
    name: "data-live-channelid"
    mandatory_oneof: "['data-live-channelid', 'data-videoid']"
    value_regex: "[^=/?:]+"
  }
  attrs: {
    name: "data-videoid"
    mandatory_oneof: "['data-live-channelid', 'data-videoid']"
    value_regex: "[^=/?:]+"
  }
  attrs: {
    name: "dock"
    requires_extension: "amp-video-docking"
  }
  # <amp-bind>
  attrs: { name: "[data-videoid]" }
  attr_lists: "extended-amp-global"
  attr_lists: "lightboxable-elements"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-next-page
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-next-page"
    version: "0.1"
    version: "1.0"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # amp-next-page: JSON Config
  html_format: AMP
  tag_name: "SCRIPT"
  spec_name: "AMP-NEXT-PAGE > SCRIPT[type=application/json]"
  requires_extension: "amp-next-page"
  mandatory_parent: "AMP-NEXT-PAGE"
  attrs: {
    name: "type"
    mandatory: true
    value_casei: "application/json"
    dispatch_key: NAME_VALUE_PARENT_DISPATCH
  }
  spec_url: "https://amp.dev/documentation/components/amp-next-page/"
}
tags: {
  html_format: AMP
  tag_name: "$REFERENCE_POINT"
  spec_name: "AMP-NEXT-PAGE > [separator]"
  descriptive_name : "amp-next-page [separator] child"
  mandatory_parent: "AMP-NEXT-PAGE"
  attrs: {
    name: "separator"
    mandatory: true
  }
}
tags: {
  html_format: AMP
  tag_name: "$REFERENCE_POINT"
  spec_name: "AMP-NEXT-PAGE > [recommendation-box]"
  descriptive_name : "amp-next-page [recommendation-box] child"
  mandatory_parent: "AMP-NEXT-PAGE"
  attrs: {
    name: "recommendation-box"
    mandatory: true
  }
}
tags: {
  html_format: AMP
  tag_name: "$REFERENCE_POINT"
  spec_name: "AMP-NEXT-PAGE > [footer]"
  descriptive_name : "amp-next-page [footer] child"
  mandatory_parent: "AMP-NEXT-PAGE"
  attrs: {
    name: "footer"
    mandatory: true
  }
}
tags: {  # <amp-next-page>
  html_format: AMP
  tag_name: "AMP-NEXT-PAGE"
  spec_name: "amp-next-page with inline config"
  unique: true
  requires_extension: "amp-next-page"
  ### TODO(wassgha) Uncomment after deprecating 0.1
  # mandatory_parent: "BODY"
  # mandatory_last_child: true
  attrs: { name: "deep-parsing" }
  attrs: { name: "max-pages" }
  reference_points: {
    tag_spec_name: "AMP-NEXT-PAGE > [separator]"
    unique: true
  }
  reference_points: {
    tag_spec_name: "AMP-NEXT-PAGE > [recommendation-box]"
    unique: true
  }
  reference_points: {
    tag_spec_name: "AMP-NEXT-PAGE > [footer]"
    unique: true
  }
  reference_points: {
    tag_spec_name: "AMP-NEXT-PAGE > SCRIPT[type=application/json]"
    mandatory: true
    unique: true
  }
  spec_url: "https://amp.dev/documentation/components/amp-next-page/"
}
tags: {  # <amp-next-page src>
  html_format: AMP
  tag_name: "AMP-NEXT-PAGE"
  spec_name: "amp-next-page with src attribute"
  unique: true
  requires_extension: "amp-next-page"
  ### TODO(wassgha) Uncomment after deprecating 0.1
  # mandatory_parent: "BODY"
  # mandatory_last_child: true
  attrs: { name: "deep-parsing" }
  attrs: { name: "max-pages" }
  attrs: {
    name: "src"
    mandatory: true
    value_url: {
      protocol: "https"
      allow_relative: false
    }
    disallowed_value_regex: "__amp_source_origin"
  }
  attrs: { name: "xssi-prefix" }
  reference_points: {
    tag_spec_name: "AMP-NEXT-PAGE > [separator]"
    unique: true
  }
  reference_points: {
    tag_spec_name: "AMP-NEXT-PAGE > [recommendation-box]"
    unique: true
  }
  reference_points: {
    tag_spec_name: "AMP-NEXT-PAGE > [footer]"
    unique: true
  }
  reference_points: {
    tag_spec_name: "AMP-NEXT-PAGE > SCRIPT[type=application/json]"
    unique: true
  }
  spec_url: "https://amp.dev/documentation/components/amp-next-page/"
}
tags: {  # <amp-next-page type="adsense">
  html_format: AMP
  tag_name: "AMP-NEXT-PAGE"
  spec_name: "amp-next-page [type=adsense]"
  unique: true
  requires_extension: "amp-next-page"
  ### TODO(wassgha) Uncomment after deprecating 0.1
  # mandatory_parent: "BODY"
  # mandatory_last_child: true
  attrs: {
    name: "data-client"
    mandatory: true
  }
  attrs: {
    name: "data-slot"
    mandatory: true
  }
  attrs: { name: "deep-parsing" }
  attrs: { name: "max-pages" }
  attrs: {
    name: "type"
    mandatory: true
    value: "adsense"
  }
  reference_points: {
    tag_spec_name: "AMP-NEXT-PAGE > [separator]"
    unique: true
  }
  reference_points: {
    tag_spec_name: "AMP-NEXT-PAGE > [recommendation-box]"
    unique: true
  }
  reference_points: {
    tag_spec_name: "AMP-NEXT-PAGE > [footer]"
    unique: true
  }
  reference_points: {
    tag_spec_name: "AMP-NEXT-PAGE > SCRIPT[type=application/json]"
    unique: true
  }
  spec_url: "https://amp.dev/documentation/components/amp-next-page/"
}
tags: {  # amp-iframely
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-iframely"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-iframely>
  html_format: AMP
  tag_name: "AMP-IFRAMELY"
  requires_extension: "amp-iframely"
  # either data-id
  attrs: {  # iframely generated ID of a widget
    name: "data-id"
    mandatory_oneof: "['data-id', 'data-url']"
  }
  attrs: { # iframe url to build widget from
    name: "data-url"
    mandatory_oneof: "['data-id', 'data-url']"
    trigger: {
      also_requires_attr: "data-key"
    }
  }
  attrs: { name: "data-key" } # iframely key hash

  # optional attributes
  attrs: { name: "data-img" value: "" }
  attrs: {
    name: "data-border"
    value_regex: "(\\d+)"
  }
  attrs: {
    name: "data-domain"
    value_regex: "^((?:[^\\.\\/]+\\.)?iframe\\.ly|if\\-cdn\\.com|iframely\\.net|oembed\\.vice\\.com|iframe\\.nbcnews\\.com)$"
  }
  attrs: { name: "resizable" value: "" }
  # data-* attributes are converted into options
  # for building iframely widget from url
  attr_lists: "extended-amp-global"
  spec_url: "https://amp.dev/documentation/components/amp-iframely"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: RESPONSIVE
    supported_layouts: INTRINSIC
  }
}
tags: {  # amp-bodymovin-animation
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-bodymovin-animation"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-bodymovin-animation>
  html_format: AMP
  tag_name: "AMP-BODYMOVIN-ANIMATION"
  requires_extension: "amp-bodymovin-animation"

  attrs: {
    name: "loop"
    value_regex_casei: "[1-9][0-9]*|false|true"
  }
  attrs: {
    name: "noautoplay"
    value: ""
  }
  attrs: {
    name: "src"
    mandatory: true
    value_url: {
      protocol: "https"
      allow_relative: false
    }
  }
  attrs: {
    name: "renderer"
    value_casei: "canvas"
    value_casei: "html"
    value_casei: "svg"
  }
  spec_url: "https://amp.dev/documentation/components/amp-bodymovin-animation/"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-facebook-comments
  html_format: AMP
  tag_name: "SCRIPT"
  satisfies: "amp-facebook-comments 0.1"
  excludes: "amp-facebook 1.0"
  extension_spec: {
    name: "amp-facebook-comments"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-facebook-comments>
  html_format: AMP
  tag_name: "AMP-FACEBOOK-COMMENTS"
  requires_extension: "amp-facebook-comments"
  requires: "amp-facebook-comments 0.1"
  # The amp-facebook attr_list is defined in the amp-facebook protoascii
  attr_lists: "amp-facebook"
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-audio 1.0
  html_format: AMP
  tag_name: "SCRIPT"
  satisfies: "amp-audio 1.0"
  excludes: "amp-audio 0.1"
  extension_spec: {
    name: "amp-audio"
    version_name: "v1.0"
    version: "1.0"
    bento_supported_version: "1.0"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # amp-audio 0.1
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "SCRIPT"
  satisfies: "amp-audio 0.1"
  excludes: "amp-audio 1.0"
  extension_spec: {
    name: "amp-audio"
    version_name: "v0.1"
    version: "0.1"
    version: "latest"
    deprecated_allow_duplicates: true
    requires_usage: EXEMPTED
  }
  attr_lists: "common-extension-attrs"
}
attr_lists: { # amp-audio attributes that are common to both AMP and A4A format.
  name: "amp-audio-common"
  attrs: { name: "album" }
  attrs: { name: "artist" }
  attrs: { name: "artwork" }
  attrs: { name: "controls" }
  attrs: { name: "controlslist" }
  attrs: { name: "loop"  value: "" }
  attrs: { name: "muted" value: "" }
  attrs: {
    name: "src"
    value_url: {
      protocol: "https"
      allow_relative: true  # Will be set to false at a future date.
    }
    disallowed_value_regex: "__amp_source_origin"
  }
  # <amp-bind>
  attrs: { name: "[album]" }
  attrs: { name: "[artist]" }
  attrs: { name: "[artwork]" }
  attrs: { name: "[controlslist]" }
  attrs: { name: "[loop]" }
  attrs: { name: "[src]" }
  attrs: { name: "[title]" }
}
tags: {  # <amp-audio> for AMP (autoplay attribute allowed)
  html_format: AMP
  tag_name: "AMP-AUDIO"
  # There is an alternate spec for amp-video in amp-story.
  disallowed_ancestor: "AMP-STORY"
  requires_extension: "amp-audio"
  attrs: {
    name: "autoplay"
    value: ""
  }
  attrs: {
    name: "preload"
    value_casei: "auto"
    value_casei: "metadata"
    value_casei: "none"
  }
  attr_lists: "amp-audio-common"
  attr_lists: "extended-amp-global"
  spec_url: "https://amp.dev/documentation/components/amp-audio/"
  amp_layout {
    defines_default_height: true
    # TODO(johannes): in the longer run, defines_default_width should
    # be false, to make it a fixed height layout per default, rather
    # than a fixed one.
    defines_default_width: true
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: CONTAINER
    supported_layouts: NODISPLAY
  }
}
tags: {  # <amp-audio> for AMP, amp-story (autoplay attribute mandatory)
  html_format: AMP
  tag_name: "AMP-AUDIO"
  spec_name: "amp-story >> amp-audio"
  mandatory_ancestor: "AMP-STORY"
  requires_extension: "amp-audio"
  attrs: {
    name: "autoplay"
    value: ""
    mandatory: true
  }
  attr_lists: "amp-audio-common"
  attr_lists: "extended-amp-global"
  spec_url: "https://amp.dev/documentation/components/amp-audio/"
  amp_layout {
    supported_layouts: NODISPLAY
  }
}

tags: {  # <amp-audio> for A4A (autoplay attribute disallowed)
  html_format: AMP4ADS
  tag_name: "AMP-AUDIO"
  spec_name: "amp-audio (A4A)"
  requires_extension: "amp-audio"
  attr_lists: "amp-audio-common"
  attr_lists: "extended-amp-global"
  spec_url: "https://amp.dev/documentation/components/amp-audio/"
  amp_layout {
    defines_default_height: true
    defines_default_width: true
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: NODISPLAY
  }
}
tags: {  # amp-access-scroll
  html_format: AMP
  tag_name: "SCRIPT"
  requires_extension: "amp-access"
  extension_spec: {
    name: "amp-access-scroll"
    version: "0.1"
    version: "latest"
    requires_usage: NONE
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # amp-gfycat
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-gfycat"
    version: "0.1"
    version: "latest"
    requires_usage: EXEMPTED
    deprecated_allow_duplicates: true
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-gfycat>
  html_format: AMP
  tag_name: "AMP-GFYCAT"
  requires_extension: "amp-gfycat"
  attrs: {
    name: "data-gfyid"
    mandatory: true
  }
  attrs: {
    name: "noautoplay"
    value: ""
  }
  attr_lists: "extended-amp-global"
  spec_url: "https://amp.dev/documentation/components/amp-gfycat/"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-mathml 1.0
  html_format: AMP
  tag_name: "SCRIPT"
  satisfies: "amp-mathml 1.0"
  excludes: "amp-mathml 0.1"
  extension_spec: {
    name: "amp-mathml"
    version_name: "v1.0"
    version: "1.0"
    bento_supported_version: "1.0"
  }
  attr_lists: "common-extension-attrs"
}

tags: {  # amp-mathml 0.1
  html_format: AMP
  tag_name: "SCRIPT"
  satisfies: "amp-mathml 0.1"
  excludes: "amp-mathml 1.0"
  extension_spec: {
    name: "amp-mathml"
    version: "0.1"
    version: "latest"
    version_name: "v0.1"
  }
  attr_lists: "common-extension-attrs"
}

tags: {  # <amp-mathml>
  html_format: AMP
  tag_name: "AMP-MATHML"
  requires_extension: "amp-mathml"
  attrs: {
    name: "data-formula"
    mandatory: true
  }
  attrs: {
    name: "inline"
  }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: CONTAINER
  }
}
# Specific script tags for custom elements and runtime imports.
tags: {  # amp-analytics
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-analytics"
    version: "0.1"
    version: "latest"
    requires_usage: EXEMPTED
    deprecated_allow_duplicates: true
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # amp-analytics (json)
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "SCRIPT"
  spec_name: "amp-analytics extension .json script"
  descriptive_name: "amp-analytics extension .json script"
  requires_extension: "amp-analytics"
  mandatory_parent: "AMP-ANALYTICS"
  attrs: {
    name: "type"
    mandatory: true
    value_casei: "application/json"
    dispatch_key: NAME_VALUE_PARENT_DISPATCH
  }
  attr_lists: "nonce-attr"
  cdata: {
    disallowed_cdata_regex: {
      regex: "<!--"
      error_message: "html comments"
    }
  }
  spec_url: "https://amp.dev/documentation/components/amp-analytics/"
}
tags: {  # <amp-analytics>
  html_format: AMP
  html_format: AMP4ADS
  tag_name: "AMP-ANALYTICS"
  requires_extension: "amp-analytics"
  attrs: {
    name: "config"
    value_url: {
      protocol: "https"
      allow_relative: true  # Will be set to false at a future date.
      allow_empty: true
    }
    disallowed_value_regex: "__amp_source_origin"
  }
  attrs: { name: "type" }
  spec_url: "https://amp.dev/documentation/components/amp-analytics/"
}
tags: {  # amp-recaptcha-input
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-recaptcha-input"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-form> <amp-recaptcha-input>
  html_format: AMP
  tag_name: "AMP-RECAPTCHA-INPUT"
  mandatory_ancestor: "FORM"
  requires_extension: "amp-form"
  requires_extension: "amp-recaptcha-input"
  attrs: {
    name: "data-sitekey"
    mandatory: true
  }
  attrs: {
    name: "data-action"
    mandatory: true
  }
  attr_lists: "mandatory-name-attr"
  amp_layout: {
    supported_layouts: NODISPLAY
  }
}
tags: {  # amp-gwd-animation
  html_format: AMP4ADS
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-gwd-animation"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-gwd-animation>
  html_format: AMP4ADS
  tag_name: "AMP-GWD-ANIMATION"
  requires_extension: "amp-gwd-animation"
  attrs: { name: "timeline-event-prefix" }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: NODISPLAY
  }
}
tags: {  # amp-google-read-aloud-player
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-google-read-aloud-player"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-google-read-aloud-player>
  html_format: AMP
  tag_name: "AMP-GOOGLE-READ-ALOUD-PLAYER"
  requires_extension: "amp-google-read-aloud-player"
  attrs: {
    name: "data-api-key"
    mandatory: true
  }
  attrs: {
    name: "data-tracking-ids"
    mandatory: true;
    value_regex_casei: "^UA-\\d+-\\d+(\\s*,\\s*UA-\\d+-\\d+)*$";
  }
  attrs: {
    name: "data-voice"
    mandatory: true;
  }
  attrs: {
    name: "data-url"
    value_url {
      protocol: 'https';
      allow_relative: false;
    }
  }
  attrs: {
    name: "data-speakable"
    value: ""
  }
  attrs: {
    name: "data-call-to-action-label"
  }
  attrs: {
    name: "data-locale"
    value_regex_casei: "[a-z]{2}";
  }
  attrs: {
    name: "data-intro"
    value_url {
      protocol: 'https';
      allow_relative: false;
    }
  }
  attrs: {
    name: "data-outro"
    value_url {
      protocol: 'https';
      allow_relative: false;
    }
  }
  attrs: {
    name: "data-ad-tag-url"
    value_url {
      protocol: 'https';
      allow_relative: false;
    }
  }
  spec_url: "https://amp.dev/documentation/components/amp-google-read-aloud-player"
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
  }
}
tags: {  # amp-instagram 1.0
  html_format: AMP
  tag_name: "SCRIPT"
  satisfies: "amp-instagram 1.0"
  excludes: "amp-instagram 0.1"
  extension_spec: {
    name: "amp-instagram"
    version_name: "v1.0"
    version: "1.0"
    bento_supported_version: "1.0"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # amp-instagram 0.1 and latest
  html_format: AMP
  tag_name: "SCRIPT"
  satisfies: "amp-instagram 0.1"
  excludes: "amp-instagram 1.0"
  extension_spec: {
    name: "amp-instagram"
    version_name: "v0.1"
    version: "0.1"
    version: "latest"
    requires_usage: EXEMPTED
    deprecated_allow_duplicates: true
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-instagram>
  html_format: AMP
  tag_name: "AMP-INSTAGRAM"
  requires_extension: "amp-instagram"
  attrs: { name: "alt" }
  attrs: {
    name: "data-shortcode"
    mandatory: true
  }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-skimlinks
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-skimlinks"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
  satisfies: "amp-skimlinks"
  excludes: "amp-link-rewriter"
  excludes: "amp-smartlinks"
}

tags: {  # <amp-skimlinks>
  html_format: AMP
  tag_name: "AMP-SKIMLINKS"
  requires_extension: "amp-skimlinks"
  attrs: {
    name: "custom-redirect-domain"
  }
  attrs: {
    name: "custom-tracking-id"
    value_regex_casei: "^.{0,50}$"
  }
  attrs: {
    name: "excluded-domains"
  }
  attrs: {
    name: "link-selector"
  }
  attrs: {
    name: "publisher-code"
    value_regex_casei: "^[0-9]+X[0-9]+$"
    mandatory: true
  }
  attrs: {
    name: "tracking"
    value: "false"
    value: "true"
  }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: NODISPLAY
  }
}
tags: {  # amp-story-360
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-story-360"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-story-360>
  html_format: AMP
  tag_name: "AMP-STORY-360"
  requires_extension: "amp-story-360"
  mandatory_ancestor: "AMP-STORY"
  spec_url: "https://amp.dev/documentation/components/amp-story-360"
  attrs: {
    name: "controls"
    value: "gyroscope"
  }
  attrs: {
    name: "duration"
    value_regex: "([0-9\\.]+)\\s*(s|ms)"
  }
  attrs: {
    name: "heading-end"
    value_regex: "-?\\d+\\.?\\d*"
    trigger: {
      also_requires_attr: "duration"
    }
  }
  attrs: {
    name: "heading-start"
    value_regex: "-?\\d+\\.?\\d*"
  }
  attrs: {
    name: "pitch-end"
    value_regex: "-?\\d+\\.?\\d*"
    trigger: {
      also_requires_attr: "duration"
    }
  }
  attrs: {
    name: "pitch-start"
    value_regex: "-?\\d+\\.?\\d*"
  }
  attrs: {
    name: "scene-heading"
    value_regex: "-?\\d+\\.?\\d*"
  }
  attrs: {
    name: "scene-pitch"
    value_regex: "-?\\d+\\.?\\d*"
  }
  attrs: {
    name: "scene-roll"
    value_regex: "-?\\d+\\.?\\d*"
  }
  attrs: {
    name: "zoom-end"
    value_regex: "\\d+\\.?\\d*"
    trigger: {
      also_requires_attr: "duration"
    }
  }
  attrs: {
    name: "zoom-start"
    value_regex: "\\d+\\.?\\d*"
  }
  child_tags: {
    mandatory_num_child_tags: 1
    child_tag_name_oneof: "AMP-IMG"
    child_tag_name_oneof: "AMP-VIDEO"
  }
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: NODISPLAY
  }
}
tags: {  # amp-google-document-embed
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-google-document-embed"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-google-document-embed>
  html_format: AMP
  tag_name: "AMP-GOOGLE-DOCUMENT-EMBED"
  requires_extension: "amp-google-document-embed"
  attrs: {
    name: "src"
    mandatory: true
    value_url: {
      protocol: "https"
      allow_relative: false
    }
    disallowed_value_regex: "__amp_source_origin"
  }
  # <amp-bind>
  attrs: { name: "[src]" }
  attrs: { name: "[title]" }
  attr_lists: "extended-amp-global"
  spec_url: "https://amp.dev/documentation/components/amp-google-document-embed/"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: INTRINSIC
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-image-slider
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-image-slider"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-image-slider>
  html_format: AMP
  disabled_by: "transformed"
  tag_name: "AMP-IMAGE-SLIDER"
  requires_extension: "amp-image-slider"
  attrs: {
    name: "disable-hint-reappear"
  }
  attrs: {
    name: "initial-slider-position"
    # number between 0 and 1 (inclusive)
    value_regex: "0(\\.[0-9]+)?|1(\\.0+)?"
  }
  attrs: {
    name: "step-size"
    # number between 0 and 1 (inclusive)
    value_regex: "0(\\.[0-9]+)?|1(\\.0+)?"
  }
  attr_lists: "extended-amp-global"
  child_tags: {
    child_tag_name_oneof: "AMP-IMG"
    child_tag_name_oneof: "DIV"
    mandatory_min_num_child_tags: 2
  }
  spec_url: "https://amp.dev/documentation/components/amp-image-slider/"
  amp_layout: {
    supported_layouts: FIXED
    supported_layouts: INTRINSIC
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {  # <amp-image-slider>
  html_format: AMP
  enabled_by: "transformed"
  tag_name: "AMP-IMAGE-SLIDER"
  spec_name: "amp-image-slider (transformed)"
  requires_extension: "amp-image-slider"
  attrs: {
    name: "disable-hint-reappear"
  }
  attrs: {
    name: "initial-slider-position"
    # number between 0 and 1 (inclusive)
    value_regex: "0(\\.[0-9]+)?|1(\\.0+)?"
  }
  attrs: {
    name: "step-size"
    # number between 0 and 1 (inclusive)
    value_regex: "0(\\.[0-9]+)?|1(\\.0+)?"
  }
  attr_lists: "extended-amp-global"
  child_tags: {
    child_tag_name_oneof: "AMP-IMG"
    child_tag_name_oneof: "DIV"
    child_tag_name_oneof: "I-AMPHTML-SIZER"
    mandatory_min_num_child_tags: 2
  }
  spec_url: "https://amp.dev/documentation/components/amp-image-slider/"
  amp_layout: {
    supported_layouts: FIXED
    supported_layouts: INTRINSIC
    supported_layouts: NODISPLAY
    supported_layouts: RESPONSIVE
  }
}
tags: {
  html_format: AMP
  tag_name: "DIV"
  spec_name: "AMP-IMAGE-SLIDER > DIV [first]"
  mandatory_parent: "AMP-IMAGE-SLIDER"
  attrs: {
    name: "first"
    mandatory: true
  }
  spec_url: "https://amp.dev/documentation/components/amp-image-slider/"
}
tags: {
  html_format: AMP
  tag_name: "DIV"
  spec_name: "AMP-IMAGE-SLIDER > DIV [second]"
  mandatory_parent: "AMP-IMAGE-SLIDER"
  attrs: {
    name: "second"
    mandatory: true
  }
  spec_url: "https://amp.dev/documentation/components/amp-image-slider/"
}
tags: {  # amp-3d-gltf
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-3d-gltf"
    version: "0.1"
    version: "latest"
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-3d-gltf>
  html_format: AMP
  tag_name: "AMP-3D-GLTF"
  requires_extension: "amp-3d-gltf"
  attrs: {
    name: "alpha"
    value: "false"
    value: "true"
  }
  attrs: {
    name: "antialiasing"
    value: "false"
    value: "true"
  }
  attrs: {
    name: "autorotate"
    value: "false"
    value: "true"
  }
  attrs: {
    name: "clearcolor"
  }
  attrs: {
    name: "enablezoom"
    value: "false"
    value: "true"
  }
  attrs: {
    name: "maxpixelratio"
    value_regex: "[+-]?(\\d*\\.)?\\d+"
  }
  attrs: {
    name: "src"
    mandatory: true
    value_url: {
      protocol: "https"
    }
  }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-reach-player
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-reach-player"
    version: "0.1"
    version: "latest"
    requires_usage: EXEMPTED
    deprecated_allow_duplicates: true
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # <amp-reach-player>
  html_format: AMP
  tag_name: "AMP-REACH-PLAYER"
  requires_extension: "amp-reach-player"
  attrs: {
    name: "data-embed-id"
    mandatory: true
    # All ids are lowercase, numeric or dashes.
    value_regex: "[0-9a-z-]+"
  }
  attr_lists: "extended-amp-global"
  amp_layout: {
    supported_layouts: FILL
    supported_layouts: FIXED
    supported_layouts: FIXED_HEIGHT
    supported_layouts: FLEX_ITEM
    supported_layouts: RESPONSIVE
  }
}
tags: {  # amp-access
  html_format: AMP
  tag_name: "SCRIPT"
  extension_spec: {
    name: "amp-access"
    version: "0.1"
    version: "latest"
    requires_usage: EXEMPTED
    deprecated_allow_duplicates: true
  }
  attr_lists: "common-extension-attrs"
}
tags: {  # amp-access (json)
  html_format: AMP
  tag_name: "SCRIPT"
  spec_name: "amp-access extension .json script"
  unique: true
  mandatory_parent: "HEAD"
  requires_extension: "amp-access"
  attrs: {
    name: "id"
    mandatory: true
    value: "amp-access"
    dispatch_key: NAME_VALUE_DISPATCH
  }
  attrs: {
    name: "type"
    mandatory: true
    value_casei: "application/json"
  }
  attr_lists: "nonce-attr"
  cdata: {
    disallowed_cdata_regex: {
      regex: "<!--"
      error_message: "html comments"
    }
  }
}
